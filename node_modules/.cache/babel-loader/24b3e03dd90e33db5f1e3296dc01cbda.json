{"ast":null,"code":"function t(t, e) {\n  for (var n = 0; n < e.length; n++) {\n    var r = e[n];\n    r.enumerable = r.enumerable || !1, r.configurable = !0, \"value\" in r && (r.writable = !0), Object.defineProperty(t, r.key, r);\n  }\n}\n\nfunction e(e, n, r) {\n  return n && t(e.prototype, n), r && t(e, r), e;\n}\n\nfunction n() {\n  return (n = Object.assign || function (t) {\n    for (var e = 1; e < arguments.length; e++) {\n      var n = arguments[e];\n\n      for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (t[r] = n[r]);\n    }\n\n    return t;\n  }).apply(this, arguments);\n}\n\nfunction r(t, e) {\n  t.prototype = Object.create(e.prototype), t.prototype.constructor = t, i(t, e);\n}\n\nfunction i(t, e) {\n  return (i = Object.setPrototypeOf || function (t, e) {\n    return t.__proto__ = e, t;\n  })(t, e);\n}\n\nfunction o(t) {\n  if (void 0 === t) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return t;\n}\n\nfunction s(t, e) {\n  (null == e || e > t.length) && (e = t.length);\n\n  for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];\n\n  return r;\n}\n\nfunction a(t, e) {\n  var n = \"undefined\" != typeof Symbol && t[Symbol.iterator] || t[\"@@iterator\"];\n  if (n) return (n = n.call(t)).next.bind(n);\n\n  if (Array.isArray(t) || (n = function (t, e) {\n    if (t) {\n      if (\"string\" == typeof t) return s(t, e);\n      var n = Object.prototype.toString.call(t).slice(8, -1);\n      return \"Object\" === n && t.constructor && (n = t.constructor.name), \"Map\" === n || \"Set\" === n ? Array.from(t) : \"Arguments\" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? s(t, e) : void 0;\n    }\n  }(t)) || e && t && \"number\" == typeof t.length) {\n    n && (t = n);\n    var r = 0;\n    return function () {\n      return r >= t.length ? {\n        done: !0\n      } : {\n        done: !1,\n        value: t[r++]\n      };\n    };\n  }\n\n  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar u,\n    l,\n    c,\n    p,\n    h,\n    f,\n    d = {},\n    _ = [],\n    m = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n\nfunction g(t, e) {\n  for (var n in e) t[n] = e[n];\n\n  return t;\n}\n\nfunction v(t) {\n  var e = t.parentNode;\n  e && e.removeChild(t);\n}\n\nfunction y(t, e, n) {\n  var r,\n      i,\n      o,\n      s = arguments,\n      a = {};\n\n  for (o in e) \"key\" == o ? r = e[o] : \"ref\" == o ? i = e[o] : a[o] = e[o];\n\n  if (arguments.length > 3) for (n = [n], o = 3; o < arguments.length; o++) n.push(s[o]);\n  if (null != n && (a.children = n), \"function\" == typeof t && null != t.defaultProps) for (o in t.defaultProps) void 0 === a[o] && (a[o] = t.defaultProps[o]);\n  return b(t, a, r, i, null);\n}\n\nfunction b(t, e, n, r, i) {\n  var o = {\n    type: t,\n    props: e,\n    key: n,\n    ref: r,\n    __k: null,\n    __: null,\n    __b: 0,\n    __e: null,\n    __d: void 0,\n    __c: null,\n    __h: null,\n    constructor: void 0,\n    __v: null == i ? ++u.__v : i\n  };\n  return null != u.vnode && u.vnode(o), o;\n}\n\nfunction w() {\n  return {\n    current: null\n  };\n}\n\nfunction k(t) {\n  return t.children;\n}\n\nfunction S(t, e) {\n  this.props = t, this.context = e;\n}\n\nfunction C(t, e) {\n  if (null == e) return t.__ ? C(t.__, t.__.__k.indexOf(t) + 1) : null;\n\n  for (var n; e < t.__k.length; e++) if (null != (n = t.__k[e]) && null != n.__e) return n.__e;\n\n  return \"function\" == typeof t.type ? C(t) : null;\n}\n\nfunction P(t) {\n  var e, n;\n\n  if (null != (t = t.__) && null != t.__c) {\n    for (t.__e = t.__c.base = null, e = 0; e < t.__k.length; e++) if (null != (n = t.__k[e]) && null != n.__e) {\n      t.__e = t.__c.base = n.__e;\n      break;\n    }\n\n    return P(t);\n  }\n}\n\nfunction x(t) {\n  (!t.__d && (t.__d = !0) && c.push(t) && !N.__r++ || h !== u.debounceRendering) && ((h = u.debounceRendering) || p)(N);\n}\n\nfunction N() {\n  for (var t; N.__r = c.length;) t = c.sort(function (t, e) {\n    return t.__v.__b - e.__v.__b;\n  }), c = [], t.some(function (t) {\n    var e, n, r, i, o, s;\n    t.__d && (o = (i = (e = t).__v).__e, (s = e.__P) && (n = [], (r = g({}, i)).__v = i.__v + 1, A(s, i, r, e.__n, void 0 !== s.ownerSVGElement, null != i.__h ? [o] : null, n, null == o ? C(i) : o, i.__h), U(n, i), i.__e != o && P(i)));\n  });\n}\n\nfunction E(t, e, n, r, i, o, s, a, u, l) {\n  var c,\n      p,\n      h,\n      f,\n      m,\n      g,\n      v,\n      y = r && r.__k || _,\n      w = y.length;\n\n  for (n.__k = [], c = 0; c < e.length; c++) if (null != (f = n.__k[c] = null == (f = e[c]) || \"boolean\" == typeof f ? null : \"string\" == typeof f || \"number\" == typeof f || \"bigint\" == typeof f ? b(null, f, null, null, f) : Array.isArray(f) ? b(k, {\n    children: f\n  }, null, null, null) : f.__b > 0 ? b(f.type, f.props, f.key, null, f.__v) : f)) {\n    if (f.__ = n, f.__b = n.__b + 1, null === (h = y[c]) || h && f.key == h.key && f.type === h.type) y[c] = void 0;else for (p = 0; p < w; p++) {\n      if ((h = y[p]) && f.key == h.key && f.type === h.type) {\n        y[p] = void 0;\n        break;\n      }\n\n      h = null;\n    }\n    A(t, f, h = h || d, i, o, s, a, u, l), m = f.__e, (p = f.ref) && h.ref != p && (v || (v = []), h.ref && v.push(h.ref, null, f), v.push(p, f.__c || m, f)), null != m ? (null == g && (g = m), \"function\" == typeof f.type && null != f.__k && f.__k === h.__k ? f.__d = u = F(f, u, t) : u = T(t, f, h, y, m, u), l || \"option\" !== n.type ? \"function\" == typeof n.type && (n.__d = u) : t.value = \"\") : u && h.__e == u && u.parentNode != t && (u = C(h));\n  }\n\n  for (n.__e = g, c = w; c--;) null != y[c] && (\"function\" == typeof n.type && null != y[c].__e && y[c].__e == n.__d && (n.__d = C(r, c + 1)), M(y[c], y[c]));\n\n  if (v) for (c = 0; c < v.length; c++) H(v[c], v[++c], v[++c]);\n}\n\nfunction F(t, e, n) {\n  var r, i;\n\n  for (r = 0; r < t.__k.length; r++) (i = t.__k[r]) && (i.__ = t, e = \"function\" == typeof i.type ? F(i, e, n) : T(n, i, i, t.__k, i.__e, e));\n\n  return e;\n}\n\nfunction T(t, e, n, r, i, o) {\n  var s, a, u;\n  if (void 0 !== e.__d) s = e.__d, e.__d = void 0;else if (null == n || i != o || null == i.parentNode) t: if (null == o || o.parentNode !== t) t.appendChild(i), s = null;else {\n    for (a = o, u = 0; (a = a.nextSibling) && u < r.length; u += 2) if (a == i) break t;\n\n    t.insertBefore(i, o), s = o;\n  }\n  return void 0 !== s ? s : i.nextSibling;\n}\n\nfunction D(t, e, n) {\n  \"-\" === e[0] ? t.setProperty(e, n) : t[e] = null == n ? \"\" : \"number\" != typeof n || m.test(e) ? n : n + \"px\";\n}\n\nfunction R(t, e, n, r, i) {\n  var o;\n\n  t: if (\"style\" === e) {\n    if (\"string\" == typeof n) t.style.cssText = n;else {\n      if (\"string\" == typeof r && (t.style.cssText = r = \"\"), r) for (e in r) n && e in n || D(t.style, e, \"\");\n      if (n) for (e in n) r && n[e] === r[e] || D(t.style, e, n[e]);\n    }\n  } else if (\"o\" === e[0] && \"n\" === e[1]) o = e !== (e = e.replace(/Capture$/, \"\")), e = e.toLowerCase() in t ? e.toLowerCase().slice(2) : e.slice(2), t.l || (t.l = {}), t.l[e + o] = n, n ? r || t.addEventListener(e, o ? I : L, o) : t.removeEventListener(e, o ? I : L, o);else if (\"dangerouslySetInnerHTML\" !== e) {\n    if (i) e = e.replace(/xlink[H:h]/, \"h\").replace(/sName$/, \"s\");else if (\"href\" !== e && \"list\" !== e && \"form\" !== e && \"tabIndex\" !== e && \"download\" !== e && e in t) try {\n      t[e] = null == n ? \"\" : n;\n      break t;\n    } catch (t) {}\n    \"function\" == typeof n || (null != n && (!1 !== n || \"a\" === e[0] && \"r\" === e[1]) ? t.setAttribute(e, n) : t.removeAttribute(e));\n  }\n}\n\nfunction L(t) {\n  this.l[t.type + !1](u.event ? u.event(t) : t);\n}\n\nfunction I(t) {\n  this.l[t.type + !0](u.event ? u.event(t) : t);\n}\n\nfunction A(t, e, n, r, i, o, s, a, l) {\n  var c,\n      p,\n      h,\n      f,\n      m,\n      y,\n      b,\n      w,\n      C,\n      P,\n      x,\n      N = e.type;\n  if (void 0 !== e.constructor) return null;\n  null != n.__h && (l = n.__h, a = e.__e = n.__e, e.__h = null, o = [a]), (c = u.__b) && c(e);\n\n  try {\n    t: if (\"function\" == typeof N) {\n      if (w = e.props, C = (c = N.contextType) && r[c.__c], P = c ? C ? C.props.value : c.__ : r, n.__c ? b = (p = e.__c = n.__c).__ = p.__E : (\"prototype\" in N && N.prototype.render ? e.__c = p = new N(w, P) : (e.__c = p = new S(w, P), p.constructor = N, p.render = O), C && C.sub(p), p.props = w, p.state || (p.state = {}), p.context = P, p.__n = r, h = p.__d = !0, p.__h = []), null == p.__s && (p.__s = p.state), null != N.getDerivedStateFromProps && (p.__s == p.state && (p.__s = g({}, p.__s)), g(p.__s, N.getDerivedStateFromProps(w, p.__s))), f = p.props, m = p.state, h) null == N.getDerivedStateFromProps && null != p.componentWillMount && p.componentWillMount(), null != p.componentDidMount && p.__h.push(p.componentDidMount);else {\n        if (null == N.getDerivedStateFromProps && w !== f && null != p.componentWillReceiveProps && p.componentWillReceiveProps(w, P), !p.__e && null != p.shouldComponentUpdate && !1 === p.shouldComponentUpdate(w, p.__s, P) || e.__v === n.__v) {\n          p.props = w, p.state = p.__s, e.__v !== n.__v && (p.__d = !1), p.__v = e, e.__e = n.__e, e.__k = n.__k, e.__k.forEach(function (t) {\n            t && (t.__ = e);\n          }), p.__h.length && s.push(p);\n          break t;\n        }\n\n        null != p.componentWillUpdate && p.componentWillUpdate(w, p.__s, P), null != p.componentDidUpdate && p.__h.push(function () {\n          p.componentDidUpdate(f, m, y);\n        });\n      }\n      p.context = P, p.props = w, p.state = p.__s, (c = u.__r) && c(e), p.__d = !1, p.__v = e, p.__P = t, c = p.render(p.props, p.state, p.context), p.state = p.__s, null != p.getChildContext && (r = g(g({}, r), p.getChildContext())), h || null == p.getSnapshotBeforeUpdate || (y = p.getSnapshotBeforeUpdate(f, m)), x = null != c && c.type === k && null == c.key ? c.props.children : c, E(t, Array.isArray(x) ? x : [x], e, n, r, i, o, s, a, l), p.base = e.__e, e.__h = null, p.__h.length && s.push(p), b && (p.__E = p.__ = null), p.__e = !1;\n    } else null == o && e.__v === n.__v ? (e.__k = n.__k, e.__e = n.__e) : e.__e = function (t, e, n, r, i, o, s, a) {\n      var u,\n          l,\n          c,\n          p,\n          h = n.props,\n          f = e.props,\n          m = e.type,\n          g = 0;\n      if (\"svg\" === m && (i = !0), null != o) for (; g < o.length; g++) if ((u = o[g]) && (u === t || (m ? u.localName == m : 3 == u.nodeType))) {\n        t = u, o[g] = null;\n        break;\n      }\n\n      if (null == t) {\n        if (null === m) return document.createTextNode(f);\n        t = i ? document.createElementNS(\"http://www.w3.org/2000/svg\", m) : document.createElement(m, f.is && f), o = null, a = !1;\n      }\n\n      if (null === m) h === f || a && t.data === f || (t.data = f);else {\n        if (o = o && _.slice.call(t.childNodes), l = (h = n.props || d).dangerouslySetInnerHTML, c = f.dangerouslySetInnerHTML, !a) {\n          if (null != o) for (h = {}, p = 0; p < t.attributes.length; p++) h[t.attributes[p].name] = t.attributes[p].value;\n          (c || l) && (c && (l && c.__html == l.__html || c.__html === t.innerHTML) || (t.innerHTML = c && c.__html || \"\"));\n        }\n\n        if (function (t, e, n, r, i) {\n          var o;\n\n          for (o in n) \"children\" === o || \"key\" === o || o in e || R(t, o, null, n[o], r);\n\n          for (o in e) i && \"function\" != typeof e[o] || \"children\" === o || \"key\" === o || \"value\" === o || \"checked\" === o || n[o] === e[o] || R(t, o, e[o], n[o], r);\n        }(t, f, h, i, a), c) e.__k = [];else if (g = e.props.children, E(t, Array.isArray(g) ? g : [g], e, n, r, i && \"foreignObject\" !== m, o, s, t.firstChild, a), null != o) for (g = o.length; g--;) null != o[g] && v(o[g]);\n        a || (\"value\" in f && void 0 !== (g = f.value) && (g !== t.value || \"progress\" === m && !g) && R(t, \"value\", g, h.value, !1), \"checked\" in f && void 0 !== (g = f.checked) && g !== t.checked && R(t, \"checked\", g, h.checked, !1));\n      }\n      return t;\n    }(n.__e, e, n, r, i, o, s, l);\n\n    (c = u.diffed) && c(e);\n  } catch (t) {\n    e.__v = null, (l || null != o) && (e.__e = a, e.__h = !!l, o[o.indexOf(a)] = null), u.__e(t, e, n);\n  }\n}\n\nfunction U(t, e) {\n  u.__c && u.__c(e, t), t.some(function (e) {\n    try {\n      t = e.__h, e.__h = [], t.some(function (t) {\n        t.call(e);\n      });\n    } catch (t) {\n      u.__e(t, e.__v);\n    }\n  });\n}\n\nfunction H(t, e, n) {\n  try {\n    \"function\" == typeof t ? t(e) : t.current = e;\n  } catch (t) {\n    u.__e(t, n);\n  }\n}\n\nfunction M(t, e, n) {\n  var r, i, o;\n\n  if (u.unmount && u.unmount(t), (r = t.ref) && (r.current && r.current !== t.__e || H(r, null, e)), n || \"function\" == typeof t.type || (n = null != (i = t.__e)), t.__e = t.__d = void 0, null != (r = t.__c)) {\n    if (r.componentWillUnmount) try {\n      r.componentWillUnmount();\n    } catch (t) {\n      u.__e(t, e);\n    }\n    r.base = r.__P = null;\n  }\n\n  if (r = t.__k) for (o = 0; o < r.length; o++) r[o] && M(r[o], e, n);\n  null != i && v(i);\n}\n\nfunction O(t, e, n) {\n  return this.constructor(t, n);\n}\n\nfunction j(t, e, n) {\n  var r, i, o;\n  u.__ && u.__(t, e), i = (r = \"function\" == typeof n) ? null : n && n.__k || e.__k, o = [], A(e, t = (!r && n || e).__k = y(k, null, [t]), i || d, d, void 0 !== e.ownerSVGElement, !r && n ? [n] : i ? null : e.firstChild ? _.slice.call(e.childNodes) : null, o, !r && n ? n : i ? i.__e : e.firstChild, r), U(o, t);\n}\n\nfunction W() {\n  return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (t) {\n    var e = 16 * Math.random() | 0;\n    return (\"x\" == t ? e : 3 & e | 8).toString(16);\n  });\n}\n\nu = {\n  __e: function (t, e) {\n    for (var n, r, i; e = e.__;) if ((n = e.__c) && !n.__) try {\n      if ((r = n.constructor) && null != r.getDerivedStateFromError && (n.setState(r.getDerivedStateFromError(t)), i = n.__d), null != n.componentDidCatch && (n.componentDidCatch(t), i = n.__d), i) return n.__E = n;\n    } catch (e) {\n      t = e;\n    }\n\n    throw t;\n  },\n  __v: 0\n}, l = function (t) {\n  return null != t && void 0 === t.constructor;\n}, S.prototype.setState = function (t, e) {\n  var n;\n  n = null != this.__s && this.__s !== this.state ? this.__s : this.__s = g({}, this.state), \"function\" == typeof t && (t = t(g({}, n), this.props)), t && g(n, t), null != t && this.__v && (e && this.__h.push(e), x(this));\n}, S.prototype.forceUpdate = function (t) {\n  this.__v && (this.__e = !0, t && this.__h.push(t), x(this));\n}, S.prototype.render = k, c = [], p = \"function\" == typeof Promise ? Promise.prototype.then.bind(Promise.resolve()) : setTimeout, N.__r = 0, f = 0;\n\nvar B = function () {\n  function t(t) {\n    this._id = void 0, this._id = t || W();\n  }\n\n  return e(t, [{\n    key: \"id\",\n    get: function () {\n      return this._id;\n    }\n  }]), t;\n}(),\n    z = {\n  search: {\n    placeholder: \"Type a keyword...\"\n  },\n  sort: {\n    sortAsc: \"Sort column ascending\",\n    sortDesc: \"Sort column descending\"\n  },\n  pagination: {\n    previous: \"Previous\",\n    next: \"Next\",\n    navigate: function (t, e) {\n      return \"Page \" + t + \" of \" + e;\n    },\n    page: function (t) {\n      return \"Page \" + t;\n    },\n    showing: \"Showing\",\n    of: \"of\",\n    to: \"to\",\n    results: \"results\"\n  },\n  loading: \"Loading...\",\n  noRecordsFound: \"No matching records found\",\n  error: \"An error happened while fetching the data\"\n},\n    q = function () {\n  function t(t) {\n    this._language = void 0, this._defaultLanguage = void 0, this._language = t, this._defaultLanguage = z;\n  }\n\n  var e = t.prototype;\n  return e.getString = function (t, e) {\n    if (!e || !t) return null;\n    var n = t.split(\".\"),\n        r = n[0];\n\n    if (e[r]) {\n      var i = e[r];\n      return \"string\" == typeof i ? function () {\n        return i;\n      } : \"function\" == typeof i ? i : this.getString(n.slice(1).join(\".\"), i);\n    }\n\n    return null;\n  }, e.translate = function (t) {\n    var e,\n        n = this.getString(t, this._language);\n    return (e = n || this.getString(t, this._defaultLanguage)) ? e.apply(void 0, [].slice.call(arguments, 1)) : t;\n  }, t;\n}(),\n    G = function (t) {\n  function e(e, n) {\n    var r, i;\n    return (r = t.call(this, e, n) || this).config = void 0, r._ = void 0, r.config = function (t) {\n      if (!t) return null;\n      var e = Object.keys(t);\n      return e.length ? t[e[0]].props.value : null;\n    }(n), r.config && (r._ = (i = r.config.translator, function (t) {\n      return i.translate.apply(i, [t].concat([].slice.call(arguments, 1)));\n    })), r;\n  }\n\n  return r(e, t), e;\n}(S),\n    X = function (t) {\n  function e() {\n    return t.apply(this, arguments) || this;\n  }\n\n  return r(e, t), e.prototype.render = function () {\n    return y(this.props.parentElement, {\n      dangerouslySetInnerHTML: {\n        __html: this.props.content\n      }\n    });\n  }, e;\n}(G);\n\nfunction $(t, e) {\n  return y(X, {\n    content: t,\n    parentElement: e\n  });\n}\n\nX.defaultProps = {\n  parentElement: \"span\"\n};\n\nvar K,\n    V = function (t) {\n  function e(e) {\n    var n;\n    return (n = t.call(this) || this).data = void 0, n.update(e), n;\n  }\n\n  r(e, t);\n  var n = e.prototype;\n  return n.cast = function (t) {\n    return t instanceof HTMLElement ? $(t.outerHTML) : t;\n  }, n.update = function (t) {\n    return this.data = this.cast(t), this;\n  }, e;\n}(B),\n    Y = function (t) {\n  function n(e) {\n    var n;\n    return (n = t.call(this) || this)._cells = void 0, n.cells = e || [], n;\n  }\n\n  r(n, t);\n  var i = n.prototype;\n  return i.cell = function (t) {\n    return this._cells[t];\n  }, i.toArray = function () {\n    return this.cells.map(function (t) {\n      return t.data;\n    });\n  }, n.fromCells = function (t) {\n    return new n(t.map(function (t) {\n      return new V(t.data);\n    }));\n  }, e(n, [{\n    key: \"cells\",\n    get: function () {\n      return this._cells;\n    },\n    set: function (t) {\n      this._cells = t;\n    }\n  }, {\n    key: \"length\",\n    get: function () {\n      return this.cells.length;\n    }\n  }]), n;\n}(B),\n    Z = function (t) {\n  function n(e) {\n    var n;\n    return (n = t.call(this) || this)._rows = void 0, n._length = void 0, n.rows = e instanceof Array ? e : e instanceof Y ? [e] : [], n;\n  }\n\n  return r(n, t), n.prototype.toArray = function () {\n    return this.rows.map(function (t) {\n      return t.toArray();\n    });\n  }, n.fromRows = function (t) {\n    return new n(t.map(function (t) {\n      return Y.fromCells(t.cells);\n    }));\n  }, n.fromArray = function (t) {\n    return new n((t = function (t) {\n      return !t[0] || t[0] instanceof Array ? t : [t];\n    }(t)).map(function (t) {\n      return new Y(t.map(function (t) {\n        return new V(t);\n      }));\n    }));\n  }, e(n, [{\n    key: \"rows\",\n    get: function () {\n      return this._rows;\n    },\n    set: function (t) {\n      this._rows = t;\n    }\n  }, {\n    key: \"length\",\n    get: function () {\n      return this._length || this.rows.length;\n    },\n    set: function (t) {\n      this._length = t;\n    }\n  }]), n;\n}(B),\n    J = function () {\n  function t() {\n    this.callbacks = void 0;\n  }\n\n  var e = t.prototype;\n  return e.init = function (t) {\n    this.callbacks || (this.callbacks = {}), t && !this.callbacks[t] && (this.callbacks[t] = []);\n  }, e.on = function (t, e) {\n    return this.init(t), this.callbacks[t].push(e), this;\n  }, e.off = function (t, e) {\n    var n = t;\n    return this.init(), this.callbacks[n] && 0 !== this.callbacks[n].length ? (this.callbacks[n] = this.callbacks[n].filter(function (t) {\n      return t != e;\n    }), this) : this;\n  }, e.emit = function (t) {\n    var e = arguments,\n        n = t;\n    return this.init(n), this.callbacks[n].length > 0 && (this.callbacks[n].forEach(function (t) {\n      return t.apply(void 0, [].slice.call(e, 1));\n    }), !0);\n  }, t;\n}();\n\n!function (t) {\n  t[t.Initiator = 0] = \"Initiator\", t[t.ServerFilter = 1] = \"ServerFilter\", t[t.ServerSort = 2] = \"ServerSort\", t[t.ServerLimit = 3] = \"ServerLimit\", t[t.Extractor = 4] = \"Extractor\", t[t.Transformer = 5] = \"Transformer\", t[t.Filter = 6] = \"Filter\", t[t.Sort = 7] = \"Sort\", t[t.Limit = 8] = \"Limit\";\n}(K || (K = {}));\n\nvar Q = function (t) {\n  function n(e) {\n    var n;\n    return (n = t.call(this) || this).id = void 0, n._props = void 0, n._props = {}, n.id = W(), e && n.setProps(e), n;\n  }\n\n  r(n, t);\n  var i = n.prototype;\n  return i.process = function () {\n    var t = [].slice.call(arguments);\n    this.validateProps instanceof Function && this.validateProps.apply(this, t), this.emit.apply(this, [\"beforeProcess\"].concat(t));\n\n    var e = this._process.apply(this, t);\n\n    return this.emit.apply(this, [\"afterProcess\"].concat(t)), e;\n  }, i.setProps = function (t) {\n    return Object.assign(this._props, t), this.emit(\"propsUpdated\", this), this;\n  }, e(n, [{\n    key: \"props\",\n    get: function () {\n      return this._props;\n    }\n  }]), n;\n}(J),\n    tt = function (t) {\n  function n() {\n    return t.apply(this, arguments) || this;\n  }\n\n  return r(n, t), n.prototype._process = function (t) {\n    return this.props.keyword ? (e = String(this.props.keyword).trim(), n = this.props.columns, r = this.props.ignoreHiddenColumns, i = t, o = this.props.selector, e = e.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\"), new Z(i.rows.filter(function (t, i) {\n      return t.cells.some(function (t, s) {\n        if (!t) return !1;\n        if (r && n && n[s] && \"object\" == typeof n[s] && n[s].hidden) return !1;\n        var a = \"\";\n        if (\"function\" == typeof o) a = o(t.data, i, s);else if (\"object\" == typeof t.data) {\n          var u = t.data;\n          u && u.props && u.props.content && (a = u.props.content);\n        } else a = String(t.data);\n        return new RegExp(e, \"gi\").test(a);\n      });\n    }))) : t;\n    var e, n, r, i, o;\n  }, e(n, [{\n    key: \"type\",\n    get: function () {\n      return K.Filter;\n    }\n  }]), n;\n}(Q);\n\nfunction et() {\n  var t = \"gridjs\";\n  return \"\" + t + [].slice.call(arguments).reduce(function (t, e) {\n    return t + \"-\" + e;\n  }, \"\");\n}\n\nfunction nt() {\n  return [].slice.call(arguments).filter(function (t) {\n    return t;\n  }).reduce(function (t, e) {\n    return (t || \"\") + \" \" + e;\n  }, \"\").trim() || null;\n}\n\nvar rt,\n    it = function (t) {\n  function n(e) {\n    var n;\n    return (n = t.call(this) || this)._state = void 0, n.dispatcher = void 0, n.dispatcher = e, n._state = n.getInitialState(), e.register(n._handle.bind(o(n))), n;\n  }\n\n  r(n, t);\n  var i = n.prototype;\n  return i._handle = function (t) {\n    this.handle(t.type, t.payload);\n  }, i.setState = function (t) {\n    var e = this._state;\n    this._state = t, this.emit(\"updated\", t, e);\n  }, e(n, [{\n    key: \"state\",\n    get: function () {\n      return this._state;\n    }\n  }]), n;\n}(J),\n    ot = function (t) {\n  function e() {\n    return t.apply(this, arguments) || this;\n  }\n\n  r(e, t);\n  var n = e.prototype;\n  return n.getInitialState = function () {\n    return {\n      keyword: null\n    };\n  }, n.handle = function (t, e) {\n    \"SEARCH_KEYWORD\" === t && this.search(e.keyword);\n  }, n.search = function (t) {\n    this.setState({\n      keyword: t\n    });\n  }, e;\n}(it),\n    st = function () {\n  function t(t) {\n    this.dispatcher = void 0, this.dispatcher = t;\n  }\n\n  return t.prototype.dispatch = function (t, e) {\n    this.dispatcher.dispatch({\n      type: t,\n      payload: e\n    });\n  }, t;\n}(),\n    at = function (t) {\n  function e() {\n    return t.apply(this, arguments) || this;\n  }\n\n  return r(e, t), e.prototype.search = function (t) {\n    this.dispatch(\"SEARCH_KEYWORD\", {\n      keyword: t\n    });\n  }, e;\n}(st),\n    ut = function (t) {\n  function i() {\n    return t.apply(this, arguments) || this;\n  }\n\n  return r(i, t), i.prototype._process = function (t) {\n    if (!this.props.keyword) return t;\n    var e = {};\n    return this.props.url && (e.url = this.props.url(t.url, this.props.keyword)), this.props.body && (e.body = this.props.body(t.body, this.props.keyword)), n({}, t, e);\n  }, e(i, [{\n    key: \"type\",\n    get: function () {\n      return K.ServerFilter;\n    }\n  }]), i;\n}(Q),\n    lt = new (function () {\n  function t() {}\n\n  var e = t.prototype;\n  return e.format = function (t, e) {\n    return \"[Grid.js] [\" + e.toUpperCase() + \"]: \" + t;\n  }, e.error = function (t, e) {\n    void 0 === e && (e = !1);\n    var n = this.format(t, \"error\");\n    if (e) throw Error(n);\n    console.error(n);\n  }, e.warn = function (t) {\n    console.warn(this.format(t, \"warn\"));\n  }, e.info = function (t) {\n    console.info(this.format(t, \"info\"));\n  }, t;\n}())(),\n    ct = function (t) {\n  function e() {\n    return t.apply(this, arguments) || this;\n  }\n\n  return r(e, t), e;\n}(G);\n\n!function (t) {\n  t[t.Header = 0] = \"Header\", t[t.Footer = 1] = \"Footer\", t[t.Cell = 2] = \"Cell\";\n}(rt || (rt = {}));\n\nvar pt = function () {\n  function t() {\n    this.plugins = void 0, this.plugins = [];\n  }\n\n  var e = t.prototype;\n  return e.get = function (t) {\n    var e = this.plugins.filter(function (e) {\n      return e.id === t;\n    });\n    return e.length > 0 ? e[0] : null;\n  }, e.add = function (t) {\n    return t.id ? null !== this.get(t.id) ? (lt.error(\"Duplicate plugin ID: \" + t.id), this) : (this.plugins.push(t), this) : (lt.error(\"Plugin ID cannot be empty\"), this);\n  }, e.remove = function (t) {\n    return this.plugins.splice(this.plugins.indexOf(this.get(t)), 1), this;\n  }, e.list = function (t) {\n    return (null != t || null != t ? this.plugins.filter(function (e) {\n      return e.position === t;\n    }) : this.plugins).sort(function (t, e) {\n      return t.order - e.order;\n    });\n  }, t;\n}(),\n    ht = function (t) {\n  function e() {\n    return t.apply(this, arguments) || this;\n  }\n\n  return r(e, t), e.prototype.render = function () {\n    var t = this;\n\n    if (this.props.pluginId) {\n      var e = this.config.plugin.get(this.props.pluginId);\n      return e ? y(k, {}, y(e.component, n({\n        plugin: e\n      }, e.props, this.props.props))) : null;\n    }\n\n    return void 0 !== this.props.position ? y(k, {}, this.config.plugin.list(this.props.position).map(function (e) {\n      return y(e.component, n({\n        plugin: e\n      }, e.props, t.props.props));\n    })) : null;\n  }, e;\n}(G),\n    ft = function (t) {\n  function e(e, n) {\n    var r;\n    (r = t.call(this, e, n) || this).searchProcessor = void 0, r.actions = void 0, r.store = void 0, r.storeUpdatedFn = void 0, r.actions = new at(r.config.dispatcher), r.store = new ot(r.config.dispatcher);\n    var i,\n        s = e.keyword;\n    return e.enabled && (s && r.actions.search(s), r.storeUpdatedFn = r.storeUpdated.bind(o(r)), r.store.on(\"updated\", r.storeUpdatedFn), i = e.server ? new ut({\n      keyword: e.keyword,\n      url: e.server.url,\n      body: e.server.body\n    }) : new tt({\n      keyword: e.keyword,\n      columns: r.config.header && r.config.header.columns,\n      ignoreHiddenColumns: e.ignoreHiddenColumns || void 0 === e.ignoreHiddenColumns,\n      selector: e.selector\n    }), r.searchProcessor = i, r.config.pipeline.register(i)), r;\n  }\n\n  r(e, t);\n  var n = e.prototype;\n  return n.componentWillUnmount = function () {\n    this.config.pipeline.unregister(this.searchProcessor), this.store.off(\"updated\", this.storeUpdatedFn);\n  }, n.storeUpdated = function (t) {\n    this.searchProcessor.setProps({\n      keyword: t.keyword\n    });\n  }, n.onChange = function (t) {\n    this.actions.search(t.target.value);\n  }, n.render = function () {\n    if (!this.props.enabled) return null;\n    var t,\n        e,\n        n,\n        r = this.onChange.bind(this);\n    return this.searchProcessor instanceof ut && (t = r, e = this.props.debounceTimeout, r = function () {\n      var r = arguments;\n      return new Promise(function (i) {\n        n && clearTimeout(n), n = setTimeout(function () {\n          return i(t.apply(void 0, [].slice.call(r)));\n        }, e);\n      });\n    }), y(\"div\", {\n      className: et(nt(\"search\", this.config.className.search))\n    }, y(\"input\", {\n      type: \"search\",\n      placeholder: this._(\"search.placeholder\"),\n      \"aria-label\": this._(\"search.placeholder\"),\n      onInput: r,\n      className: nt(et(\"input\"), et(\"search\", \"input\")),\n      value: this.store.state.keyword\n    }));\n  }, e;\n}(ct);\n\nft.defaultProps = {\n  debounceTimeout: 250\n};\n\nvar dt = function (t) {\n  function n() {\n    return t.apply(this, arguments) || this;\n  }\n\n  r(n, t);\n  var i = n.prototype;\n  return i.validateProps = function () {\n    if (isNaN(Number(this.props.limit)) || isNaN(Number(this.props.page))) throw Error(\"Invalid parameters passed\");\n  }, i._process = function (t) {\n    var e = this.props.page;\n    return new Z(t.rows.slice(e * this.props.limit, (e + 1) * this.props.limit));\n  }, e(n, [{\n    key: \"type\",\n    get: function () {\n      return K.Limit;\n    }\n  }]), n;\n}(Q),\n    _t = function (t) {\n  function i() {\n    return t.apply(this, arguments) || this;\n  }\n\n  return r(i, t), i.prototype._process = function (t) {\n    var e = {};\n    return this.props.url && (e.url = this.props.url(t.url, this.props.page, this.props.limit)), this.props.body && (e.body = this.props.body(t.body, this.props.page, this.props.limit)), n({}, t, e);\n  }, e(i, [{\n    key: \"type\",\n    get: function () {\n      return K.ServerLimit;\n    }\n  }]), i;\n}(Q),\n    mt = function (t) {\n  function n(e, n) {\n    var r;\n    return (r = t.call(this, e, n) || this).processor = void 0, r.onUpdateFn = void 0, r.setTotalFromTabularFn = void 0, r.state = {\n      limit: e.limit,\n      page: e.page || 0,\n      total: 0\n    }, r;\n  }\n\n  r(n, t);\n  var i = n.prototype;\n  return i.componentWillMount = function () {\n    var t,\n        e = this;\n    this.props.enabled && (this.setTotalFromTabularFn = this.setTotalFromTabular.bind(this), this.props.server ? (t = new _t({\n      limit: this.state.limit,\n      page: this.state.page,\n      url: this.props.server.url,\n      body: this.props.server.body\n    }), this.config.pipeline.on(\"afterProcess\", this.setTotalFromTabularFn)) : (t = new dt({\n      limit: this.state.limit,\n      page: this.state.page\n    })).on(\"beforeProcess\", this.setTotalFromTabularFn), this.processor = t, this.config.pipeline.register(t), this.config.pipeline.on(\"error\", function () {\n      e.setState({\n        total: 0,\n        page: 0\n      });\n    }));\n  }, i.setTotalFromTabular = function (t) {\n    this.setTotal(t.length);\n  }, i.onUpdate = function (t) {\n    this.props.resetPageOnUpdate && t !== this.processor && this.setPage(0);\n  }, i.componentDidMount = function () {\n    this.onUpdateFn = this.onUpdate.bind(this), this.config.pipeline.on(\"updated\", this.onUpdateFn);\n  }, i.componentWillUnmount = function () {\n    this.config.pipeline.unregister(this.processor), this.config.pipeline.off(\"updated\", this.onUpdateFn);\n  }, i.setPage = function (t) {\n    if (t >= this.pages || t < 0 || t === this.state.page) return null;\n    this.setState({\n      page: t\n    }), this.processor.setProps({\n      page: t\n    });\n  }, i.setTotal = function (t) {\n    this.setState({\n      total: t\n    });\n  }, i.renderPages = function () {\n    var t = this;\n    if (this.props.buttonsCount <= 0) return null;\n    var e = Math.min(this.pages, this.props.buttonsCount),\n        n = Math.min(this.state.page, Math.floor(e / 2));\n    return this.state.page + Math.floor(e / 2) >= this.pages && (n = e - (this.pages - this.state.page)), y(k, null, this.pages > e && this.state.page - n > 0 && y(k, null, y(\"button\", {\n      tabIndex: 0,\n      role: \"button\",\n      onClick: this.setPage.bind(this, 0),\n      title: this._(\"pagination.firstPage\"),\n      \"aria-label\": this._(\"pagination.firstPage\"),\n      className: this.config.className.paginationButton\n    }, this._(\"1\")), y(\"button\", {\n      tabIndex: -1,\n      className: nt(et(\"spread\"), this.config.className.paginationButton)\n    }, \"...\")), Array.from(Array(e).keys()).map(function (e) {\n      return t.state.page + (e - n);\n    }).map(function (e) {\n      return y(\"button\", {\n        tabIndex: 0,\n        role: \"button\",\n        onClick: t.setPage.bind(t, e),\n        className: nt(t.state.page === e ? nt(et(\"currentPage\"), t.config.className.paginationButtonCurrent) : null, t.config.className.paginationButton),\n        title: t._(\"pagination.page\", e + 1),\n        \"aria-label\": t._(\"pagination.page\", e + 1)\n      }, t._(\"\" + (e + 1)));\n    }), this.pages > e && this.pages > this.state.page + n + 1 && y(k, null, y(\"button\", {\n      tabIndex: -1,\n      className: nt(et(\"spread\"), this.config.className.paginationButton)\n    }, \"...\"), y(\"button\", {\n      tabIndex: 0,\n      role: \"button\",\n      onClick: this.setPage.bind(this, this.pages - 1),\n      title: this._(\"pagination.page\", this.pages),\n      \"aria-label\": this._(\"pagination.page\", this.pages),\n      className: this.config.className.paginationButton\n    }, this._(\"\" + this.pages))));\n  }, i.renderSummary = function () {\n    return y(k, null, this.props.summary && this.state.total > 0 && y(\"div\", {\n      role: \"status\",\n      \"aria-live\": \"polite\",\n      className: nt(et(\"summary\"), this.config.className.paginationSummary),\n      title: this._(\"pagination.navigate\", this.state.page + 1, this.pages)\n    }, this._(\"pagination.showing\"), \" \", y(\"b\", null, this._(\"\" + (this.state.page * this.state.limit + 1))), \" \", this._(\"pagination.to\"), \" \", y(\"b\", null, this._(\"\" + Math.min((this.state.page + 1) * this.state.limit, this.state.total))), \" \", this._(\"pagination.of\"), \" \", y(\"b\", null, this._(\"\" + this.state.total)), \" \", this._(\"pagination.results\")));\n  }, i.render = function () {\n    return this.props.enabled ? y(\"div\", {\n      className: nt(et(\"pagination\"), this.config.className.pagination)\n    }, this.renderSummary(), y(\"div\", {\n      className: et(\"pages\")\n    }, this.props.prevButton && y(\"button\", {\n      tabIndex: 0,\n      role: \"button\",\n      disabled: 0 === this.state.page,\n      onClick: this.setPage.bind(this, this.state.page - 1),\n      title: this._(\"pagination.previous\"),\n      \"aria-label\": this._(\"pagination.previous\"),\n      className: nt(this.config.className.paginationButton, this.config.className.paginationButtonPrev)\n    }, this._(\"pagination.previous\")), this.renderPages(), this.props.nextButton && y(\"button\", {\n      tabIndex: 0,\n      role: \"button\",\n      disabled: this.pages === this.state.page + 1 || 0 === this.pages,\n      onClick: this.setPage.bind(this, this.state.page + 1),\n      title: this._(\"pagination.next\"),\n      \"aria-label\": this._(\"pagination.next\"),\n      className: nt(this.config.className.paginationButton, this.config.className.paginationButtonNext)\n    }, this._(\"pagination.next\")))) : null;\n  }, e(n, [{\n    key: \"pages\",\n    get: function () {\n      return Math.ceil(this.state.total / this.state.limit);\n    }\n  }]), n;\n}(ct);\n\nfunction gt(t, e) {\n  return \"string\" == typeof t ? t.indexOf(\"%\") > -1 ? e / 100 * parseInt(t, 10) : parseInt(t, 10) : t;\n}\n\nfunction vt(t) {\n  return t ? Math.floor(t) + \"px\" : \"\";\n}\n\nmt.defaultProps = {\n  summary: !0,\n  nextButton: !0,\n  prevButton: !0,\n  buttonsCount: 3,\n  limit: 10,\n  resetPageOnUpdate: !0\n};\n\nvar yt = function (t) {\n  function e(e, n) {\n    var r;\n    return (r = t.call(this, e, n) || this).tableElement = void 0, r.tableClassName = void 0, r.tableStyle = void 0, r.tableElement = r.props.tableRef.current.base.cloneNode(!0), r.tableElement.style.position = \"absolute\", r.tableElement.style.width = \"100%\", r.tableElement.style.zIndex = \"-2147483640\", r.tableElement.style.visibility = \"hidden\", r.tableClassName = r.tableElement.className, r.tableStyle = r.tableElement.style.cssText, r;\n  }\n\n  r(e, t);\n  var i = e.prototype;\n  return i.widths = function () {\n    this.tableElement.className = this.tableClassName + \" \" + et(\"shadowTable\"), this.tableElement.style.tableLayout = \"auto\", this.tableElement.style.width = \"auto\", this.tableElement.style.padding = \"0\", this.tableElement.style.margin = \"0\", this.tableElement.style.border = \"none\", this.tableElement.style.outline = \"none\";\n    var t = Array.from(this.base.parentNode.querySelectorAll(\"thead th\")).reduce(function (t, e) {\n      var r;\n      return e.style.width = e.clientWidth + \"px\", n(((r = {})[e.getAttribute(\"data-column-id\")] = {\n        minWidth: e.clientWidth\n      }, r), t);\n    }, {});\n    return this.tableElement.className = this.tableClassName, this.tableElement.style.cssText = this.tableStyle, this.tableElement.style.tableLayout = \"auto\", Array.from(this.base.parentNode.querySelectorAll(\"thead th\")).reduce(function (t, e) {\n      return t[e.getAttribute(\"data-column-id\")].width = e.clientWidth, t;\n    }, t);\n  }, i.render = function () {\n    var t = this;\n    return this.props.tableRef.current ? y(\"div\", {\n      ref: function (e) {\n        e && e.appendChild(t.tableElement);\n      }\n    }) : null;\n  }, e;\n}(G);\n\nfunction bt(t) {\n  if (!t) return \"\";\n  var e = t.split(\" \");\n  return 1 === e.length && /([a-z][A-Z])+/g.test(t) ? t : e.map(function (t, e) {\n    return 0 == e ? t.toLowerCase() : t.charAt(0).toUpperCase() + t.slice(1).toLowerCase();\n  }).join(\"\");\n}\n\nvar wt = function (t) {\n  function i() {\n    var e;\n    return (e = t.call(this) || this)._columns = void 0, e._columns = [], e;\n  }\n\n  r(i, t);\n  var o = i.prototype;\n  return o.adjustWidth = function (t) {\n    var e = t.container,\n        n = t.tableRef,\n        r = t.tempRef,\n        o = t.tempRef || !0;\n    if (!e) return this;\n    var s = e.clientWidth,\n        u = {\n      current: null\n    },\n        l = {};\n\n    if (n.current && o) {\n      var c = y(yt, {\n        tableRef: n\n      });\n      c.ref = u, j(c, r.current), l = u.current.widths();\n    }\n\n    for (var p, h = a(i.tabularFormat(this.columns).reduce(function (t, e) {\n      return t.concat(e);\n    }, [])); !(p = h()).done;) {\n      var f = p.value;\n      f.columns && f.columns.length > 0 || (!f.width && o ? f.id in l && (f.width = vt(l[f.id].width), f.minWidth = vt(l[f.id].minWidth)) : f.width = vt(gt(f.width, s)));\n    }\n\n    return n.current && o && j(null, r.current), this;\n  }, o.setSort = function (t, e) {\n    for (var r, i = a(e || this.columns || []); !(r = i()).done;) {\n      var o = r.value;\n      o.columns && o.columns.length > 0 && (o.sort = {\n        enabled: !1\n      }), void 0 === o.sort && t.sort && (o.sort = {\n        enabled: !0\n      }), o.sort ? \"object\" == typeof o.sort && (o.sort = n({\n        enabled: !0\n      }, o.sort)) : o.sort = {\n        enabled: !1\n      }, o.columns && this.setSort(t, o.columns);\n    }\n  }, o.setFixedHeader = function (t, e) {\n    for (var n, r = a(e || this.columns || []); !(n = r()).done;) {\n      var i = n.value;\n      void 0 === i.fixedHeader && (i.fixedHeader = t.fixedHeader), i.columns && this.setFixedHeader(t, i.columns);\n    }\n  }, o.setResizable = function (t, e) {\n    for (var n, r = a(e || this.columns || []); !(n = r()).done;) {\n      var i = n.value;\n      void 0 === i.resizable && (i.resizable = t.resizable), i.columns && this.setResizable(t, i.columns);\n    }\n  }, o.setID = function (t) {\n    for (var e, n = a(t || this.columns || []); !(e = n()).done;) {\n      var r = e.value;\n      r.id || \"string\" != typeof r.name || (r.id = bt(r.name)), r.id || lt.error('Could not find a valid ID for one of the columns. Make sure a valid \"id\" is set for all columns.'), r.columns && this.setID(r.columns);\n    }\n  }, o.populatePlugins = function (t, e) {\n    for (var r, i = a(e); !(r = i()).done;) {\n      var o = r.value;\n      void 0 !== o.plugin && t.plugin.add(n({\n        id: o.id,\n        props: {}\n      }, o.plugin, {\n        position: rt.Cell\n      }));\n    }\n  }, i.fromColumns = function (t) {\n    for (var e, n = new i(), r = a(t); !(e = r()).done;) {\n      var o = e.value;\n      if (\"string\" == typeof o || l(o)) n.columns.push({\n        name: o\n      });else if (\"object\" == typeof o) {\n        var s = o;\n        s.columns && (s.columns = i.fromColumns(s.columns).columns), \"object\" == typeof s.plugin && void 0 === s.data && (s.data = null), n.columns.push(o);\n      }\n    }\n\n    return n;\n  }, i.fromUserConfig = function (t) {\n    var e = new i();\n    return t.from ? e.columns = i.fromHTMLTable(t.from).columns : t.columns ? e.columns = i.fromColumns(t.columns).columns : !t.data || \"object\" != typeof t.data[0] || t.data[0] instanceof Array || (e.columns = Object.keys(t.data[0]).map(function (t) {\n      return {\n        name: t\n      };\n    })), e.columns.length ? (e.setID(), e.setSort(t), e.setFixedHeader(t), e.setResizable(t), e.populatePlugins(t, e.columns), e) : null;\n  }, i.fromHTMLTable = function (t) {\n    for (var e, n = new i(), r = a(t.querySelector(\"thead\").querySelectorAll(\"th\")); !(e = r()).done;) {\n      var o = e.value;\n      n.columns.push({\n        name: o.innerHTML,\n        width: o.width\n      });\n    }\n\n    return n;\n  }, i.tabularFormat = function (t) {\n    var e = [],\n        n = t || [],\n        r = [];\n\n    if (n && n.length) {\n      e.push(n);\n\n      for (var i, o = a(n); !(i = o()).done;) {\n        var s = i.value;\n        s.columns && s.columns.length && (r = r.concat(s.columns));\n      }\n\n      r.length && (e = e.concat(this.tabularFormat(r)));\n    }\n\n    return e;\n  }, i.leafColumns = function (t) {\n    var e = [],\n        n = t || [];\n    if (n && n.length) for (var r, i = a(n); !(r = i()).done;) {\n      var o = r.value;\n      o.columns && 0 !== o.columns.length || e.push(o), o.columns && (e = e.concat(this.leafColumns(o.columns)));\n    }\n    return e;\n  }, i.maximumDepth = function (t) {\n    return this.tabularFormat([t]).length - 1;\n  }, e(i, [{\n    key: \"columns\",\n    get: function () {\n      return this._columns;\n    },\n    set: function (t) {\n      this._columns = t;\n    }\n  }, {\n    key: \"visibleColumns\",\n    get: function () {\n      return this._columns.filter(function (t) {\n        return !t.hidden;\n      });\n    }\n  }]), i;\n}(B),\n    kt = function () {\n  function t() {\n    this._callbacks = void 0, this._isDispatching = void 0, this._isHandled = void 0, this._isPending = void 0, this._lastID = void 0, this._pendingPayload = void 0, this._callbacks = {}, this._isDispatching = !1, this._isHandled = {}, this._isPending = {}, this._lastID = 1;\n  }\n\n  var e = t.prototype;\n  return e.register = function (t) {\n    var e = \"ID_\" + this._lastID++;\n    return this._callbacks[e] = t, e;\n  }, e.unregister = function (t) {\n    if (!this._callbacks[t]) throw Error(\"Dispatcher.unregister(...): \" + t + \" does not map to a registered callback.\");\n    delete this._callbacks[t];\n  }, e.waitFor = function (t) {\n    if (!this._isDispatching) throw Error(\"Dispatcher.waitFor(...): Must be invoked while dispatching.\");\n\n    for (var e = 0; e < t.length; e++) {\n      var n = t[e];\n\n      if (this._isPending[n]) {\n        if (!this._isHandled[n]) throw Error(\"Dispatcher.waitFor(...): Circular dependency detected while ' +\\n            'waiting for \" + n + \".\");\n      } else {\n        if (!this._callbacks[n]) throw Error(\"Dispatcher.waitFor(...): \" + n + \" does not map to a registered callback.\");\n\n        this._invokeCallback(n);\n      }\n    }\n  }, e.dispatch = function (t) {\n    if (this._isDispatching) throw Error(\"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch.\");\n\n    this._startDispatching(t);\n\n    try {\n      for (var e in this._callbacks) this._isPending[e] || this._invokeCallback(e);\n    } finally {\n      this._stopDispatching();\n    }\n  }, e.isDispatching = function () {\n    return this._isDispatching;\n  }, e._invokeCallback = function (t) {\n    this._isPending[t] = !0, this._callbacks[t](this._pendingPayload), this._isHandled[t] = !0;\n  }, e._startDispatching = function (t) {\n    for (var e in this._callbacks) this._isPending[e] = !1, this._isHandled[e] = !1;\n\n    this._pendingPayload = t, this._isDispatching = !0;\n  }, e._stopDispatching = function () {\n    delete this._pendingPayload, this._isDispatching = !1;\n  }, t;\n}(),\n    St = function () {},\n    Ct = function (t) {\n  function e(e) {\n    var n;\n    return (n = t.call(this) || this).data = void 0, n.set(e), n;\n  }\n\n  r(e, t);\n  var n = e.prototype;\n  return n.get = function () {\n    try {\n      return Promise.resolve(this.data()).then(function (t) {\n        return {\n          data: t,\n          total: t.length\n        };\n      });\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, n.set = function (t) {\n    return t instanceof Array ? this.data = function () {\n      return t;\n    } : t instanceof Function && (this.data = t), this;\n  }, e;\n}(St),\n    Pt = function (t) {\n  function e(e) {\n    var n;\n    return (n = t.call(this) || this).options = void 0, n.options = e, n;\n  }\n\n  r(e, t);\n  var i = e.prototype;\n  return i.handler = function (t) {\n    return \"function\" == typeof this.options.handle ? this.options.handle(t) : t.ok ? t.json() : (lt.error(\"Could not fetch data: \" + t.status + \" - \" + t.statusText, !0), null);\n  }, i.get = function (t) {\n    var e = n({}, this.options, t);\n    return \"function\" == typeof e.data ? e.data(e) : fetch(e.url, e).then(this.handler.bind(this)).then(function (t) {\n      return {\n        data: e.then(t),\n        total: \"function\" == typeof e.total ? e.total(t) : void 0\n      };\n    });\n  }, e;\n}(St),\n    xt = function () {\n  function t() {}\n\n  return t.createFromUserConfig = function (t) {\n    var e = null;\n    return t.data && (e = new Ct(t.data)), t.from && (e = new Ct(this.tableElementToArray(t.from)), t.from.style.display = \"none\"), t.server && (e = new Pt(t.server)), e || lt.error(\"Could not determine the storage type\", !0), e;\n  }, t.tableElementToArray = function (t) {\n    for (var e, n, r = [], i = a(t.querySelector(\"tbody\").querySelectorAll(\"tr\")); !(e = i()).done;) {\n      for (var o, s = [], u = a(e.value.querySelectorAll(\"td\")); !(o = u()).done;) {\n        var l = o.value;\n        1 === l.childNodes.length && l.childNodes[0].nodeType === Node.TEXT_NODE ? s.push((n = l.innerHTML, new DOMParser().parseFromString(n, \"text/html\").documentElement.textContent)) : s.push($(l.innerHTML));\n      }\n\n      r.push(s);\n    }\n\n    return r;\n  }, t;\n}(),\n    Nt = \"undefined\" != typeof Symbol ? Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\")) : \"@@iterator\";\n\nfunction Et(t, e, n) {\n  if (!t.s) {\n    if (n instanceof Ft) {\n      if (!n.s) return void (n.o = Et.bind(null, t, e));\n      1 & e && (e = n.s), n = n.v;\n    }\n\n    if (n && n.then) return void n.then(Et.bind(null, t, e), Et.bind(null, t, 2));\n    t.s = e, t.v = n;\n    var r = t.o;\n    r && r(t);\n  }\n}\n\nvar Ft = function () {\n  function t() {}\n\n  return t.prototype.then = function (e, n) {\n    var r = new t(),\n        i = this.s;\n\n    if (i) {\n      var o = 1 & i ? e : n;\n\n      if (o) {\n        try {\n          Et(r, 1, o(this.v));\n        } catch (t) {\n          Et(r, 2, t);\n        }\n\n        return r;\n      }\n\n      return this;\n    }\n\n    return this.o = function (t) {\n      try {\n        var i = t.v;\n        1 & t.s ? Et(r, 1, e ? e(i) : i) : n ? Et(r, 1, n(i)) : Et(r, 2, i);\n      } catch (t) {\n        Et(r, 2, t);\n      }\n    }, r;\n  }, t;\n}();\n\nfunction Tt(t) {\n  return t instanceof Ft && 1 & t.s;\n}\n\nvar Dt,\n    Rt = function (t) {\n  function n(e) {\n    var n;\n    return (n = t.call(this) || this)._steps = new Map(), n.cache = new Map(), n.lastProcessorIndexUpdated = -1, e && e.forEach(function (t) {\n      return n.register(t);\n    }), n;\n  }\n\n  r(n, t);\n  var i = n.prototype;\n  return i.clearCache = function () {\n    this.cache = new Map(), this.lastProcessorIndexUpdated = -1;\n  }, i.register = function (t, e) {\n    if (void 0 === e && (e = null), null === t.type) throw Error(\"Processor type is not defined\");\n    t.on(\"propsUpdated\", this.processorPropsUpdated.bind(this)), this.addProcessorByPriority(t, e), this.afterRegistered(t);\n  }, i.unregister = function (t) {\n    if (t) {\n      var e = this._steps.get(t.type);\n\n      e && e.length && (this._steps.set(t.type, e.filter(function (e) {\n        return e != t;\n      })), this.emit(\"updated\", t));\n    }\n  }, i.addProcessorByPriority = function (t, e) {\n    var n = this._steps.get(t.type);\n\n    if (!n) {\n      var r = [];\n      this._steps.set(t.type, r), n = r;\n    }\n\n    if (null === e || e < 0) n.push(t);else if (n[e]) {\n      var i = n.slice(0, e - 1),\n          o = n.slice(e + 1);\n\n      this._steps.set(t.type, i.concat(t).concat(o));\n    } else n[e] = t;\n  }, i.getStepsByType = function (t) {\n    return this.steps.filter(function (e) {\n      return e.type === t;\n    });\n  }, i.getSortedProcessorTypes = function () {\n    return Object.keys(K).filter(function (t) {\n      return !isNaN(Number(t));\n    }).map(function (t) {\n      return Number(t);\n    });\n  }, i.process = function (t) {\n    try {\n      var e = this,\n          n = function (t) {\n        return e.lastProcessorIndexUpdated = i.length, e.emit(\"afterProcess\", o), o;\n      },\n          r = e.lastProcessorIndexUpdated,\n          i = e.steps,\n          o = t,\n          s = function (t, n) {\n        try {\n          var s = function (t, e, n) {\n            if (\"function\" == typeof t[Nt]) {\n              var r,\n                  i,\n                  o,\n                  s = t[Nt]();\n\n              if (function t(n) {\n                try {\n                  for (; !(r = s.next()).done;) if ((n = e(r.value)) && n.then) {\n                    if (!Tt(n)) return void n.then(t, o || (o = Et.bind(null, i = new Ft(), 2)));\n                    n = n.v;\n                  }\n\n                  i ? Et(i, 1, n) : i = n;\n                } catch (t) {\n                  Et(i || (i = new Ft()), 2, t);\n                }\n              }(), s.return) {\n                var a = function (t) {\n                  try {\n                    r.done || s.return();\n                  } catch (t) {}\n\n                  return t;\n                };\n\n                if (i && i.then) return i.then(a, function (t) {\n                  throw a(t);\n                });\n                a();\n              }\n\n              return i;\n            }\n\n            if (!(\"length\" in t)) throw new TypeError(\"Object is not iterable\");\n\n            for (var u = [], l = 0; l < t.length; l++) u.push(t[l]);\n\n            return function (t, e, n) {\n              var r,\n                  i,\n                  o = -1;\n              return function n(s) {\n                try {\n                  for (; ++o < t.length;) if ((s = e(o)) && s.then) {\n                    if (!Tt(s)) return void s.then(n, i || (i = Et.bind(null, r = new Ft(), 2)));\n                    s = s.v;\n                  }\n\n                  r ? Et(r, 1, s) : r = s;\n                } catch (t) {\n                  Et(r || (r = new Ft()), 2, t);\n                }\n              }(), r;\n            }(u, function (t) {\n              return e(u[t]);\n            });\n          }(i, function (t) {\n            var n = e.findProcessorIndexByID(t.id),\n                i = function () {\n              if (n >= r) return Promise.resolve(t.process(o)).then(function (n) {\n                e.cache.set(t.id, o = n);\n              });\n              o = e.cache.get(t.id);\n            }();\n\n            if (i && i.then) return i.then(function () {});\n          });\n        } catch (t) {\n          return n(t);\n        }\n\n        return s && s.then ? s.then(void 0, n) : s;\n      }(0, function (t) {\n        throw lt.error(t), e.emit(\"error\", o), t;\n      });\n\n      return Promise.resolve(s && s.then ? s.then(n) : n());\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, i.findProcessorIndexByID = function (t) {\n    return this.steps.findIndex(function (e) {\n      return e.id == t;\n    });\n  }, i.setLastProcessorIndex = function (t) {\n    var e = this.findProcessorIndexByID(t.id);\n    this.lastProcessorIndexUpdated > e && (this.lastProcessorIndexUpdated = e);\n  }, i.processorPropsUpdated = function (t) {\n    this.setLastProcessorIndex(t), this.emit(\"propsUpdated\"), this.emit(\"updated\", t);\n  }, i.afterRegistered = function (t) {\n    this.setLastProcessorIndex(t), this.emit(\"afterRegister\"), this.emit(\"updated\", t);\n  }, e(n, [{\n    key: \"steps\",\n    get: function () {\n      for (var t, e = [], n = a(this.getSortedProcessorTypes()); !(t = n()).done;) {\n        var r = this._steps.get(t.value);\n\n        r && r.length && (e = e.concat(r));\n      }\n\n      return e.filter(function (t) {\n        return t;\n      });\n    }\n  }]), n;\n}(J),\n    Lt = function (t) {\n  function n() {\n    return t.apply(this, arguments) || this;\n  }\n\n  return r(n, t), n.prototype._process = function (t) {\n    try {\n      return Promise.resolve(this.props.storage.get(t));\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, e(n, [{\n    key: \"type\",\n    get: function () {\n      return K.Extractor;\n    }\n  }]), n;\n}(Q),\n    It = function (t) {\n  function n() {\n    return t.apply(this, arguments) || this;\n  }\n\n  return r(n, t), n.prototype._process = function (t) {\n    var e = Z.fromArray(t.data);\n    return e.length = t.total, e;\n  }, e(n, [{\n    key: \"type\",\n    get: function () {\n      return K.Transformer;\n    }\n  }]), n;\n}(Q),\n    At = function (t) {\n  function i() {\n    return t.apply(this, arguments) || this;\n  }\n\n  return r(i, t), i.prototype._process = function () {\n    return Object.entries(this.props.serverStorageOptions).filter(function (t) {\n      return \"function\" != typeof t[1];\n    }).reduce(function (t, e) {\n      var r;\n      return n({}, t, ((r = {})[e[0]] = e[1], r));\n    }, {});\n  }, e(i, [{\n    key: \"type\",\n    get: function () {\n      return K.Initiator;\n    }\n  }]), i;\n}(Q),\n    Ut = function (t) {\n  function n() {\n    return t.apply(this, arguments) || this;\n  }\n\n  r(n, t);\n  var i = n.prototype;\n  return i.castData = function (t) {\n    if (!t || !t.length) return [];\n    if (!this.props.header || !this.props.header.columns) return t;\n    var e = wt.leafColumns(this.props.header.columns);\n    return t[0] instanceof Array ? t.map(function (t) {\n      var n = 0;\n      return e.map(function (e, r) {\n        return void 0 !== e.data ? (n++, \"function\" == typeof e.data ? e.data(t) : e.data) : t[r - n];\n      });\n    }) : \"object\" != typeof t[0] || t[0] instanceof Array ? [] : t.map(function (t) {\n      return e.map(function (e, n) {\n        return void 0 !== e.data ? \"function\" == typeof e.data ? e.data(t) : e.data : e.id ? t[e.id] : (lt.error(\"Could not find the correct cell for column at position \" + n + \".\\n                          Make sure either 'id' or 'selector' is defined for all columns.\"), null);\n      });\n    });\n  }, i._process = function (t) {\n    return {\n      data: this.castData(t.data),\n      total: t.total\n    };\n  }, e(n, [{\n    key: \"type\",\n    get: function () {\n      return K.Transformer;\n    }\n  }]), n;\n}(Q),\n    Ht = function () {\n  function t() {}\n\n  return t.createFromConfig = function (t) {\n    var e = new Rt();\n    return t.storage instanceof Pt && e.register(new At({\n      serverStorageOptions: t.server\n    })), e.register(new Lt({\n      storage: t.storage\n    })), e.register(new Ut({\n      header: t.header\n    })), e.register(new It()), e;\n  }, t;\n}(),\n    Mt = function () {\n  function t(e) {\n    this._userConfig = void 0, Object.assign(this, n({}, t.defaultConfig(), e)), this._userConfig = {};\n  }\n\n  var e = t.prototype;\n  return e.assign = function (t) {\n    for (var e = 0, n = Object.keys(t); e < n.length; e++) {\n      var r = n[e];\n      \"_userConfig\" !== r && (this[r] = t[r]);\n    }\n\n    return this;\n  }, e.update = function (e) {\n    return e ? (this._userConfig = n({}, this._userConfig, e), this.assign(t.fromUserConfig(this._userConfig)), this) : this;\n  }, t.defaultConfig = function () {\n    return {\n      plugin: new pt(),\n      dispatcher: new kt(),\n      tableRef: {\n        current: null\n      },\n      tempRef: {\n        current: null\n      },\n      width: \"100%\",\n      height: \"auto\",\n      autoWidth: !0,\n      style: {},\n      className: {}\n    };\n  }, t.fromUserConfig = function (e) {\n    var r = new t(e);\n    return r._userConfig = e, \"boolean\" == typeof e.sort && e.sort && r.assign({\n      sort: {\n        multiColumn: !0\n      }\n    }), r.assign({\n      header: wt.fromUserConfig(r)\n    }), r.assign({\n      storage: xt.createFromUserConfig(e)\n    }), r.assign({\n      pipeline: Ht.createFromConfig(r)\n    }), r.assign({\n      translator: new q(e.language)\n    }), r.plugin.add({\n      id: \"search\",\n      position: rt.Header,\n      component: ft,\n      props: n({\n        enabled: !0 === e.search || e.search instanceof Object\n      }, e.search)\n    }), r.plugin.add({\n      id: \"pagination\",\n      position: rt.Footer,\n      component: mt,\n      props: n({\n        enabled: !0 === e.pagination || e.pagination instanceof Object\n      }, e.pagination)\n    }), e.plugins && e.plugins.forEach(function (t) {\n      return r.plugin.add(t);\n    }), r;\n  }, t;\n}();\n\n!function (t) {\n  t[t.Init = 0] = \"Init\", t[t.Loading = 1] = \"Loading\", t[t.Loaded = 2] = \"Loaded\", t[t.Rendered = 3] = \"Rendered\", t[t.Error = 4] = \"Error\";\n}(Dt || (Dt = {}));\n\nvar Ot,\n    jt,\n    Wt,\n    Bt = function (t) {\n  function e() {\n    return t.apply(this, arguments) || this;\n  }\n\n  r(e, t);\n  var i = e.prototype;\n  return i.content = function () {\n    return this.props.column && \"function\" == typeof this.props.column.formatter ? this.props.column.formatter(this.props.cell.data, this.props.row, this.props.column) : this.props.column && this.props.column.plugin ? y(ht, {\n      pluginId: this.props.column.id,\n      props: {\n        column: this.props.column,\n        cell: this.props.cell,\n        row: this.props.row\n      }\n    }) : this.props.cell.data;\n  }, i.handleClick = function (t) {\n    this.props.messageCell || this.config.eventEmitter.emit(\"cellClick\", t, this.props.cell, this.props.column, this.props.row);\n  }, i.getCustomAttributes = function (t) {\n    return t ? \"function\" == typeof t.attributes ? t.attributes(this.props.cell.data, this.props.row, this.props.column) : t.attributes : {};\n  }, i.render = function () {\n    return y(\"td\", n({\n      role: this.props.role,\n      colSpan: this.props.colSpan,\n      \"data-column-id\": this.props.column && this.props.column.id,\n      className: nt(et(\"td\"), this.props.className, this.config.className.td),\n      style: n({}, this.props.style, this.config.style.td),\n      onClick: this.handleClick.bind(this)\n    }, this.getCustomAttributes(this.props.column)), this.content());\n  }, e;\n}(G),\n    zt = function (t) {\n  function e() {\n    return t.apply(this, arguments) || this;\n  }\n\n  r(e, t);\n  var n = e.prototype;\n  return n.getColumn = function (t) {\n    if (this.props.header) {\n      var e = wt.leafColumns(this.props.header.columns);\n      if (e) return e[t];\n    }\n\n    return null;\n  }, n.handleClick = function (t) {\n    this.props.messageRow || this.config.eventEmitter.emit(\"rowClick\", t, this.props.row);\n  }, n.getChildren = function () {\n    var t = this;\n    return this.props.children ? this.props.children : y(k, null, this.props.row.cells.map(function (e, n) {\n      var r = t.getColumn(n);\n      return r && r.hidden ? null : y(Bt, {\n        key: e.id,\n        cell: e,\n        row: t.props.row,\n        column: r\n      });\n    }));\n  }, n.render = function () {\n    return y(\"tr\", {\n      className: nt(et(\"tr\"), this.config.className.tr),\n      onClick: this.handleClick.bind(this)\n    }, this.getChildren());\n  }, e;\n}(G),\n    qt = function (t) {\n  function e() {\n    return t.apply(this, arguments) || this;\n  }\n\n  return r(e, t), e.prototype.render = function () {\n    return y(zt, {\n      messageRow: !0\n    }, y(Bt, {\n      role: \"alert\",\n      colSpan: this.props.colSpan,\n      messageCell: !0,\n      cell: new V(this.props.message),\n      className: nt(et(\"message\"), this.props.className ? this.props.className : null)\n    }));\n  }, e;\n}(G),\n    Gt = function (t) {\n  function e() {\n    return t.apply(this, arguments) || this;\n  }\n\n  r(e, t);\n  var n = e.prototype;\n  return n.headerLength = function () {\n    return this.props.header ? this.props.header.visibleColumns.length : 0;\n  }, n.render = function () {\n    var t = this;\n    return y(\"tbody\", {\n      className: nt(et(\"tbody\"), this.config.className.tbody)\n    }, this.props.data && this.props.data.rows.map(function (e) {\n      return y(zt, {\n        key: e.id,\n        row: e,\n        header: t.props.header\n      });\n    }), this.props.status === Dt.Loading && (!this.props.data || 0 === this.props.data.length) && y(qt, {\n      message: this._(\"loading\"),\n      colSpan: this.headerLength(),\n      className: nt(et(\"loading\"), this.config.className.loading)\n    }), this.props.status === Dt.Rendered && this.props.data && 0 === this.props.data.length && y(qt, {\n      message: this._(\"noRecordsFound\"),\n      colSpan: this.headerLength(),\n      className: nt(et(\"notfound\"), this.config.className.notfound)\n    }), this.props.status === Dt.Error && y(qt, {\n      message: this._(\"error\"),\n      colSpan: this.headerLength(),\n      className: nt(et(\"error\"), this.config.className.error)\n    }));\n  }, e;\n}(G),\n    Xt = function (t) {\n  function n() {\n    return t.apply(this, arguments) || this;\n  }\n\n  r(n, t);\n  var i = n.prototype;\n  return i.validateProps = function () {\n    for (var t, e = a(this.props.columns); !(t = e()).done;) {\n      var n = t.value;\n      void 0 === n.direction && (n.direction = 1), 1 !== n.direction && -1 !== n.direction && lt.error(\"Invalid sort direction \" + n.direction);\n    }\n  }, i.compare = function (t, e) {\n    return t > e ? 1 : t < e ? -1 : 0;\n  }, i.compareWrapper = function (t, e) {\n    for (var n, r = 0, i = a(this.props.columns); !(n = i()).done;) {\n      var o = n.value;\n      if (0 !== r) break;\n      var s = t.cells[o.index].data,\n          u = e.cells[o.index].data;\n      r |= \"function\" == typeof o.compare ? o.compare(s, u) * o.direction : this.compare(s, u) * o.direction;\n    }\n\n    return r;\n  }, i._process = function (t) {\n    var e = [].concat(t.rows);\n    e.sort(this.compareWrapper.bind(this));\n    var n = new Z(e);\n    return n.length = t.length, n;\n  }, e(n, [{\n    key: \"type\",\n    get: function () {\n      return K.Sort;\n    }\n  }]), n;\n}(Q),\n    $t = function (t) {\n  function e() {\n    return t.apply(this, arguments) || this;\n  }\n\n  r(e, t);\n  var n = e.prototype;\n  return n.getInitialState = function () {\n    return [];\n  }, n.handle = function (t, e) {\n    \"SORT_COLUMN\" === t ? this.sortColumn(e.index, e.direction, e.multi, e.compare) : \"SORT_COLUMN_TOGGLE\" === t && this.sortToggle(e.index, e.multi, e.compare);\n  }, n.sortToggle = function (t, e, n) {\n    var r = [].concat(this.state).find(function (e) {\n      return e.index === t;\n    });\n    this.sortColumn(t, r && 1 === r.direction ? -1 : 1, e, n);\n  }, n.sortColumn = function (t, e, n, r) {\n    var i = [].concat(this.state),\n        o = i.length,\n        s = i.find(function (e) {\n      return e.index === t;\n    }),\n        a = !1,\n        u = !1,\n        l = !1,\n        c = !1;\n    if (void 0 !== s ? n ? -1 === s.direction ? l = !0 : c = !0 : 1 === o ? c = !0 : o > 1 && (u = !0, a = !0) : 0 === o ? a = !0 : o > 0 && !n ? (a = !0, u = !0) : o > 0 && n && (a = !0), u && (i = []), a) i.push({\n      index: t,\n      direction: e,\n      compare: r\n    });else if (c) {\n      var p = i.indexOf(s);\n      i[p].direction = e;\n    } else if (l) {\n      var h = i.indexOf(s);\n      i.splice(h, 1);\n    }\n    this.setState(i);\n  }, e;\n}(it),\n    Kt = function (t) {\n  function e() {\n    return t.apply(this, arguments) || this;\n  }\n\n  r(e, t);\n  var n = e.prototype;\n  return n.sortColumn = function (t, e, n, r) {\n    this.dispatch(\"SORT_COLUMN\", {\n      index: t,\n      direction: e,\n      multi: n,\n      compare: r\n    });\n  }, n.sortToggle = function (t, e, n) {\n    this.dispatch(\"SORT_COLUMN_TOGGLE\", {\n      index: t,\n      multi: e,\n      compare: n\n    });\n  }, e;\n}(st),\n    Vt = function (t) {\n  function i() {\n    return t.apply(this, arguments) || this;\n  }\n\n  return r(i, t), i.prototype._process = function (t) {\n    var e = {};\n    return this.props.url && (e.url = this.props.url(t.url, this.props.columns)), this.props.body && (e.body = this.props.body(t.body, this.props.columns)), n({}, t, e);\n  }, e(i, [{\n    key: \"type\",\n    get: function () {\n      return K.ServerSort;\n    }\n  }]), i;\n}(Q),\n    Yt = function (t) {\n  function e(e, n) {\n    var r;\n    return (r = t.call(this, e, n) || this).sortProcessor = void 0, r.actions = void 0, r.store = void 0, r.updateStateFn = void 0, r.updateSortProcessorFn = void 0, r.actions = new Kt(r.config.dispatcher), r.store = new $t(r.config.dispatcher), e.enabled && (r.sortProcessor = r.getOrCreateSortProcessor(), r.updateStateFn = r.updateState.bind(o(r)), r.store.on(\"updated\", r.updateStateFn), r.state = {\n      direction: 0\n    }), r;\n  }\n\n  r(e, t);\n  var i = e.prototype;\n  return i.componentWillUnmount = function () {\n    this.config.pipeline.unregister(this.sortProcessor), this.store.off(\"updated\", this.updateStateFn), this.updateSortProcessorFn && this.store.off(\"updated\", this.updateSortProcessorFn);\n  }, i.updateState = function () {\n    var t = this,\n        e = this.store.state.find(function (e) {\n      return e.index === t.props.index;\n    });\n    this.setState(e ? {\n      direction: e.direction\n    } : {\n      direction: 0\n    });\n  }, i.updateSortProcessor = function (t) {\n    this.sortProcessor.setProps({\n      columns: t\n    });\n  }, i.getOrCreateSortProcessor = function () {\n    var t = K.Sort;\n    this.config.sort && \"object\" == typeof this.config.sort.server && (t = K.ServerSort);\n    var e,\n        r = this.config.pipeline.getStepsByType(t);\n    return r.length > 0 ? e = r[0] : (this.updateSortProcessorFn = this.updateSortProcessor.bind(this), this.store.on(\"updated\", this.updateSortProcessorFn), e = t === K.ServerSort ? new Vt(n({\n      columns: this.store.state\n    }, this.config.sort.server)) : new Xt({\n      columns: this.store.state\n    }), this.config.pipeline.register(e)), e;\n  }, i.changeDirection = function (t) {\n    t.preventDefault(), t.stopPropagation(), this.actions.sortToggle(this.props.index, !0 === t.shiftKey && this.config.sort.multiColumn, this.props.compare);\n  }, i.render = function () {\n    if (!this.props.enabled) return null;\n    var t = this.state.direction,\n        e = \"neutral\";\n    return 1 === t ? e = \"asc\" : -1 === t && (e = \"desc\"), y(\"button\", {\n      tabIndex: -1,\n      \"aria-label\": this._(\"sort.sort\" + (1 === t ? \"Desc\" : \"Asc\")),\n      title: this._(\"sort.sort\" + (1 === t ? \"Desc\" : \"Asc\")),\n      className: nt(et(\"sort\"), et(\"sort\", e), this.config.className.sort),\n      onClick: this.changeDirection.bind(this)\n    });\n  }, e;\n}(G),\n    Zt = function (t) {\n  function e() {\n    for (var e, n = arguments.length, r = new Array(n), i = 0; i < n; i++) r[i] = arguments[i];\n\n    return (e = t.call.apply(t, [this].concat(r)) || this).moveFn = void 0, e.upFn = void 0, e;\n  }\n\n  r(e, t);\n  var n = e.prototype;\n  return n.getPageX = function (t) {\n    return t instanceof MouseEvent ? Math.floor(t.pageX) : Math.floor(t.changedTouches[0].pageX);\n  }, n.start = function (t) {\n    var e, n, r, i, o;\n    t.stopPropagation(), this.setState({\n      offsetStart: parseInt(this.props.thRef.current.style.width, 10) - this.getPageX(t)\n    }), this.upFn = this.end.bind(this), this.moveFn = (e = this.move.bind(this), void 0 === (n = 10) && (n = 100), function () {\n      var t = [].slice.call(arguments);\n      r ? (clearTimeout(i), i = setTimeout(function () {\n        Date.now() - o >= n && (e.apply(void 0, t), o = Date.now());\n      }, Math.max(n - (Date.now() - o), 0))) : (e.apply(void 0, t), o = Date.now(), r = !0);\n    }), document.addEventListener(\"mouseup\", this.upFn), document.addEventListener(\"touchend\", this.upFn), document.addEventListener(\"mousemove\", this.moveFn), document.addEventListener(\"touchmove\", this.moveFn);\n  }, n.move = function (t) {\n    t.stopPropagation();\n    var e = this.props.thRef.current;\n    this.state.offsetStart + this.getPageX(t) >= parseInt(e.style.minWidth, 10) && (e.style.width = this.state.offsetStart + this.getPageX(t) + \"px\");\n  }, n.end = function (t) {\n    t.stopPropagation(), document.removeEventListener(\"mouseup\", this.upFn), document.removeEventListener(\"mousemove\", this.moveFn), document.removeEventListener(\"touchmove\", this.moveFn), document.removeEventListener(\"touchend\", this.upFn);\n  }, n.render = function () {\n    return y(\"div\", {\n      className: nt(et(\"th\"), et(\"resizable\")),\n      onMouseDown: this.start.bind(this),\n      onTouchStart: this.start.bind(this),\n      onClick: function (t) {\n        return t.stopPropagation();\n      }\n    });\n  }, e;\n}(G),\n    Jt = function (t) {\n  function e(e, n) {\n    var r;\n    return (r = t.call(this, e, n) || this).sortRef = {\n      current: null\n    }, r.thRef = {\n      current: null\n    }, r.state = {\n      style: {}\n    }, r;\n  }\n\n  r(e, t);\n  var i = e.prototype;\n  return i.isSortable = function () {\n    return this.props.column.sort.enabled;\n  }, i.isResizable = function () {\n    return this.props.column.resizable;\n  }, i.onClick = function (t) {\n    t.stopPropagation(), this.isSortable() && this.sortRef.current.changeDirection(t);\n  }, i.keyDown = function (t) {\n    this.isSortable() && 13 === t.which && this.onClick(t);\n  }, i.componentDidMount = function () {\n    var t = this;\n    setTimeout(function () {\n      if (t.props.column.fixedHeader && t.thRef.current) {\n        var e = t.thRef.current.offsetTop;\n        \"number\" == typeof e && t.setState({\n          style: {\n            top: e\n          }\n        });\n      }\n    }, 0);\n  }, i.content = function () {\n    return void 0 !== this.props.column.name ? this.props.column.name : void 0 !== this.props.column.plugin ? y(ht, {\n      pluginId: this.props.column.plugin.id,\n      props: {\n        column: this.props.column\n      }\n    }) : null;\n  }, i.getCustomAttributes = function () {\n    var t = this.props.column;\n    return t ? \"function\" == typeof t.attributes ? t.attributes(null, null, this.props.column) : t.attributes : {};\n  }, i.render = function () {\n    var t = {};\n    return this.isSortable() && (t.tabIndex = 0), y(\"th\", n({\n      ref: this.thRef,\n      \"data-column-id\": this.props.column && this.props.column.id,\n      className: nt(et(\"th\"), this.isSortable() ? et(\"th\", \"sort\") : null, this.props.column.fixedHeader ? et(\"th\", \"fixed\") : null, this.config.className.th),\n      onClick: this.onClick.bind(this),\n      style: n({}, this.config.style.th, {\n        minWidth: this.props.column.minWidth,\n        width: this.props.column.width\n      }, this.state.style, this.props.style),\n      onKeyDown: this.keyDown.bind(this),\n      rowSpan: this.props.rowSpan > 1 ? this.props.rowSpan : void 0,\n      colSpan: this.props.colSpan > 1 ? this.props.colSpan : void 0\n    }, this.getCustomAttributes(), t), y(\"div\", {\n      className: et(\"th\", \"content\")\n    }, this.content()), this.isSortable() && y(Yt, n({\n      ref: this.sortRef,\n      index: this.props.index\n    }, this.props.column.sort)), this.isResizable() && this.props.index < this.config.header.visibleColumns.length - 1 && y(Zt, {\n      column: this.props.column,\n      thRef: this.thRef\n    }));\n  }, e;\n}(G),\n    Qt = function (t) {\n  function e() {\n    return t.apply(this, arguments) || this;\n  }\n\n  r(e, t);\n  var n = e.prototype;\n  return n.renderColumn = function (t, e, n, r) {\n    var i = function (t, e, n) {\n      var r = wt.maximumDepth(t),\n          i = n - e;\n      return {\n        rowSpan: Math.floor(i - r - r / i),\n        colSpan: t.columns && t.columns.length || 1\n      };\n    }(t, e, r);\n\n    return y(Jt, {\n      column: t,\n      index: n,\n      colSpan: i.colSpan,\n      rowSpan: i.rowSpan\n    });\n  }, n.renderRow = function (t, e, n) {\n    var r = this,\n        i = wt.leafColumns(this.props.header.columns);\n    return y(zt, null, t.map(function (t) {\n      return t.hidden ? null : r.renderColumn(t, e, i.indexOf(t), n);\n    }));\n  }, n.renderRows = function () {\n    var t = this,\n        e = wt.tabularFormat(this.props.header.columns);\n    return e.map(function (n, r) {\n      return t.renderRow(n, r, e.length);\n    });\n  }, n.render = function () {\n    return this.props.header ? y(\"thead\", {\n      key: this.props.header.id,\n      className: nt(et(\"thead\"), this.config.className.thead)\n    }, this.renderRows()) : null;\n  }, e;\n}(G),\n    te = function (t) {\n  function e() {\n    return t.apply(this, arguments) || this;\n  }\n\n  return r(e, t), e.prototype.render = function () {\n    return y(\"table\", {\n      role: \"grid\",\n      className: nt(et(\"table\"), this.config.className.table),\n      style: n({}, this.config.style.table, {\n        height: this.props.height\n      })\n    }, y(Qt, {\n      header: this.props.header\n    }), y(Gt, {\n      data: this.props.data,\n      status: this.props.status,\n      header: this.props.header\n    }));\n  }, e;\n}(G),\n    ee = function (t) {\n  function e(e, n) {\n    var r;\n    return (r = t.call(this, e, n) || this).headerRef = {\n      current: null\n    }, r.state = {\n      isActive: !0\n    }, r;\n  }\n\n  r(e, t);\n  var i = e.prototype;\n  return i.componentDidMount = function () {\n    0 === this.headerRef.current.children.length && this.setState({\n      isActive: !1\n    });\n  }, i.render = function () {\n    return this.state.isActive ? y(\"div\", {\n      ref: this.headerRef,\n      className: nt(et(\"head\"), this.config.className.header),\n      style: n({}, this.config.style.header)\n    }, y(ht, {\n      position: rt.Header\n    })) : null;\n  }, e;\n}(G),\n    ne = function (t) {\n  function e(e, n) {\n    var r;\n    return (r = t.call(this, e, n) || this).footerRef = {\n      current: null\n    }, r.state = {\n      isActive: !0\n    }, r;\n  }\n\n  r(e, t);\n  var i = e.prototype;\n  return i.componentDidMount = function () {\n    0 === this.footerRef.current.children.length && this.setState({\n      isActive: !1\n    });\n  }, i.render = function () {\n    return this.state.isActive ? y(\"div\", {\n      ref: this.footerRef,\n      className: nt(et(\"footer\"), this.config.className.footer),\n      style: n({}, this.config.style.footer)\n    }, y(ht, {\n      position: rt.Footer\n    })) : null;\n  }, e;\n}(G),\n    re = function (t) {\n  function e(e, n) {\n    var r;\n    return (r = t.call(this, e, n) || this).configContext = void 0, r.processPipelineFn = void 0, r.configContext = function (t, e) {\n      var n = {\n        __c: e = \"__cC\" + f++,\n        __: null,\n        Consumer: function (t, e) {\n          return t.children(e);\n        },\n        Provider: function (t) {\n          var n, r;\n          return this.getChildContext || (n = [], (r = {})[e] = this, this.getChildContext = function () {\n            return r;\n          }, this.shouldComponentUpdate = function (t) {\n            this.props.value !== t.value && n.some(x);\n          }, this.sub = function (t) {\n            n.push(t);\n            var e = t.componentWillUnmount;\n\n            t.componentWillUnmount = function () {\n              n.splice(n.indexOf(t), 1), e && e.call(t);\n            };\n          }), t.children;\n        }\n      };\n      return n.Provider.__ = n.Consumer.contextType = n;\n    }(), r.state = {\n      status: Dt.Loading,\n      header: e.header,\n      data: null\n    }, r;\n  }\n\n  r(e, t);\n  var i = e.prototype;\n  return i.processPipeline = function () {\n    try {\n      var t = this;\n      t.props.config.eventEmitter.emit(\"beforeLoad\"), t.setState({\n        status: Dt.Loading\n      });\n\n      var e = function (e, n) {\n        try {\n          var r = Promise.resolve(t.props.pipeline.process()).then(function (e) {\n            t.setState({\n              data: e,\n              status: Dt.Loaded\n            }), t.props.config.eventEmitter.emit(\"load\", e);\n          });\n        } catch (t) {\n          return n(t);\n        }\n\n        return r && r.then ? r.then(void 0, n) : r;\n      }(0, function (e) {\n        lt.error(e), t.setState({\n          status: Dt.Error,\n          data: null\n        });\n      });\n\n      return Promise.resolve(e && e.then ? e.then(function () {}) : void 0);\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, i.componentDidMount = function () {\n    try {\n      var t = this,\n          e = t.props.config;\n      return Promise.resolve(t.processPipeline()).then(function () {\n        e.header && t.state.data && t.state.data.length && t.setState({\n          header: e.header.adjustWidth(e)\n        }), t.processPipelineFn = t.processPipeline.bind(t), t.props.pipeline.on(\"updated\", t.processPipelineFn);\n      });\n    } catch (t) {\n      return Promise.reject(t);\n    }\n  }, i.componentWillUnmount = function () {\n    this.props.pipeline.off(\"updated\", this.processPipelineFn);\n  }, i.componentDidUpdate = function (t, e) {\n    e.status != Dt.Rendered && this.state.status == Dt.Loaded && (this.setState({\n      status: Dt.Rendered\n    }), this.props.config.eventEmitter.emit(\"ready\"));\n  }, i.render = function () {\n    return y(this.configContext.Provider, {\n      value: this.props.config\n    }, y(\"div\", {\n      role: \"complementary\",\n      className: nt(\"gridjs\", et(\"container\"), this.state.status === Dt.Loading ? et(\"loading\") : null, this.props.config.className.container),\n      style: n({}, this.props.config.style.container, {\n        width: this.props.width\n      })\n    }, this.state.status === Dt.Loading && y(\"div\", {\n      className: et(\"loading-bar\")\n    }), y(ee, null), y(\"div\", {\n      className: et(\"wrapper\"),\n      style: {\n        height: this.props.height\n      }\n    }, y(te, {\n      ref: this.props.config.tableRef,\n      data: this.state.data,\n      header: this.state.header,\n      width: this.props.width,\n      height: this.props.height,\n      status: this.state.status\n    })), y(ne, null), y(\"div\", {\n      ref: this.props.config.tempRef,\n      id: \"gridjs-temp\",\n      className: et(\"temp\")\n    })));\n  }, e;\n}(G),\n    ie = function (t) {\n  function e(e) {\n    var n;\n    return (n = t.call(this) || this).config = void 0, n.plugin = void 0, n.config = new Mt({\n      instance: o(n),\n      eventEmitter: o(n)\n    }).update(e), n.plugin = n.config.plugin, n;\n  }\n\n  r(e, t);\n  var n = e.prototype;\n  return n.updateConfig = function (t) {\n    return this.config.update(t), this;\n  }, n.createElement = function () {\n    return y(re, {\n      config: this.config,\n      pipeline: this.config.pipeline,\n      header: this.config.header,\n      width: this.config.width,\n      height: this.config.height\n    });\n  }, n.forceRender = function () {\n    return this.config && this.config.container || lt.error(\"Container is empty. Make sure you call render() before forceRender()\", !0), this.config.pipeline.clearCache(), j(null, this.config.container), j(this.createElement(), this.config.container), this;\n  }, n.render = function (t) {\n    return t || lt.error(\"Container element cannot be null\", !0), t.childNodes.length > 0 ? (lt.error(\"The container element \" + t + \" is not empty. Make sure the container is empty and call render() again\"), this) : (this.config.container = t, j(this.createElement(), t), this);\n  }, e;\n}(J),\n    oe = 0,\n    se = [],\n    ae = u.__b,\n    ue = u.__r,\n    le = u.diffed,\n    ce = u.__c,\n    pe = u.unmount;\n\nfunction he(t, e) {\n  u.__h && u.__h(jt, t, oe || e), oe = 0;\n  var n = jt.__H || (jt.__H = {\n    __: [],\n    __h: []\n  });\n  return t >= n.__.length && n.__.push({}), n.__[t];\n}\n\nfunction fe(t, e) {\n  var n = he(Ot++, 3);\n  !u.__s && ye(n.__H, e) && (n.__ = t, n.__H = e, jt.__H.__h.push(n));\n}\n\nfunction de(t) {\n  return oe = 5, function (t, e) {\n    var n = he(Ot++, 7);\n    return ye(n.__H, e) && (n.__ = t(), n.__H = e, n.__h = t), n.__;\n  }(function () {\n    return {\n      current: t\n    };\n  }, []);\n}\n\nfunction _e() {\n  se.forEach(function (t) {\n    if (t.__P) try {\n      t.__H.__h.forEach(ge), t.__H.__h.forEach(ve), t.__H.__h = [];\n    } catch (e) {\n      t.__H.__h = [], u.__e(e, t.__v);\n    }\n  }), se = [];\n}\n\nu.__b = function (t) {\n  jt = null, ae && ae(t);\n}, u.__r = function (t) {\n  ue && ue(t), Ot = 0;\n  var e = (jt = t.__c).__H;\n  e && (e.__h.forEach(ge), e.__h.forEach(ve), e.__h = []);\n}, u.diffed = function (t) {\n  le && le(t);\n  var e = t.__c;\n  e && e.__H && e.__H.__h.length && (1 !== se.push(e) && Wt === u.requestAnimationFrame || ((Wt = u.requestAnimationFrame) || function (t) {\n    var e,\n        n = function () {\n      clearTimeout(r), me && cancelAnimationFrame(e), setTimeout(t);\n    },\n        r = setTimeout(n, 100);\n\n    me && (e = requestAnimationFrame(n));\n  })(_e)), jt = void 0;\n}, u.__c = function (t, e) {\n  e.some(function (t) {\n    try {\n      t.__h.forEach(ge), t.__h = t.__h.filter(function (t) {\n        return !t.__ || ve(t);\n      });\n    } catch (n) {\n      e.some(function (t) {\n        t.__h && (t.__h = []);\n      }), e = [], u.__e(n, t.__v);\n    }\n  }), ce && ce(t, e);\n}, u.unmount = function (t) {\n  pe && pe(t);\n  var e = t.__c;\n  if (e && e.__H) try {\n    e.__H.__.forEach(ge);\n  } catch (t) {\n    u.__e(t, e.__v);\n  }\n};\nvar me = \"function\" == typeof requestAnimationFrame;\n\nfunction ge(t) {\n  var e = jt;\n  \"function\" == typeof t.__c && t.__c(), jt = e;\n}\n\nfunction ve(t) {\n  var e = jt;\n  t.__c = t.__(), jt = e;\n}\n\nfunction ye(t, e) {\n  return !t || t.length !== e.length || e.some(function (e, n) {\n    return e !== t[n];\n  });\n}\n\nexport { st as BaseActions, G as BaseComponent, it as BaseStore, V as Cell, S as Component, Mt as Config, kt as Dispatcher, ie as Grid, ct as PluginBaseComponent, rt as PluginPosition, Y as Row, et as className, y as createElement, w as createRef, y as h, $ as html, fe as useEffect, de as useRef };","map":{"version":3,"mappings":"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","names":["n","l","u","i","t","o","r","f","e","c","s","parentNode","removeChild","a","arguments","length","push","children","defaultProps","v","type","props","key","ref","__k","__","__b","__e","__d","__c","__h","constructor","__v","vnode","h","current","y","p","this","context","d","indexOf","_","base","k","b","__r","debounceRendering","sort","some","__P","I","__n","ownerSVGElement","T","m","w","A","P","Array","isArray","g","x","value","L","z","appendChild","nextSibling","insertBefore","setProperty","test","C","style","cssText","replace","toLowerCase","slice","addEventListener","H","$","removeEventListener","setAttribute","removeAttribute","event","contextType","__E","prototype","render","M","sub","state","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","forEach","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","localName","nodeType","document","createTextNode","createElementNS","createElement","is","data","call","childNodes","dangerouslySetInnerHTML","attributes","name","__html","innerHTML","firstChild","checked","j","diffed","unmount","componentWillUnmount","N","generateUUID","Math","random","toString","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","Promise","then","bind","resolve","setTimeout","Base","id","_id","search","placeholder","sortAsc","sortDesc","pagination","previous","next","navigate","page","pages","showing","of","to","results","loading","noRecordsFound","error","Translator","language","_language","_defaultLanguage","enUS","getString","message","lang","splitted","split","val","join","translate","messageFormat","translated","BaseComponent","translator","_this","config","keys","Object","getConfig","Component","HTMLElement","parentElement","content","html","Cell","ProcessorType","update","cast","outerHTML","Row","cells","_cells","cell","index","toArray","map","fromCells","Tabular","rows","_rows","_length","row","fromRows","fromArray","oneDtoTwoD","len","EventEmitter","callbacks","init","on","listener","off","eventName","filter","emit","PipelineProcessor","_props","setProps","process","args","validateProps","Function","concat","result","_process","assign","GlobalSearchFilter","keyword","String","trim","columns","ignoreHiddenColumns","tabular","selector","rowIndex","cellIndex","hidden","element","RegExp","Filter","className","prefix","reduce","prev","cur","classJoin","BaseStore","PluginPosition","dispatcher","_state","getInitialState","register","_handle","action","handle","payload","newState","prevState","SearchStore","BaseActions","dispatch","SearchActions","ServerGlobalSearchFilter","options","updates","url","body","ServerFilter","format","toUpperCase","throwException","msg","Error","console","warn","info","PluginBaseComponent","PluginManager","plugins","get","add","plugin","log","remove","splice","list","position","undefined","order","PluginRenderer","pluginId","Fragment","component","Search","searchProcessor","actions","store","storeUpdatedFn","enabled","storeUpdated","server","header","pipeline","unregister","onChange","target","func","waitFor","timeout","onInput","debounceTimeout","clearTimeout","aria-label","PaginationLimit","isNaN","Number","limit","Limit","ServerPaginationLimit","ServerLimit","Pagination","processor","onUpdateFn","setTotalFromTabularFn","total","setTotalFromTabular","_this2","setTotal","onUpdate","resetPageOnUpdate","setPage","totalRows","renderPages","buttonsCount","maxCount","min","pagePivot","floor","tabIndex","role","onClick","title","paginationButton","from","_this3","paginationButtonCurrent","renderSummary","summary","aria-live","paginationSummary","prevButton","disabled","paginationButtonPrev","nextButton","paginationButtonNext","ceil","width","containerWidth","parseInt","px","ShadowTable","tableElement","tableClassName","tableStyle","tableRef","cloneNode","zIndex","visibility","widths","tableLayout","padding","margin","border","outline","obj","querySelectorAll","clientWidth","getAttribute","minWidth","nodeElement","camelCase","str","words","word","charAt","Header","_columns","adjustWidth","container","tempRef","autoWidth","shadowTable","el","tabularFormat","column","setSort","userConfig","setFixedHeader","fixedHeader","setResizable","resizable","setID","logger","populatePlugins","fromColumns","isValidElement","typedColumn","fromUserConfig","fromHTMLTable","querySelector","th","cols","nextRow","col","leafColumns","maximumDepth","Dispatcher","_callbacks","_isDispatching","_isHandled","_isPending","_lastID","_pendingPayload","callback","ids","ii","_invokeCallback","_startDispatching","_stopDispatching","isDispatching","Storage","MemoryStorage","set","ServerStorage","handler","response","ok","json","status","statusText","opts","fetch","res","StorageUtils","createFromUserConfig","storage","tableElementToArray","display","arr","parsedRow","Node","TEXT_NODE","DOMParser","parseFromString","documentElement","textContent","_settle","onFulfilled","onRejected","thenable","Status","Pipeline","steps","_steps","Map","cache","lastProcessorIndexUpdated","step","clearCache","priority","processorPropsUpdated","addProcessorByPriority","afterRegistered","subSteps","proc","newSubStep","first","second","getStepsByType","getSortedProcessorTypes","pact","processorIndex","findProcessorIndexByID","processorID","findIndex","setLastProcessorIndex","StorageExtractor","Extractor","ArrayToTabularTransformer","arrayResponse","Transformer","ServerInitiator","entries","serverStorageOptions","acc","Initiator","StorageResponseToArrayTransformer","castData","pad","storageResponse","PipelineUtils","createFromConfig","Config","_userConfig","defaultConfig","updatedConfig","height","multiColumn","Footer","TD","formatter","handleClick","messageCell","eventEmitter","getCustomAttributes","colSpan","data-column-id","td","TR","getColumn","messageRow","getChildren","tr","MessageRow","TBody","headerLength","visibleColumns","tbody","Loading","Rendered","notfound","NativeSort","condition","direction","compare","cellA","cellB","compareWrapper","cmp","sortedRows","sorted","Sort","SortStore","sortColumn","multi","sortToggle","find","count","reset","SortActions","ServerSort","sortProcessor","updateStateFn","updateSortProcessorFn","getOrCreateSortProcessor","updateState","currentColumn","updateSortProcessor","sortedColumns","processorType","processors","changeDirection","preventDefault","stopPropagation","shiftKey","sortClassName","Resize","moveFn","upFn","getPageX","MouseEvent","pageX","changedTouches","start","fn","wait","inThrottle","lastFn","lastTime","offsetStart","thRef","end","move","Date","now","max","thElement","onMouseDown","onTouchStart","TH","sortRef","isSortable","isResizable","keyDown","which","offsetTop","top","onKeyDown","rowSpan","THead","renderColumn","columnIndex","depth","remainingRows","calculateRowColSpans","renderRow","renderRows","thead","Table","table","HeaderContainer","headerRef","isActive","FooterContainer","footerRef","footer","Container","configContext","processPipelineFn","Consumer","Provider","createContext","processPipeline","Loaded","_this5","previousState","Grid","instance","updateConfig","forceRender","__H","requestAnimationFrame","cancelAnimationFrame"],"sources":["C:\\Users\\User\\my-app\\node_modules\\gridjs\\node_modules\\preact\\dist\\preact.mjs","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\util\\id.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\base.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\i18n\\en_US.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\i18n\\language.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\view\\base.tsx","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\util\\getConfig.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\view\\htmlElement.tsx","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\util\\html.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\cell.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\pipeline\\processor.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\row.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\tabular.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\util\\array.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\util\\eventEmitter.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\pipeline\\filter\\globalSearch.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\operator\\search.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\util\\className.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\view\\base\\store.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\plugin.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\view\\plugin\\search\\store.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\view\\base\\actions.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\view\\plugin\\search\\actions.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\pipeline\\filter\\serverGlobalSearch.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\util\\log.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\view\\plugin\\search\\search.tsx","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\util\\debounce.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\pipeline\\limit\\pagination.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\pipeline\\limit\\serverPagination.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\view\\plugin\\pagination.tsx","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\util\\width.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\view\\table\\shadow.tsx","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\util\\string.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\header.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\util\\dispatcher.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\storage\\storage.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\storage\\memory.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\storage\\server.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\storage\\storageUtils.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\pipeline\\pipeline.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\types.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\pipeline\\extractor\\storage.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\pipeline\\transformer\\arrayToTabular.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\pipeline\\initiator\\server.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\pipeline\\transformer\\storageResponseToArray.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\pipeline\\pipelineUtils.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\config.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\node_modules\\preact\\hooks\\dist\\hooks.mjs","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\view\\table\\td.tsx","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\view\\table\\tr.tsx","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\view\\table\\messageRow.tsx","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\view\\table\\tbody.tsx","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\pipeline\\sort\\native.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\view\\plugin\\sort\\store.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\view\\plugin\\sort\\actions.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\pipeline\\sort\\server.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\view\\plugin\\sort\\sort.tsx","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\view\\plugin\\resize\\resize.tsx","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\util\\throttle.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\view\\table\\th.tsx","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\view\\table\\thead.tsx","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\util\\table.ts","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\view\\table\\table.tsx","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\view\\headerContainer.tsx","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\view\\footerContainer.tsx","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\view\\container.tsx","C:\\Users\\User\\my-app\\node_modules\\gridjs\\src\\grid.ts"],"sourcesContent":["var n,l,u,i,t,o,r={},f=[],e=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function c(n,l){for(var u in l)n[u]=l[u];return n}function s(n){var l=n.parentNode;l&&l.removeChild(n)}function a(n,l,u){var i,t,o,r=arguments,f={};for(o in l)\"key\"==o?i=l[o]:\"ref\"==o?t=l[o]:f[o]=l[o];if(arguments.length>3)for(u=[u],o=3;o<arguments.length;o++)u.push(r[o]);if(null!=u&&(f.children=u),\"function\"==typeof n&&null!=n.defaultProps)for(o in n.defaultProps)void 0===f[o]&&(f[o]=n.defaultProps[o]);return v(n,f,i,t,null)}function v(l,u,i,t,o){var r={type:l,props:u,key:i,ref:t,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++n.__v:o};return null!=n.vnode&&n.vnode(r),r}function h(){return{current:null}}function y(n){return n.children}function p(n,l){this.props=n,this.context=l}function d(n,l){if(null==l)return n.__?d(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?d(n):null}function _(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return _(n)}}function k(l){(!l.__d&&(l.__d=!0)&&u.push(l)&&!b.__r++||t!==n.debounceRendering)&&((t=n.debounceRendering)||i)(b)}function b(){for(var n;b.__r=u.length;)n=u.sort(function(n,l){return n.__v.__b-l.__v.__b}),u=[],n.some(function(n){var l,u,i,t,o,r;n.__d&&(o=(t=(l=n).__v).__e,(r=l.__P)&&(u=[],(i=c({},t)).__v=t.__v+1,I(r,t,i,l.__n,void 0!==r.ownerSVGElement,null!=t.__h?[o]:null,u,null==o?d(t):o,t.__h),T(u,t),t.__e!=o&&_(t)))})}function m(n,l,u,i,t,o,e,c,s,a){var h,p,_,k,b,m,w,A=i&&i.__k||f,P=A.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(k=u.__k[h]=null==(k=l[h])||\"boolean\"==typeof k?null:\"string\"==typeof k||\"number\"==typeof k||\"bigint\"==typeof k?v(null,k,null,null,k):Array.isArray(k)?v(y,{children:k},null,null,null):k.__b>0?v(k.type,k.props,k.key,null,k.__v):k)){if(k.__=u,k.__b=u.__b+1,null===(_=A[h])||_&&k.key==_.key&&k.type===_.type)A[h]=void 0;else for(p=0;p<P;p++){if((_=A[p])&&k.key==_.key&&k.type===_.type){A[p]=void 0;break}_=null}I(n,k,_=_||r,t,o,e,c,s,a),b=k.__e,(p=k.ref)&&_.ref!=p&&(w||(w=[]),_.ref&&w.push(_.ref,null,k),w.push(p,k.__c||b,k)),null!=b?(null==m&&(m=b),\"function\"==typeof k.type&&null!=k.__k&&k.__k===_.__k?k.__d=s=g(k,s,n):s=x(n,k,_,A,b,s),a||\"option\"!==u.type?\"function\"==typeof u.type&&(u.__d=s):n.value=\"\"):s&&_.__e==s&&s.parentNode!=n&&(s=d(_))}for(u.__e=m,h=P;h--;)null!=A[h]&&(\"function\"==typeof u.type&&null!=A[h].__e&&A[h].__e==u.__d&&(u.__d=d(i,h+1)),L(A[h],A[h]));if(w)for(h=0;h<w.length;h++)z(w[h],w[++h],w[++h])}function g(n,l,u){var i,t;for(i=0;i<n.__k.length;i++)(t=n.__k[i])&&(t.__=n,l=\"function\"==typeof t.type?g(t,l,u):x(u,t,t,n.__k,t.__e,l));return l}function w(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){w(n,l)}):l.push(n)),l}function x(n,l,u,i,t,o){var r,f,e;if(void 0!==l.__d)r=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),r=null;else{for(f=o,e=0;(f=f.nextSibling)&&e<i.length;e+=2)if(f==t)break n;n.insertBefore(t,o),r=o}return void 0!==r?r:t.nextSibling}function A(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||C(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||C(n,o,l[o],u[o],i)}function P(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||e.test(l)?u:u+\"px\"}function C(n,l,u,i,t){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||P(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||P(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?H:$,o):n.removeEventListener(l,o?H:$,o);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink[H:h]/,\"h\").replace(/sName$/,\"s\");else if(\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null!=u&&(!1!==u||\"a\"===l[0]&&\"r\"===l[1])?n.setAttribute(l,u):n.removeAttribute(l))}}function $(l){this.l[l.type+!1](n.event?n.event(l):l)}function H(l){this.l[l.type+!0](n.event?n.event(l):l)}function I(l,u,i,t,o,r,f,e,s){var a,v,h,d,_,k,b,g,w,x,A,P=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(s=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(a=n.__b)&&a(u);try{n:if(\"function\"==typeof P){if(g=u.props,w=(a=P.contextType)&&t[a.__c],x=a?w?w.props.value:a.__:t,i.__c?b=(v=u.__c=i.__c).__=v.__E:(\"prototype\"in P&&P.prototype.render?u.__c=v=new P(g,x):(u.__c=v=new p(g,x),v.constructor=P,v.render=M),w&&w.sub(v),v.props=g,v.state||(v.state={}),v.context=x,v.__n=t,h=v.__d=!0,v.__h=[]),null==v.__s&&(v.__s=v.state),null!=P.getDerivedStateFromProps&&(v.__s==v.state&&(v.__s=c({},v.__s)),c(v.__s,P.getDerivedStateFromProps(g,v.__s))),d=v.props,_=v.state,h)null==P.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&v.__h.push(v.componentDidMount);else{if(null==P.getDerivedStateFromProps&&g!==d&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(g,x),!v.__e&&null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(g,v.__s,x)||u.__v===i.__v){v.props=g,v.state=v.__s,u.__v!==i.__v&&(v.__d=!1),v.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),v.__h.length&&f.push(v);break n}null!=v.componentWillUpdate&&v.componentWillUpdate(g,v.__s,x),null!=v.componentDidUpdate&&v.__h.push(function(){v.componentDidUpdate(d,_,k)})}v.context=x,v.props=g,v.state=v.__s,(a=n.__r)&&a(u),v.__d=!1,v.__v=u,v.__P=l,a=v.render(v.props,v.state,v.context),v.state=v.__s,null!=v.getChildContext&&(t=c(c({},t),v.getChildContext())),h||null==v.getSnapshotBeforeUpdate||(k=v.getSnapshotBeforeUpdate(d,_)),A=null!=a&&a.type===y&&null==a.key?a.props.children:a,m(l,Array.isArray(A)?A:[A],u,i,t,o,r,f,e,s),v.base=u.__e,u.__h=null,v.__h.length&&f.push(v),b&&(v.__E=v.__=null),v.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=j(i.__e,u,i,t,o,r,f,s);(a=n.diffed)&&a(u)}catch(l){u.__v=null,(s||null!=r)&&(u.__e=e,u.__h=!!s,r[r.indexOf(e)]=null),n.__e(l,u,i)}}function T(l,u){n.__c&&n.__c(u,l),l.some(function(u){try{l=u.__h,u.__h=[],l.some(function(n){n.call(u)})}catch(l){n.__e(l,u.__v)}})}function j(n,l,u,i,t,o,e,c){var a,v,h,y,p=u.props,d=l.props,_=l.type,k=0;if(\"svg\"===_&&(t=!0),null!=o)for(;k<o.length;k++)if((a=o[k])&&(a===n||(_?a.localName==_:3==a.nodeType))){n=a,o[k]=null;break}if(null==n){if(null===_)return document.createTextNode(d);n=t?document.createElementNS(\"http://www.w3.org/2000/svg\",_):document.createElement(_,d.is&&d),o=null,c=!1}if(null===_)p===d||c&&n.data===d||(n.data=d);else{if(o=o&&f.slice.call(n.childNodes),v=(p=u.props||r).dangerouslySetInnerHTML,h=d.dangerouslySetInnerHTML,!c){if(null!=o)for(p={},y=0;y<n.attributes.length;y++)p[n.attributes[y].name]=n.attributes[y].value;(h||v)&&(h&&(v&&h.__html==v.__html||h.__html===n.innerHTML)||(n.innerHTML=h&&h.__html||\"\"))}if(A(n,d,p,t,c),h)l.__k=[];else if(k=l.props.children,m(n,Array.isArray(k)?k:[k],l,u,i,t&&\"foreignObject\"!==_,o,e,n.firstChild,c),null!=o)for(k=o.length;k--;)null!=o[k]&&s(o[k]);c||(\"value\"in d&&void 0!==(k=d.value)&&(k!==n.value||\"progress\"===_&&!k)&&C(n,\"value\",k,p.value,!1),\"checked\"in d&&void 0!==(k=d.checked)&&k!==n.checked&&C(n,\"checked\",k,p.checked,!1))}return n}function z(l,u,i){try{\"function\"==typeof l?l(u):l.current=u}catch(l){n.__e(l,i)}}function L(l,u,i){var t,o,r;if(n.unmount&&n.unmount(l),(t=l.ref)&&(t.current&&t.current!==l.__e||z(t,null,u)),i||\"function\"==typeof l.type||(i=null!=(o=l.__e)),l.__e=l.__d=void 0,null!=(t=l.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(l){n.__e(l,u)}t.base=t.__P=null}if(t=l.__k)for(r=0;r<t.length;r++)t[r]&&L(t[r],u,i);null!=o&&s(o)}function M(n,l,u){return this.constructor(n,u)}function N(l,u,i){var t,o,e;n.__&&n.__(l,u),o=(t=\"function\"==typeof i)?null:i&&i.__k||u.__k,e=[],I(u,l=(!t&&i||u).__k=a(y,null,[l]),o||r,r,void 0!==u.ownerSVGElement,!t&&i?[i]:o?null:u.firstChild?f.slice.call(u.childNodes):null,e,!t&&i?i:o?o.__e:u.firstChild,t),T(e,l)}function O(n,l){N(n,l,O)}function S(n,l,u){var i,t,o,r=arguments,f=c({},n.props);for(o in l)\"key\"==o?i=l[o]:\"ref\"==o?t=l[o]:f[o]=l[o];if(arguments.length>3)for(u=[u],o=3;o<arguments.length;o++)u.push(r[o]);return null!=u&&(f.children=u),v(n.type,f,i||n.key,t||n.ref,null)}function q(n,l){var u={__c:l=\"__cC\"+o++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(k)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n={__e:function(n,l){for(var u,i,t;l=l.__;)if((u=l.__c)&&!u.__)try{if((i=u.constructor)&&null!=i.getDerivedStateFromError&&(u.setState(i.getDerivedStateFromError(n)),t=u.__d),null!=u.componentDidCatch&&(u.componentDidCatch(n),t=u.__d),t)return u.__E=u}catch(l){n=l}throw n},__v:0},l=function(n){return null!=n&&void 0===n.constructor},p.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=c({},this.state),\"function\"==typeof n&&(n=n(c({},u),this.props)),n&&c(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),k(this))},p.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),k(this))},p.prototype.render=y,u=[],i=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,b.__r=0,o=0;export{N as render,O as hydrate,a as createElement,a as h,y as Fragment,h as createRef,l as isValidElement,p as Component,S as cloneElement,q as createContext,w as toChildArray,n as options};\n//# sourceMappingURL=preact.module.js.map\n","export type ID = string;\n\nexport function generateUUID(): ID {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    const r = (Math.random() * 16) | 0,\n      v = c == 'x' ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n}\n","import { generateUUID, ID } from './util/id';\n\nclass Base {\n  private readonly _id: ID;\n\n  constructor(id?: ID) {\n    this._id = id || generateUUID();\n  }\n\n  get id(): ID {\n    return this._id;\n  }\n}\n\nexport default Base;\n","export default {\n  search: {\n    placeholder: 'Type a keyword...',\n  },\n  sort: {\n    sortAsc: 'Sort column ascending',\n    sortDesc: 'Sort column descending',\n  },\n  pagination: {\n    previous: 'Previous',\n    next: 'Next',\n    navigate: (page, pages) => `Page ${page} of ${pages}`,\n    page: (page) => `Page ${page}`,\n    showing: 'Showing',\n    of: 'of',\n    to: 'to',\n    results: 'results',\n  },\n  loading: 'Loading...',\n  noRecordsFound: 'No matching records found',\n  error: 'An error happened while fetching the data',\n};\n","import enUS from './en_US';\ntype MessageFormat = (...args) => string;\ntype Message = string | MessageFormat;\nexport type Language = { [key: string]: Message | Language };\n\nexport class Translator {\n  private readonly _language: Language;\n  private readonly _defaultLanguage: Language;\n\n  constructor(language?: Language) {\n    this._language = language;\n    this._defaultLanguage = enUS;\n  }\n\n  /**\n   * Tries to split the message with \".\" and find\n   * the key in the given language\n   *\n   * @param message\n   * @param lang\n   */\n  getString(message: string, lang: Language): MessageFormat {\n    if (!lang || !message) return null;\n\n    const splitted = message.split('.');\n    const key = splitted[0];\n\n    if (lang[key]) {\n      const val = lang[key];\n\n      if (typeof val === 'string') {\n        return (): string => val;\n      } else if (typeof val === 'function') {\n        return val;\n      } else {\n        return this.getString(splitted.slice(1).join('.'), val);\n      }\n    }\n\n    return null;\n  }\n\n  translate(message: string, ...args): string {\n    const translated = this.getString(message, this._language);\n    let messageFormat;\n\n    if (translated) {\n      messageFormat = translated;\n    } else {\n      messageFormat = this.getString(message, this._defaultLanguage);\n    }\n\n    if (messageFormat) {\n      return messageFormat(...args);\n    }\n\n    return message;\n  }\n}\n\nexport function useTranslator(translator: Translator) {\n  return function (message: string, ...args): string {\n    return translator.translate(message, ...args);\n  };\n}\n","import { Component } from 'preact';\nimport { Config } from '../config';\nimport getConfig from '../util/getConfig';\nimport { useTranslator } from '../i18n/language';\n\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\nexport interface BaseProps {}\n\nexport abstract class BaseComponent<\n  P extends BaseProps = unknown,\n  S = unknown,\n> extends Component<P, S> {\n  protected config: Config;\n  protected _: (message: string, ...args) => string;\n\n  constructor(props: P, context: any) {\n    super(props, context);\n    this.config = getConfig(context);\n\n    if (this.config) {\n      this._ = useTranslator(this.config.translator);\n    }\n  }\n}\n\nexport interface BaseComponent<P> {\n  new (props: P, context?: any): Component<P>;\n}\n","import { Context } from 'preact';\nimport { Config } from '../config';\n\n/**\n * This is a hack to get the current global config from Preact context.\n * My assumption is that we only need one global context which is the ConfigContext\n *\n * @param context\n */\nexport default function getConfig(context: {\n  [key: string]: Context<any>;\n}): Config {\n  if (!context) return null;\n\n  const keys = Object.keys(context);\n\n  if (keys.length) {\n    // TODO: can we use a better way to capture and return the Config context?\n    const ctx: any = context[keys[0]];\n    return ctx.props.value;\n  }\n\n  return null;\n}\n","import { h } from 'preact';\n\nimport { BaseComponent, BaseProps } from './base';\n\nexport interface HTMLContentProps extends BaseProps {\n  content: string;\n  parentElement?: string;\n}\n\nexport class HTMLElement extends BaseComponent<HTMLContentProps> {\n  static defaultProps = {\n    parentElement: 'span',\n  };\n\n  render() {\n    return h(this.props.parentElement, {\n      dangerouslySetInnerHTML: { __html: this.props.content },\n    });\n  }\n}\n","import { h, VNode } from 'preact';\nimport { HTMLElement } from '../view/htmlElement';\n\nexport function decode(content: string): string {\n  const value = new DOMParser().parseFromString(content, 'text/html');\n  return value.documentElement.textContent;\n}\n\nexport function html(content: string, parentElement?: string): VNode {\n  return h(HTMLElement, { content: content, parentElement: parentElement });\n}\n","import Base from './base';\nimport { TCell } from './types';\nimport { html } from './util/html';\nimport { ComponentChild } from 'preact';\n\nclass Cell extends Base {\n  // because a Cell is a subset of TCell type\n  public data: number | string | boolean | ComponentChild;\n\n  constructor(data: TCell) {\n    super();\n\n    this.update(data);\n  }\n\n  private cast(data: TCell): number | string | boolean | ComponentChild {\n    if (data instanceof HTMLElement) {\n      return html(data.outerHTML);\n    }\n\n    return data;\n  }\n\n  /**\n   * Updates the Cell's data\n   *\n   * @param data\n   */\n  public update(data: TCell): Cell {\n    this.data = this.cast(data);\n    return this;\n  }\n}\n\nexport default Cell;\n","// The order of enum items define the processing order of the processor type\n// e.g. Extractor = 0 will be processed before Transformer = 1\nimport { generateUUID, ID } from '../util/id';\nimport { EventEmitter } from '../util/eventEmitter';\n\nexport enum ProcessorType {\n  Initiator,\n  ServerFilter,\n  ServerSort,\n  ServerLimit,\n  Extractor,\n  Transformer,\n  Filter,\n  Sort,\n  Limit,\n}\n\ninterface PipelineProcessorEvents<T, P> {\n  propsUpdated: (processor: PipelineProcessor<T, P>) => void;\n  beforeProcess: (...args) => void;\n  afterProcess: (...args) => void;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\nexport interface PipelineProcessorProps {}\n\nexport abstract class PipelineProcessor<\n  T,\n  P extends Partial<PipelineProcessorProps>,\n> extends EventEmitter<PipelineProcessorEvents<T, P>> {\n  public readonly id: ID;\n  private readonly _props: P;\n\n  abstract get type(): ProcessorType;\n  protected abstract _process(...args): T | Promise<T>;\n  protected validateProps?(...args): void;\n\n  constructor(props?: Partial<P>) {\n    super();\n\n    this._props = {} as P;\n    this.id = generateUUID();\n\n    if (props) this.setProps(props);\n  }\n\n  /**\n   * process is used to call beforeProcess and afterProcess callbacks\n   * This function is just a wrapper that calls _process()\n   *\n   * @param args\n   */\n  process(...args): T | Promise<T> {\n    if (this.validateProps instanceof Function) {\n      this.validateProps(...args);\n    }\n\n    this.emit('beforeProcess', ...args);\n    const result = this._process(...args);\n    this.emit('afterProcess', ...args);\n    return result;\n  }\n\n  setProps(props: Partial<P>): this {\n    Object.assign(this._props, props);\n    this.emit('propsUpdated', this);\n    return this;\n  }\n\n  get props(): P {\n    return this._props;\n  }\n}\n","import Cell from './cell';\nimport Base from './base';\nimport { TCell } from './types';\n\nclass Row extends Base {\n  private _cells: Cell[];\n\n  constructor(cells?: Cell[]) {\n    super();\n\n    this.cells = cells || [];\n  }\n\n  public cell(index: number): Cell {\n    return this._cells[index];\n  }\n\n  public get cells(): Cell[] {\n    return this._cells;\n  }\n\n  public set cells(cells: Cell[]) {\n    this._cells = cells;\n  }\n\n  public toArray(): TCell[] {\n    return this.cells.map((cell) => cell.data);\n  }\n\n  /**\n   * Creates a new Row from an array of Cell(s)\n   * This method generates a new ID for the Row and all nested elements\n   *\n   * @param cells\n   * @returns Row\n   */\n  static fromCells(cells: Cell[]): Row {\n    return new Row(cells.map((cell) => new Cell(cell.data)));\n  }\n\n  get length(): number {\n    return this.cells.length;\n  }\n}\n\nexport default Row;\n","import Base from './base';\nimport Row from './row';\nimport Cell from './cell';\nimport { OneDArray, TCell, TwoDArray } from './types';\nimport { oneDtoTwoD } from './util/array';\n\nclass Tabular extends Base {\n  private _rows: Row[];\n  private _length: number;\n\n  constructor(rows?: Row[] | Row) {\n    super();\n\n    if (rows instanceof Array) {\n      this.rows = rows;\n    } else if (rows instanceof Row) {\n      this.rows = [rows];\n    } else {\n      this.rows = [];\n    }\n  }\n\n  get rows(): Row[] {\n    return this._rows;\n  }\n\n  set rows(rows: Row[]) {\n    this._rows = rows;\n  }\n\n  get length(): number {\n    return this._length || this.rows.length;\n  }\n\n  // we want to sent the length when storage is ServerStorage\n  set length(len: number) {\n    this._length = len;\n  }\n\n  public toArray(): TCell[][] {\n    return this.rows.map((row) => row.toArray());\n  }\n\n  /**\n   * Creates a new Tabular from an array of Row(s)\n   * This method generates a new ID for the Tabular and all nested elements\n   *\n   * @param rows\n   * @returns Tabular\n   */\n  static fromRows(rows: Row[]): Tabular {\n    return new Tabular(rows.map((row) => Row.fromCells(row.cells)));\n  }\n\n  /**\n   * Creates a new Tabular from a 2D array\n   * This method generates a new ID for the Tabular and all nested elements\n   *\n   * @param data\n   * @returns Tabular\n   */\n  static fromArray<T extends TCell>(\n    data: OneDArray<T> | TwoDArray<T>,\n  ): Tabular {\n    data = oneDtoTwoD(data);\n\n    return new Tabular(\n      data.map((row) => new Row(row.map((cell) => new Cell(cell)))),\n    );\n  }\n}\n\nexport default Tabular;\n","import { OneDArray, TwoDArray } from '../types';\n\nexport function oneDtoTwoD<T>(data: OneDArray<T> | TwoDArray<T>): TwoDArray<T> {\n  if (data[0] && !(data[0] instanceof Array)) {\n    return [data] as TwoDArray<T>;\n  }\n\n  return data as TwoDArray<T>;\n}\n\nexport function flatten<T>(arrays: TwoDArray<T>): OneDArray<T> {\n  return arrays.reduce((prev, x) => prev.concat(x), []);\n}\n","type EventArgs<T> = [T] extends [(...args: infer U) => any]\n  ? U\n  : [T] extends [void]\n  ? []\n  : [T];\n\n/**\n * Example:\n *\n * export interface BaseEvents<P, S> {\n *   SET_STATE: (component: BaseComponent<P, S>, state: S) => void;\n * }\n */\n\nexport interface EventEmitter<EventTypes> {\n  addListener<EventName extends keyof EventTypes>(\n    event: EventName,\n    listener: (...args: EventArgs<EventTypes[EventName]>) => void,\n  ): EventEmitter<EventTypes>;\n\n  on<EventName extends keyof EventTypes>(\n    event: EventName,\n    listener: (...args: EventArgs<EventTypes[EventName]>) => void,\n  ): EventEmitter<EventTypes>;\n\n  off<EventName extends keyof EventTypes>(\n    event: EventName,\n    listener: (...args: EventArgs<EventTypes[EventName]>) => void,\n  ): EventEmitter<EventTypes>;\n\n  emit<EventName extends keyof EventTypes>(\n    event: EventName,\n    ...args: EventArgs<EventTypes[EventName]>\n  ): boolean;\n}\n\nexport class EventEmitter<EventTypes> {\n  private callbacks: { [event: string]: ((...args) => void)[] };\n\n  // because we are using EventEmitter as a mixin and the\n  // constructor won't be called by the applyMixins function\n  // see src/base.ts and src/util/applyMixin.ts\n  private init(event?: string): void {\n    if (!this.callbacks) {\n      this.callbacks = {};\n    }\n\n    if (event && !this.callbacks[event]) {\n      this.callbacks[event] = [];\n    }\n  }\n\n  on<EventName extends keyof EventTypes>(\n    event: EventName,\n    listener: (...args: EventArgs<EventTypes[EventName]>) => void,\n  ): EventEmitter<EventTypes> {\n    this.init(event as string);\n    this.callbacks[event as string].push(listener);\n    return this;\n  }\n\n  off<EventName extends keyof EventTypes>(\n    event: EventName,\n    listener: (...args: EventArgs<EventTypes[EventName]>) => void,\n  ): EventEmitter<EventTypes> {\n    const eventName = event as string;\n\n    this.init();\n\n    if (!this.callbacks[eventName] || this.callbacks[eventName].length === 0) {\n      // there is no callbacks with this key\n      return this;\n    }\n\n    this.callbacks[eventName] = this.callbacks[eventName].filter(\n      (value) => value != listener,\n    );\n\n    return this;\n  }\n\n  emit<EventName extends keyof EventTypes>(\n    event: EventName,\n    ...args: EventArgs<EventTypes[EventName]>\n  ): boolean {\n    const eventName = event as string;\n\n    this.init(eventName);\n\n    if (this.callbacks[eventName].length > 0) {\n      this.callbacks[eventName].forEach((value) => value(...args));\n      return true;\n    }\n\n    return false;\n  }\n}\n","import search from '../../operator/search';\nimport Tabular from '../../tabular';\nimport {\n  PipelineProcessor,\n  PipelineProcessorProps,\n  ProcessorType,\n} from '../processor';\nimport { OneDArray, TCell, TColumn } from '../../types';\n\ninterface GlobalSearchFilterProps extends PipelineProcessorProps {\n  keyword: string;\n  columns: OneDArray<TColumn>;\n  ignoreHiddenColumns: boolean;\n  selector?: (cell: TCell, rowIndex: number, cellIndex: number) => string;\n}\n\nclass GlobalSearchFilter extends PipelineProcessor<\n  Tabular,\n  GlobalSearchFilterProps\n> {\n  get type(): ProcessorType {\n    return ProcessorType.Filter;\n  }\n\n  _process(data: Tabular): Tabular {\n    if (this.props.keyword) {\n      return search(\n        String(this.props.keyword).trim(),\n        this.props.columns,\n        this.props.ignoreHiddenColumns,\n        data,\n        this.props.selector,\n      );\n    }\n\n    return data;\n  }\n}\n\nexport default GlobalSearchFilter;\n","import Tabular from '../tabular';\nimport { VNode } from 'preact';\nimport { HTMLContentProps } from '../view/htmlElement';\nimport { OneDArray, TCell, TColumn } from '../types';\n\nexport default function (\n  keyword: string,\n  columns: OneDArray<TColumn>,\n  ignoreHiddenColumns: boolean,\n  tabular: Tabular,\n  selector?: (cell: TCell, rowIndex: number, cellIndex: number) => string,\n): Tabular {\n  // escape special regex chars\n  keyword = keyword.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n\n  return new Tabular(\n    tabular.rows.filter((row, rowIndex) =>\n      row.cells.some((cell, cellIndex) => {\n        if (!cell) {\n          return false;\n        }\n\n        if (ignoreHiddenColumns) {\n          if (\n            columns &&\n            columns[cellIndex] &&\n            typeof columns[cellIndex] === 'object'\n          ) {\n            const typedColumn = columns[cellIndex] as TColumn;\n            if (typedColumn.hidden) {\n              return false;\n            }\n          }\n        }\n\n        let data = '';\n\n        if (typeof selector === 'function') {\n          data = selector(cell.data, rowIndex, cellIndex);\n        } else if (typeof cell.data === 'object') {\n          // HTMLContent element\n          const element = cell.data as VNode<HTMLContentProps>;\n          if (element && element.props && element.props.content) {\n            // TODO: we should only search in the content of the element. props.content is the entire HTML element\n            data = element.props.content;\n          }\n        } else {\n          // primitive types\n          data = String(cell.data);\n        }\n\n        return new RegExp(keyword, 'gi').test(data);\n      }),\n    ),\n  );\n}\n","export function className(...args: string[]): string {\n  const prefix = 'gridjs';\n\n  return `${prefix}${args.reduce(\n    (prev: string, cur: string) => `${prev}-${cur}`,\n    '',\n  )}`;\n}\n\nexport function classJoin(...classNames: string[]): string {\n  return (\n    classNames\n      .filter((x) => x)\n      .reduce((className, prev) => `${className || ''} ${prev}`, '')\n      .trim() || null\n  );\n}\n","import { EventEmitter } from '../../util/eventEmitter';\nimport Dispatcher from '../../util/dispatcher';\n\ninterface BaseStoreEvents<STATE> {\n  updated: (newState: STATE, prevState?: STATE) => void;\n}\n\nexport default abstract class BaseStore<STATE, ACTIONS> extends EventEmitter<\n  BaseStoreEvents<STATE>\n> {\n  private _state: STATE;\n  protected readonly dispatcher: Dispatcher<any>;\n\n  constructor(dispatcher: Dispatcher<any>) {\n    super();\n    this.dispatcher = dispatcher;\n    this._state = this.getInitialState();\n    dispatcher.register(this._handle.bind(this));\n  }\n\n  abstract handle<K extends keyof ACTIONS>(type: K, payload: ACTIONS[K]): void;\n  abstract getInitialState(): STATE;\n\n  private _handle(action): void {\n    this.handle(action.type, action.payload);\n  }\n\n  setState(newState: STATE): void {\n    const prevState = this._state;\n    this._state = newState;\n    this.emit('updated', newState, prevState);\n  }\n\n  get state(): STATE {\n    return this._state;\n  }\n}\n","import { BaseComponent, BaseProps } from './view/base';\nimport { Component, ComponentProps, Fragment, h } from 'preact';\nimport log from './util/log';\n\n/**\n * BaseProps for all plugins\n */\nexport interface PluginBaseProps<T extends PluginBaseComponentCtor> {\n  plugin: Plugin<T>;\n}\n\n/**\n * BaseComponent for all plugins\n */\nexport abstract class PluginBaseComponent<\n  P extends PluginBaseProps<any> = any,\n  S = unknown,\n> extends BaseComponent<P, S> {}\n\nexport interface PluginBaseComponentCtor<\n  P extends PluginBaseProps<any> = any,\n  S = unknown,\n> {\n  new (props: P, context?: any): Component<P, S>;\n}\n\nexport enum PluginPosition {\n  Header,\n  Footer,\n  Cell,\n}\n\nexport interface Plugin<T extends PluginBaseComponentCtor> {\n  id: string;\n  position: PluginPosition;\n  component: T;\n  props?: Partial<ComponentProps<T>>;\n  order?: number;\n}\n\nexport class PluginManager {\n  private readonly plugins: Plugin<any>[];\n\n  constructor() {\n    this.plugins = [];\n  }\n\n  get<T extends PluginBaseComponentCtor>(id: string): Plugin<T> | null {\n    const plugins = this.plugins.filter((p) => p.id === id);\n\n    if (plugins.length > 0) {\n      return plugins[0];\n    }\n\n    return null;\n  }\n\n  add<T extends PluginBaseComponentCtor>(plugin: Plugin<T>): this {\n    if (!plugin.id) {\n      log.error('Plugin ID cannot be empty');\n      return this;\n    }\n\n    if (this.get(plugin.id) !== null) {\n      log.error(`Duplicate plugin ID: ${plugin.id}`);\n      return this;\n    }\n\n    this.plugins.push(plugin);\n    return this;\n  }\n\n  remove(id: string): this {\n    this.plugins.splice(this.plugins.indexOf(this.get(id)), 1);\n    return this;\n  }\n\n  list<T extends PluginBaseComponentCtor>(\n    position?: PluginPosition,\n  ): Plugin<T>[] {\n    let plugins: Plugin<T>[];\n\n    if (position != null || position != undefined) {\n      plugins = this.plugins.filter((p) => p.position === position);\n    } else {\n      plugins = this.plugins;\n    }\n\n    return plugins.sort((a, b) => a.order - b.order);\n  }\n}\n\nexport interface PluginRendererProps extends BaseProps {\n  props?: any;\n  // to render a single plugin\n  pluginId?: string;\n  // to render all plugins in this PluginPosition\n  position?: PluginPosition;\n}\n\nexport class PluginRenderer extends BaseComponent<PluginRendererProps> {\n  render() {\n    if (this.props.pluginId) {\n      // render a single plugin\n      const plugin = this.config.plugin.get(this.props.pluginId);\n\n      if (!plugin) return null;\n\n      return h(\n        Fragment,\n        {},\n        h(plugin.component, {\n          plugin: plugin,\n          ...plugin.props,\n          ...this.props.props,\n        }),\n      );\n    } else if (this.props.position !== undefined) {\n      // render using a specific plugin position\n      return h(\n        Fragment,\n        {},\n        this.config.plugin\n          .list(this.props.position)\n          .map((p) =>\n            h(p.component, { plugin: p, ...p.props, ...this.props.props }),\n          ),\n      );\n    }\n\n    return null;\n  }\n}\n","import BaseStore from '../../base/store';\nimport { SearchActionsType } from './actions';\n\nexport type SearchStoreState = { keyword: string | null };\n\nexport class SearchStore extends BaseStore<\n  SearchStoreState,\n  SearchActionsType\n> {\n  getInitialState(): SearchStoreState {\n    return { keyword: null };\n  }\n\n  handle(type, payload): void {\n    if (type === 'SEARCH_KEYWORD') {\n      const { keyword } = payload;\n      this.search(keyword);\n    }\n  }\n\n  private search(keyword: string): void {\n    this.setState({ keyword: keyword });\n  }\n}\n","import Dispatcher from '../../util/dispatcher';\n\nexport abstract class BaseActions<ACTIONS> {\n  private readonly dispatcher: Dispatcher<any>;\n\n  constructor(dispatcher: Dispatcher<any>) {\n    this.dispatcher = dispatcher;\n  }\n\n  protected dispatch<K extends keyof ACTIONS>(\n    type: K,\n    payload: ACTIONS[K],\n  ): void {\n    this.dispatcher.dispatch({\n      type: type,\n      payload: payload,\n    });\n  }\n}\n","import { BaseActions } from '../../base/actions';\n\nexport interface SearchActionsType {\n  SEARCH_KEYWORD: {\n    keyword: string;\n  };\n}\n\nexport class SearchActions extends BaseActions<SearchActionsType> {\n  search(keyword: string): void {\n    this.dispatch('SEARCH_KEYWORD', {\n      keyword: keyword,\n    });\n  }\n}\n","import {\n  PipelineProcessor,\n  PipelineProcessorProps,\n  ProcessorType,\n} from '../processor';\nimport { ServerStorageOptions } from '../../storage/server';\n\ninterface ServerGlobalSearchFilterProps extends PipelineProcessorProps {\n  keyword?: string;\n  url?: (prevUrl: string, keyword: string) => string;\n  body?: (prevBody: BodyInit, keyword: string) => BodyInit;\n}\n\nclass ServerGlobalSearchFilter extends PipelineProcessor<\n  ServerStorageOptions,\n  ServerGlobalSearchFilterProps\n> {\n  get type(): ProcessorType {\n    return ProcessorType.ServerFilter;\n  }\n\n  _process(options?: ServerStorageOptions): ServerStorageOptions {\n    if (!this.props.keyword) return options;\n\n    const updates = {};\n\n    if (this.props.url) {\n      updates['url'] = this.props.url(options.url, this.props.keyword);\n    }\n\n    if (this.props.body) {\n      updates['body'] = this.props.body(options.body, this.props.keyword);\n    }\n\n    return {\n      ...options,\n      ...updates,\n    };\n  }\n}\n\nexport default ServerGlobalSearchFilter;\n","/**\n * Centralized logging lib\n *\n * This class needs some improvements but so far it has been used to have a coherent way to log\n */\nclass Logger {\n  private format(message: string, type: string): string {\n    return `[Grid.js] [${type.toUpperCase()}]: ${message}`;\n  }\n\n  error(message: string, throwException = false): void {\n    const msg = this.format(message, 'error');\n\n    if (throwException) {\n      throw Error(msg);\n    } else {\n      console.error(msg);\n    }\n  }\n\n  warn(message: string): void {\n    console.warn(this.format(message, 'warn'));\n  }\n\n  info(message: string): void {\n    console.info(this.format(message, 'info'));\n  }\n}\n\nexport default new Logger();\n","import { h } from 'preact';\nimport GlobalSearchFilter from '../../../pipeline/filter/globalSearch';\nimport { classJoin, className } from '../../../util/className';\nimport { SearchStore, SearchStoreState } from './store';\nimport { SearchActions } from './actions';\nimport ServerGlobalSearchFilter from '../../../pipeline/filter/serverGlobalSearch';\nimport { debounce } from '../../../util/debounce';\nimport { TCell } from '../../../types';\nimport { PluginBaseComponent, PluginBaseProps } from '../../../plugin';\n\nexport interface SearchConfig {\n  keyword?: string;\n  enabled?: boolean;\n  ignoreHiddenColumns?: boolean;\n  debounceTimeout?: number;\n  selector?: (cell: TCell, rowIndex: number, cellIndex: number) => string;\n  server?: {\n    url?: (prevUrl: string, keyword: string) => string;\n    body?: (prevBody: BodyInit, keyword: string) => BodyInit;\n  };\n}\n\nexport class Search extends PluginBaseComponent<\n  SearchConfig & PluginBaseProps<Search>\n> {\n  private readonly searchProcessor:\n    | GlobalSearchFilter\n    | ServerGlobalSearchFilter;\n  private readonly actions: SearchActions;\n  private readonly store: SearchStore;\n  private readonly storeUpdatedFn: (...args) => void;\n\n  static defaultProps = {\n    debounceTimeout: 250,\n  };\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.actions = new SearchActions(this.config.dispatcher);\n    this.store = new SearchStore(this.config.dispatcher);\n    const { enabled, keyword } = props;\n\n    if (enabled) {\n      // initial search\n      if (keyword) this.actions.search(keyword);\n\n      this.storeUpdatedFn = this.storeUpdated.bind(this);\n      this.store.on('updated', this.storeUpdatedFn);\n\n      let searchProcessor;\n      if (props.server) {\n        searchProcessor = new ServerGlobalSearchFilter({\n          keyword: props.keyword,\n          url: props.server.url,\n          body: props.server.body,\n        });\n      } else {\n        searchProcessor = new GlobalSearchFilter({\n          keyword: props.keyword,\n          columns: this.config.header && this.config.header.columns,\n          ignoreHiddenColumns:\n            props.ignoreHiddenColumns ||\n            props.ignoreHiddenColumns === undefined,\n          selector: props.selector,\n        });\n      }\n\n      this.searchProcessor = searchProcessor;\n\n      // adds a new processor to the pipeline\n      this.config.pipeline.register(searchProcessor);\n    }\n  }\n\n  componentWillUnmount(): void {\n    this.config.pipeline.unregister(this.searchProcessor);\n    this.store.off('updated', this.storeUpdatedFn);\n  }\n\n  private storeUpdated(state: SearchStoreState): void {\n    // updates the processor state\n    this.searchProcessor.setProps({\n      keyword: state.keyword,\n    });\n  }\n\n  private onChange(event): void {\n    const keyword = event.target.value;\n    this.actions.search(keyword);\n  }\n\n  render() {\n    if (!this.props.enabled) return null;\n\n    let onInput = this.onChange.bind(this);\n\n    // add debounce to input only if it's a server-side search\n    if (this.searchProcessor instanceof ServerGlobalSearchFilter) {\n      onInput = debounce(onInput, this.props.debounceTimeout);\n    }\n\n    return (\n      <div\n        className={className(classJoin('search', this.config.className.search))}\n      >\n        <input\n          type=\"search\"\n          placeholder={this._('search.placeholder')}\n          aria-label={this._('search.placeholder')}\n          onInput={onInput}\n          className={classJoin(\n            className('input'),\n            className('search', 'input'),\n          )}\n          value={this.store.state.keyword}\n        />\n      </div>\n    );\n  }\n}\n","export const debounce = <F extends (...args: any[]) => any>(\n  func: F,\n  waitFor: number,\n) => {\n  let timeout;\n\n  return (...args: Parameters<F>): Promise<ReturnType<F>> =>\n    new Promise((resolve) => {\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n\n      timeout = setTimeout(() => resolve(func(...args)), waitFor);\n    });\n};\n","import Tabular from '../../tabular';\nimport {\n  PipelineProcessor,\n  PipelineProcessorProps,\n  ProcessorType,\n} from '../processor';\n\ninterface PaginationLimitProps extends PipelineProcessorProps {\n  page: number;\n  limit: number;\n}\n\nclass PaginationLimit extends PipelineProcessor<Tabular, PaginationLimitProps> {\n  protected validateProps(): void {\n    if (isNaN(Number(this.props.limit)) || isNaN(Number(this.props.page))) {\n      throw Error('Invalid parameters passed');\n    }\n  }\n\n  get type(): ProcessorType {\n    return ProcessorType.Limit;\n  }\n\n  protected _process(data: Tabular): Tabular {\n    const page = this.props.page;\n    const start = page * this.props.limit;\n    const end = (page + 1) * this.props.limit;\n\n    return new Tabular(data.rows.slice(start, end));\n  }\n}\n\nexport default PaginationLimit;\n","import {\n  PipelineProcessor,\n  PipelineProcessorProps,\n  ProcessorType,\n} from '../processor';\nimport { ServerStorageOptions } from '../../storage/server';\n\ninterface ServerPaginationLimitProps extends PipelineProcessorProps {\n  page: number;\n  limit: number;\n  url?: (prevUrl: string, page: number, limit: number) => string;\n  body?: (prevBody: BodyInit, page: number, limit: number) => BodyInit;\n}\n\nclass ServerPaginationLimit extends PipelineProcessor<\n  ServerStorageOptions,\n  ServerPaginationLimitProps\n> {\n  get type(): ProcessorType {\n    return ProcessorType.ServerLimit;\n  }\n\n  _process(options?: ServerStorageOptions): ServerStorageOptions {\n    const updates = {};\n\n    if (this.props.url) {\n      updates['url'] = this.props.url(\n        options.url,\n        this.props.page,\n        this.props.limit,\n      );\n    }\n\n    if (this.props.body) {\n      updates['body'] = this.props.body(\n        options.body,\n        this.props.page,\n        this.props.limit,\n      );\n    }\n\n    return {\n      ...options,\n      ...updates,\n    };\n  }\n}\n\nexport default ServerPaginationLimit;\n","import { h, Fragment } from 'preact';\nimport PaginationLimit from '../../pipeline/limit/pagination';\nimport { classJoin, className } from '../../util/className';\nimport ServerPaginationLimit from '../../pipeline/limit/serverPagination';\nimport Tabular from '../../tabular';\nimport { PipelineProcessor } from '../../pipeline/processor';\nimport { PluginBaseComponent, PluginBaseProps } from '../../plugin';\n\ninterface PaginationState {\n  page: number;\n  limit?: number;\n  total: number;\n}\n\nexport interface PaginationConfig {\n  enabled: boolean;\n  limit?: number;\n  page?: number;\n  summary?: boolean;\n  nextButton?: boolean;\n  prevButton?: boolean;\n  buttonsCount?: number;\n  resetPageOnUpdate?: boolean;\n  server?: {\n    url?: (prevUrl: string, page: number, limit: number) => string;\n    body?: (prevBody: BodyInit, page: number, limit: number) => BodyInit;\n  };\n}\n\nexport class Pagination extends PluginBaseComponent<\n  PluginBaseProps<Pagination> & PaginationConfig,\n  PaginationState\n> {\n  private processor: PaginationLimit | ServerPaginationLimit;\n  private onUpdateFn: (processor: PipelineProcessor<any, any>) => void;\n  private setTotalFromTabularFn: (tabular: Tabular) => void;\n\n  static defaultProps = {\n    summary: true,\n    nextButton: true,\n    prevButton: true,\n    buttonsCount: 3,\n    limit: 10,\n    resetPageOnUpdate: true,\n  };\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      limit: props.limit,\n      page: props.page || 0,\n      total: 0,\n    };\n  }\n\n  componentWillMount(): void {\n    if (this.props.enabled) {\n      let processor;\n\n      this.setTotalFromTabularFn = this.setTotalFromTabular.bind(this);\n\n      if (this.props.server) {\n        processor = new ServerPaginationLimit({\n          limit: this.state.limit,\n          page: this.state.page,\n          url: this.props.server.url,\n          body: this.props.server.body,\n        });\n\n        this.config.pipeline.on('afterProcess', this.setTotalFromTabularFn);\n      } else {\n        processor = new PaginationLimit({\n          limit: this.state.limit,\n          page: this.state.page,\n        });\n\n        // Pagination (all Limit processors) is the last step in the pipeline\n        // and we assume that at this stage, we have the rows that we care about.\n        // Let's grab the rows before processing Pagination and set total number of rows\n        processor.on('beforeProcess', this.setTotalFromTabularFn);\n      }\n\n      this.processor = processor;\n      this.config.pipeline.register(processor);\n\n      // we need to make sure that the state is set\n      // to the default props when an error happens\n      this.config.pipeline.on('error', () => {\n        this.setState({\n          total: 0,\n          page: 0,\n        });\n      });\n    }\n  }\n\n  private setTotalFromTabular(tabular: Tabular): void {\n    this.setTotal(tabular.length);\n  }\n\n  private onUpdate(processor): void {\n    // this is to ensure that the current page is set to 0\n    // when a processor is updated for some reason\n    if (this.props.resetPageOnUpdate && processor !== this.processor) {\n      this.setPage(0);\n    }\n  }\n\n  componentDidMount(): void {\n    this.onUpdateFn = this.onUpdate.bind(this);\n    this.config.pipeline.on('updated', this.onUpdateFn);\n  }\n\n  componentWillUnmount() {\n    this.config.pipeline.unregister(this.processor);\n    this.config.pipeline.off('updated', this.onUpdateFn);\n  }\n\n  private get pages(): number {\n    return Math.ceil(this.state.total / this.state.limit);\n  }\n\n  private setPage(page: number): void {\n    if (page >= this.pages || page < 0 || page === this.state.page) {\n      return null;\n    }\n\n    this.setState({\n      page: page,\n    });\n\n    this.processor.setProps({\n      page: page,\n    });\n  }\n\n  private setTotal(totalRows: number): void {\n    // to set the correct total number of rows\n    // when running in-memory operations\n    this.setState({\n      total: totalRows,\n    });\n  }\n\n  renderPages() {\n    if (this.props.buttonsCount <= 0) {\n      return null;\n    }\n\n    // how many pagination buttons to render?\n    const maxCount: number = Math.min(this.pages, this.props.buttonsCount);\n\n    let pagePivot = Math.min(this.state.page, Math.floor(maxCount / 2));\n    if (this.state.page + Math.floor(maxCount / 2) >= this.pages) {\n      pagePivot = maxCount - (this.pages - this.state.page);\n    }\n\n    return (\n      <Fragment>\n        {this.pages > maxCount && this.state.page - pagePivot > 0 && (\n          <Fragment>\n            <button\n              tabIndex={0}\n              role=\"button\"\n              onClick={this.setPage.bind(this, 0)}\n              title={this._('pagination.firstPage')}\n              aria-label={this._('pagination.firstPage')}\n              className={this.config.className.paginationButton}\n            >\n              {this._('1')}\n            </button>\n            <button\n              tabIndex={-1}\n              className={classJoin(\n                className('spread'),\n                this.config.className.paginationButton,\n              )}\n            >\n              ...\n            </button>\n          </Fragment>\n        )}\n\n        {Array.from(Array(maxCount).keys())\n          .map((i) => this.state.page + (i - pagePivot))\n          .map((i) => (\n            <button\n              tabIndex={0}\n              role=\"button\"\n              onClick={this.setPage.bind(this, i)}\n              className={classJoin(\n                this.state.page === i\n                  ? classJoin(\n                      className('currentPage'),\n                      this.config.className.paginationButtonCurrent,\n                    )\n                  : null,\n                this.config.className.paginationButton,\n              )}\n              title={this._('pagination.page', i + 1)}\n              aria-label={this._('pagination.page', i + 1)}\n            >\n              {this._(`${i + 1}`)}\n            </button>\n          ))}\n\n        {this.pages > maxCount && this.pages > this.state.page + pagePivot + 1 && (\n          <Fragment>\n            <button\n              tabIndex={-1}\n              className={classJoin(\n                className('spread'),\n                this.config.className.paginationButton,\n              )}\n            >\n              ...\n            </button>\n            <button\n              tabIndex={0}\n              role=\"button\"\n              onClick={this.setPage.bind(this, this.pages - 1)}\n              title={this._('pagination.page', this.pages)}\n              aria-label={this._('pagination.page', this.pages)}\n              className={this.config.className.paginationButton}\n            >\n              {this._(`${this.pages}`)}\n            </button>\n          </Fragment>\n        )}\n      </Fragment>\n    );\n  }\n\n  renderSummary() {\n    return (\n      <Fragment>\n        {this.props.summary && this.state.total > 0 && (\n          <div\n            role=\"status\"\n            aria-live=\"polite\"\n            className={classJoin(\n              className('summary'),\n              this.config.className.paginationSummary,\n            )}\n            title={this._(\n              'pagination.navigate',\n              this.state.page + 1,\n              this.pages,\n            )}\n          >\n            {this._('pagination.showing')}{' '}\n            <b>{this._(`${this.state.page * this.state.limit + 1}`)}</b>{' '}\n            {this._('pagination.to')}{' '}\n            <b>\n              {this._(\n                `${Math.min(\n                  (this.state.page + 1) * this.state.limit,\n                  this.state.total,\n                )}`,\n              )}\n            </b>{' '}\n            {this._('pagination.of')} <b>{this._(`${this.state.total}`)}</b>{' '}\n            {this._('pagination.results')}\n          </div>\n        )}\n      </Fragment>\n    );\n  }\n\n  render() {\n    if (!this.props.enabled) return null;\n\n    return (\n      <div\n        className={classJoin(\n          className('pagination'),\n          this.config.className.pagination,\n        )}\n      >\n        {this.renderSummary()}\n\n        <div className={className('pages')}>\n          {this.props.prevButton && (\n            <button\n              tabIndex={0}\n              role=\"button\"\n              disabled={this.state.page === 0}\n              onClick={this.setPage.bind(this, this.state.page - 1)}\n              title={this._('pagination.previous')}\n              aria-label={this._('pagination.previous')}\n              className={classJoin(\n                this.config.className.paginationButton,\n                this.config.className.paginationButtonPrev,\n              )}\n            >\n              {this._('pagination.previous')}\n            </button>\n          )}\n\n          {this.renderPages()}\n\n          {this.props.nextButton && (\n            <button\n              tabIndex={0}\n              role=\"button\"\n              disabled={this.pages === this.state.page + 1 || this.pages === 0}\n              onClick={this.setPage.bind(this, this.state.page + 1)}\n              title={this._('pagination.next')}\n              aria-label={this._('pagination.next')}\n              className={classJoin(\n                this.config.className.paginationButton,\n                this.config.className.paginationButtonNext,\n              )}\n            >\n              {this._('pagination.next')}\n            </button>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n","export function width(width: string | number, containerWidth?: number): number {\n  if (typeof width == 'string') {\n    if (width.indexOf('%') > -1) {\n      return (containerWidth / 100) * parseInt(width, 10);\n    } else {\n      return parseInt(width, 10);\n    }\n  }\n\n  return width;\n}\n\nexport function px(width: number): string {\n  if (!width) return '';\n  return `${Math.floor(width)}px`;\n}\n","import { Component, h, RefObject } from 'preact';\nimport { BaseComponent, BaseProps } from '../base';\nimport { className } from '../../util/className';\n\ninterface ShadowTableProps extends BaseProps {\n  tableRef?: RefObject<Component>;\n}\n\n/**\n * ShadowTable renders a hidden table and is used to calculate the column's width\n * when autoWidth option is enabled\n */\nexport class ShadowTable extends BaseComponent<ShadowTableProps> {\n  private tableElement: HTMLTableElement;\n  private tableClassName: string;\n  private tableStyle: string;\n\n  constructor(props, context) {\n    super(props, context);\n\n    const tableRef = this.props.tableRef;\n    this.tableElement = tableRef.current.base.cloneNode(\n      true,\n    ) as HTMLTableElement;\n\n    this.tableElement.style.position = 'absolute';\n    this.tableElement.style.width = '100%';\n    this.tableElement.style.zIndex = '-2147483640';\n    this.tableElement.style.visibility = 'hidden';\n\n    this.tableClassName = this.tableElement.className;\n    this.tableStyle = this.tableElement.style.cssText;\n  }\n\n  public widths(): { [columnId: string]: { minWidth: number; width: number } } {\n    this.tableElement.className = `${this.tableClassName} ${className(\n      'shadowTable',\n    )}`;\n\n    this.tableElement.style.tableLayout = 'auto';\n    this.tableElement.style.width = 'auto';\n    this.tableElement.style.padding = '0';\n    this.tableElement.style.margin = '0';\n    this.tableElement.style.border = 'none';\n    this.tableElement.style.outline = 'none';\n\n    let obj = Array.from(\n      this.base.parentNode.querySelectorAll<HTMLElement>('thead th'),\n    ).reduce((prev, current) => {\n      current.style.width = `${current.clientWidth}px`;\n\n      return {\n        [current.getAttribute('data-column-id')]: {\n          minWidth: current.clientWidth,\n        },\n        ...prev,\n      };\n    }, {});\n\n    this.tableElement.className = this.tableClassName;\n    this.tableElement.style.cssText = this.tableStyle;\n    this.tableElement.style.tableLayout = 'auto';\n\n    obj = Array.from(\n      this.base.parentNode.querySelectorAll<HTMLElement>('thead th'),\n    ).reduce((prev, current) => {\n      prev[current.getAttribute('data-column-id')]['width'] =\n        current.clientWidth;\n\n      return prev;\n    }, obj);\n\n    return obj;\n  }\n\n  render() {\n    if (this.props.tableRef.current) {\n      return (\n        <div\n          ref={(nodeElement) => {\n            nodeElement && nodeElement.appendChild(this.tableElement);\n          }}\n        />\n      );\n    }\n\n    return null;\n  }\n}\n","export function camelCase(str: string): string {\n  if (!str) return '';\n\n  const words = str.split(' ');\n\n  // do not convert strings that are already in camelCase format\n  if (words.length === 1 && /([a-z][A-Z])+/g.test(str)) {\n    return str;\n  }\n\n  return words\n    .map(function (word, index) {\n      // if it is the first word, lowercase all the chars\n      if (index == 0) {\n        return word.toLowerCase();\n      }\n\n      // if it is not the first word only upper case the first char and lowercase the rest\n      return word.charAt(0).toUpperCase() + word.slice(1).toLowerCase();\n    })\n    .join('');\n}\n","import { OneDArray, TColumn, TwoDArray } from './types';\nimport Base from './base';\nimport { Config, UserConfig } from './config';\nimport { px, width } from './util/width';\nimport { ShadowTable } from './view/table/shadow';\nimport {\n  Component,\n  ComponentChild,\n  createRef,\n  h,\n  isValidElement,\n  RefObject,\n  render,\n} from 'preact';\nimport { camelCase } from './util/string';\nimport { flatten } from './util/array';\nimport logger from './util/log';\nimport { PluginPosition } from './plugin';\n\nclass Header extends Base {\n  private _columns: OneDArray<TColumn>;\n\n  constructor() {\n    super();\n\n    this._columns = [];\n  }\n\n  get columns(): OneDArray<TColumn> {\n    return this._columns;\n  }\n\n  set columns(columns) {\n    this._columns = columns;\n  }\n\n  get visibleColumns(): OneDArray<TColumn> {\n    return this._columns.filter((c) => !c.hidden);\n  }\n\n  /**\n   * Tries to automatically adjust the width of columns based on:\n   *    - Header cell content\n   *    - Cell content of the first row\n   *    - Cell content of the last row\n   *\n   * @param config\n   */\n  adjustWidth(config: Config): this {\n    const container: Element = config.container;\n    const tableRef: RefObject<Component> = config.tableRef;\n    const tempRef: RefObject<HTMLDivElement> = config.tempRef;\n    const autoWidth = config.tempRef || true;\n\n    if (!container) {\n      // we can't calculate the width because the container\n      // is unknown at this stage\n      return this;\n    }\n\n    // pixels\n    const containerWidth = container.clientWidth;\n\n    // let's create a shadow table with the first 10 rows of the data\n    // and let the browser to render the table with table-layout: auto\n    // no padding, margin or border to get the minimum space required\n    // to render columns. One the table is rendered and widths are known,\n    // we unmount the shadow table from the DOM and set the correct width\n    const shadowTable = createRef();\n    let widths = {};\n\n    if (tableRef.current && autoWidth) {\n      // render a ShadowTable with the first 10 rows\n      const el = h(ShadowTable, {\n        tableRef: tableRef,\n      });\n      el.ref = shadowTable;\n\n      render(el, tempRef.current);\n\n      widths = shadowTable.current.widths();\n    }\n\n    for (const column of flatten(Header.tabularFormat(this.columns))) {\n      // because we don't want to set the width of parent THs\n      if (column.columns && column.columns.length > 0) {\n        continue;\n      }\n\n      if (!column.width && autoWidth) {\n        // tries to find the corresponding cell\n        // from the ShadowTable and set the correct width\n\n        if (column.id in widths) {\n          // because a column can be hidden, too\n          column.width = px(widths[column.id]['width']);\n          column.minWidth = px(widths[column.id]['minWidth']);\n        }\n      } else {\n        // column width is already defined\n        // sets the column with based on the width of its container\n        column.width = px(width(column.width, containerWidth));\n      }\n    }\n\n    if (tableRef.current && autoWidth) {\n      // unmount the shadow table from temp\n      render(null, tempRef.current);\n    }\n\n    return this;\n  }\n\n  private setSort(userConfig: UserConfig, columns?: OneDArray<TColumn>): void {\n    const cols = columns || this.columns || [];\n\n    for (const column of cols) {\n      // sorting can only be enabled for columns without any children\n      if (column.columns && column.columns.length > 0) {\n        column.sort = {\n          enabled: false,\n        };\n      }\n\n      // implicit userConfig.sort flag\n      if (column.sort === undefined && userConfig.sort) {\n        column.sort = {\n          enabled: true,\n        };\n      }\n\n      // false, null, etc.\n      if (!column.sort) {\n        column.sort = {\n          enabled: false,\n        };\n      } else if (typeof column.sort === 'object') {\n        column.sort = {\n          enabled: true,\n          ...column.sort,\n        };\n      }\n\n      if (column.columns) {\n        this.setSort(userConfig, column.columns);\n      }\n    }\n  }\n\n  private setFixedHeader(\n    userConfig: UserConfig,\n    columns?: OneDArray<TColumn>,\n  ): void {\n    const cols = columns || this.columns || [];\n\n    for (const column of cols) {\n      if (column.fixedHeader === undefined) {\n        column.fixedHeader = userConfig.fixedHeader;\n      }\n\n      if (column.columns) {\n        this.setFixedHeader(userConfig, column.columns);\n      }\n    }\n  }\n\n  private setResizable(\n    userConfig: UserConfig,\n    columns?: OneDArray<TColumn>,\n  ): void {\n    const cols = columns || this.columns || [];\n\n    for (const column of cols) {\n      if (column.resizable === undefined) {\n        column.resizable = userConfig.resizable;\n      }\n\n      if (column.columns) {\n        this.setResizable(userConfig, column.columns);\n      }\n    }\n  }\n\n  private setID(columns?: OneDArray<TColumn>): void {\n    const cols = columns || this.columns || [];\n\n    for (const column of cols) {\n      if (!column.id && typeof column.name === 'string') {\n        // let's guess the column ID if it's undefined\n        column.id = camelCase(column.name);\n      }\n\n      if (!column.id) {\n        logger.error(\n          `Could not find a valid ID for one of the columns. Make sure a valid \"id\" is set for all columns.`,\n        );\n      }\n\n      // nested columns\n      if (column.columns) {\n        this.setID(column.columns);\n      }\n    }\n  }\n\n  private populatePlugins(\n    userConfig: UserConfig,\n    columns: OneDArray<TColumn>,\n  ): void {\n    // populate the cell columns\n    for (const column of columns) {\n      if (column.plugin !== undefined) {\n        userConfig.plugin.add({\n          id: column.id,\n          props: {},\n          ...column.plugin,\n          position: PluginPosition.Cell,\n        });\n      }\n    }\n  }\n\n  static fromColumns(\n    columns: OneDArray<TColumn | string | ComponentChild>,\n  ): Header {\n    const header = new Header();\n\n    for (const column of columns) {\n      if (typeof column === 'string' || isValidElement(column)) {\n        header.columns.push({\n          name: column,\n        });\n      } else if (typeof column === 'object') {\n        const typedColumn = column as TColumn;\n\n        if (typedColumn.columns) {\n          typedColumn.columns = Header.fromColumns(typedColumn.columns).columns;\n        }\n\n        // because the data for that cell is null\n        // if we are trying to render a plugin\n        if (typeof typedColumn.plugin === 'object') {\n          if (typedColumn.data === undefined) {\n            typedColumn.data = null;\n          }\n        }\n\n        // TColumn type\n        header.columns.push(column as TColumn);\n      }\n    }\n\n    return header;\n  }\n\n  static fromUserConfig(userConfig: UserConfig): Header | null {\n    const header = new Header();\n\n    // TODO: this part needs some refactoring\n    if (userConfig.from) {\n      header.columns = Header.fromHTMLTable(userConfig.from).columns;\n    } else if (userConfig.columns) {\n      header.columns = Header.fromColumns(userConfig.columns).columns;\n    } else if (\n      userConfig.data &&\n      typeof userConfig.data[0] === 'object' &&\n      !(userConfig.data[0] instanceof Array)\n    ) {\n      // if data[0] is an object but not an Array\n      // used for when a JSON payload is provided\n      header.columns = Object.keys(userConfig.data[0]).map((name) => {\n        return { name: name };\n      });\n    }\n\n    if (header.columns.length) {\n      header.setID();\n      header.setSort(userConfig);\n      header.setFixedHeader(userConfig);\n      header.setResizable(userConfig);\n      header.populatePlugins(userConfig, header.columns);\n      return header;\n    }\n\n    return null;\n  }\n\n  static fromHTMLTable(element: HTMLElement): Header {\n    const header = new Header();\n    const thead = element.querySelector('thead');\n    const ths = thead.querySelectorAll('th');\n\n    for (const th of ths as any) {\n      header.columns.push({\n        name: th.innerHTML,\n        width: th.width,\n      });\n    }\n\n    return header;\n  }\n\n  /**\n   * Converts the tree-like format of Header to a tabular format\n   *\n   * Example:\n   *\n   *    H1\n   *      H1-H1\n   *      H1-H2\n   *    H2\n   *      H2-H1\n   *\n   *    becomes:\n   *      [\n   *        [H1, H2],\n   *        [H1-H1, H1-H2, H2-H1]\n   *      ]\n   *\n   * @param columns\n   */\n  static tabularFormat(columns: OneDArray<TColumn>): TwoDArray<TColumn> {\n    let result: TwoDArray<TColumn> = [];\n    const cols = columns || [];\n    let nextRow = [];\n\n    if (cols && cols.length) {\n      result.push(cols);\n\n      for (const col of cols) {\n        if (col.columns && col.columns.length) {\n          nextRow = nextRow.concat(col.columns);\n        }\n      }\n\n      if (nextRow.length) {\n        result = result.concat(this.tabularFormat(nextRow));\n      }\n    }\n\n    return result;\n  }\n\n  /**\n   * Returns an array of leaf columns (last columns in the tree)\n   *\n   * @param columns\n   */\n  static leafColumns(columns: OneDArray<TColumn>): OneDArray<TColumn> {\n    let result: OneDArray<TColumn> = [];\n    const cols = columns || [];\n\n    if (cols && cols.length) {\n      for (const col of cols) {\n        if (!col.columns || col.columns.length === 0) {\n          result.push(col);\n        }\n\n        if (col.columns) {\n          result = result.concat(this.leafColumns(col.columns));\n        }\n      }\n    }\n\n    return result;\n  }\n\n  /**\n   * Returns the maximum depth of a column tree\n   * @param column\n   */\n  static maximumDepth(column: TColumn): number {\n    return this.tabularFormat([column]).length - 1;\n  }\n}\n\nexport default Header;\n","const _prefix = 'ID_';\n\n/**\n * This class is mostly based on Flux's Dispatcher by Facebook\n * https://github.com/facebook/flux/blob/master/src/Dispatcher.js\n */\nexport default class Dispatcher<TPayload> {\n  _callbacks: { [key: string]: (payload: TPayload) => void };\n  _isDispatching: boolean;\n  _isHandled: { [key: string]: boolean };\n  _isPending: { [key: string]: boolean };\n  _lastID: number;\n  _pendingPayload: TPayload;\n\n  constructor() {\n    this._callbacks = {};\n    this._isDispatching = false;\n    this._isHandled = {};\n    this._isPending = {};\n    this._lastID = 1;\n  }\n  /**\n   * Registers a callback to be invoked with every dispatched payload. Returns\n   * a token that can be used with `waitFor()`.\n   */\n  register(callback: (payload: TPayload) => void): string {\n    const id = _prefix + this._lastID++;\n    this._callbacks[id] = callback;\n    return id;\n  }\n  /**\n   * Removes a callback based on its token.\n   */\n  unregister(id: string): void {\n    if (!this._callbacks[id]) {\n      throw Error(\n        `Dispatcher.unregister(...): ${id} does not map to a registered callback.`,\n      );\n    }\n\n    delete this._callbacks[id];\n  }\n  /**\n   * Waits for the callbacks specified to be invoked before continuing execution\n   * of the current callback. This method should only be used by a callback in\n   * response to a dispatched payload.\n   */\n  waitFor(ids: Array<string>): void {\n    if (!this._isDispatching) {\n      throw Error(\n        'Dispatcher.waitFor(...): Must be invoked while dispatching.',\n      );\n    }\n\n    for (let ii = 0; ii < ids.length; ii++) {\n      const id = ids[ii];\n      if (this._isPending[id]) {\n        if (!this._isHandled[id]) {\n          throw Error(`Dispatcher.waitFor(...): Circular dependency detected while ' +\n            'waiting for ${id}.`);\n        }\n        continue;\n      }\n      if (!this._callbacks[id]) {\n        throw Error(\n          `Dispatcher.waitFor(...): ${id} does not map to a registered callback.`,\n        );\n      }\n\n      this._invokeCallback(id);\n    }\n  }\n  /**\n   * Dispatches a payload to all registered callbacks.\n   */\n  dispatch(payload: TPayload): void {\n    if (this._isDispatching) {\n      throw Error(\n        'Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch.',\n      );\n    }\n\n    this._startDispatching(payload);\n    try {\n      for (const id in this._callbacks) {\n        if (this._isPending[id]) {\n          continue;\n        }\n        this._invokeCallback(id);\n      }\n    } finally {\n      this._stopDispatching();\n    }\n  }\n  /**\n   * Is this Dispatcher currently dispatching.\n   */\n  isDispatching(): boolean {\n    return this._isDispatching;\n  }\n  /**\n   * Call the callback stored with the given id. Also do some internal\n   * bookkeeping.\n   *\n   * @internal\n   */\n  private _invokeCallback(id: string): void {\n    this._isPending[id] = true;\n    this._callbacks[id](this._pendingPayload);\n    this._isHandled[id] = true;\n  }\n  /**\n   * Set up bookkeeping needed when dispatching.\n   *\n   * @internal\n   */\n  private _startDispatching(payload: TPayload): void {\n    for (const id in this._callbacks) {\n      this._isPending[id] = false;\n      this._isHandled[id] = false;\n    }\n    this._pendingPayload = payload;\n    this._isDispatching = true;\n  }\n  /**\n   * Clear bookkeeping used for dispatching.\n   *\n   * @internal\n   */\n  private _stopDispatching(): void {\n    delete this._pendingPayload;\n    this._isDispatching = false;\n  }\n}\n","/**\n * Base Storage class. All storage implementation must inherit this class\n */\nimport { TData } from '../types';\n\nabstract class Storage<I> {\n  /**\n   * Returns all rows based on ...args\n   * @param args\n   */\n  abstract get(...args): Promise<StorageResponse>;\n\n  /**\n   * To set all rows\n   *\n   * @param data\n   */\n  set?(data: I | ((...args) => void)): this;\n}\n\nexport interface StorageResponse {\n  data: TData;\n  total: number;\n}\n\nexport default Storage;\n","import Storage, { StorageResponse } from './storage';\nimport { TData } from '../types';\n\nclass MemoryStorage extends Storage<TData> {\n  private data: (() => TData) | (() => Promise<TData>);\n\n  constructor(data: TData | (() => TData) | (() => Promise<TData>)) {\n    super();\n    this.set(data);\n  }\n\n  public async get(): Promise<StorageResponse> {\n    const data = await this.data();\n\n    return {\n      data: data,\n      total: data.length,\n    };\n  }\n\n  public set(data: TData | (() => TData) | (() => Promise<TData>)): this {\n    if (data instanceof Array) {\n      this.data = (): TData => data;\n    } else if (data instanceof Function) {\n      this.data = data;\n    }\n\n    return this;\n  }\n}\n\nexport default MemoryStorage;\n","import Storage, { StorageResponse } from './storage';\nimport log from '../util/log';\n\nexport interface ServerStorageOptions extends RequestInit {\n  url: string;\n  // to format the data and columns\n  then?: (data: any) => any[][];\n  // to handle the response from the server. `handle` will\n  // be called first and then `then` callback will be invoked\n  // The purpose of this function is to handle the behaviour\n  // of server and either reject and resolve the initial response\n  // before calling the `then` function\n  handle?: (response: Response) => Promise<any>;\n  total?: (data: any) => number;\n  // to bypass the current implementation of ServerStorage and process the\n  // request manually (e.g. when user wants to connect their own SDK/HTTP Client)\n  data?: (opts: ServerStorageOptions) => Promise<StorageResponse>;\n}\n\nclass ServerStorage extends Storage<ServerStorageOptions> {\n  private readonly options: ServerStorageOptions;\n\n  constructor(options: ServerStorageOptions) {\n    super();\n    this.options = options;\n  }\n\n  private handler(response: Response): Promise<any> {\n    if (typeof this.options.handle === 'function') {\n      return this.options.handle(response);\n    }\n\n    if (response.ok) {\n      return response.json();\n    } else {\n      log.error(\n        `Could not fetch data: ${response.status} - ${response.statusText}`,\n        true,\n      );\n      return null;\n    }\n  }\n\n  public get(options?: ServerStorageOptions): Promise<StorageResponse> {\n    // this.options is the initial config object\n    // options is the runtime config passed by the pipeline (e.g. search component)\n    const opts = {\n      ...this.options,\n      ...options,\n    };\n\n    // if `options.data` is provided, the current ServerStorage\n    // implementation will be ignored and we let options.data to\n    // handle the request. Useful when HTTP client needs to be\n    // replaced with something else\n    if (typeof opts.data === 'function') {\n      return opts.data(opts);\n    }\n\n    return fetch(opts.url, opts)\n      .then(this.handler.bind(this))\n      .then((res) => {\n        return {\n          data: opts.then(res),\n          total: typeof opts.total === 'function' ? opts.total(res) : undefined,\n        };\n      });\n  }\n}\n\nexport default ServerStorage;\n","import { UserConfig } from '../config';\nimport MemoryStorage from './memory';\nimport Storage from './storage';\nimport ServerStorage from './server';\nimport log from '../util/log';\nimport { decode, html } from '../util/html';\n\nclass StorageUtils {\n  /**\n   * Accepts the userConfig dict and tries to guess and return a Storage type\n   *\n   * @param userConfig\n   */\n  public static createFromUserConfig(userConfig: UserConfig): Storage<any> {\n    let storage = null;\n    // `data` array is provided\n    if (userConfig.data) {\n      storage = new MemoryStorage(userConfig.data);\n    }\n\n    if (userConfig.from) {\n      storage = new MemoryStorage(this.tableElementToArray(userConfig.from));\n      // remove the source table element from the DOM\n      userConfig.from.style.display = 'none';\n    }\n\n    if (userConfig.server) {\n      storage = new ServerStorage(userConfig.server);\n    }\n\n    if (!storage) {\n      log.error('Could not determine the storage type', true);\n    }\n\n    return storage;\n  }\n\n  /**\n   * Accepts a HTML table element and converts it into a 2D array of data\n   *\n   * TODO: This function can be a step in the pipeline: Convert Table -> Load into a memory storage -> ...\n   *\n   * @param element\n   */\n  static tableElementToArray(element: HTMLElement): any[][] {\n    const arr = [];\n    const tbody = element.querySelector('tbody');\n    const rows = tbody.querySelectorAll('tr');\n\n    for (const row of rows as any) {\n      const cells: HTMLElement[] = row.querySelectorAll('td');\n      const parsedRow = [];\n\n      for (const cell of cells) {\n        // try to capture a TD with single text element first\n        if (\n          cell.childNodes.length === 1 &&\n          cell.childNodes[0].nodeType === Node.TEXT_NODE\n        ) {\n          parsedRow.push(decode(cell.innerHTML));\n        } else {\n          parsedRow.push(html(cell.innerHTML));\n        }\n      }\n\n      arr.push(parsedRow);\n    }\n\n    return arr;\n  }\n}\n\nexport default StorageUtils;\n","import { PipelineProcessor, ProcessorType } from './processor';\nimport { ID } from '../util/id';\nimport log from '../util/log';\nimport { EventEmitter } from '../util/eventEmitter';\n\ninterface PipelineEvents<T> {\n  /**\n   * Generic updated event. Triggers the callback function when the pipeline\n   * is updated, including when a new processor is registered, a processor's props\n   * get updated, etc.\n   */\n  updated: (processor: PipelineProcessor<any, any>) => void;\n  /**\n   * Triggers the callback function when a new\n   * processor is registered successfully\n   */\n  afterRegister: () => void;\n  /**\n   * Triggers the callback when a registered\n   * processor's property is updated\n   */\n  propsUpdated: () => void;\n  /**\n   * Triggers the callback function when the pipeline\n   * is fully processed, before returning the results\n   *\n   * afterProcess will not be called if there is an\n   * error in the pipeline (i.e a step throw an Error)\n   */\n  afterProcess: (prev: T) => void;\n  /**\n   * Triggers the callback function when the pipeline\n   * fails to process all steps or at least one step\n   * throws an Error\n   */\n  error: (prev: T) => void;\n}\n\nclass Pipeline<T, P = unknown> extends EventEmitter<PipelineEvents<T>> {\n  // available steps for this pipeline\n  private readonly _steps: Map<ProcessorType, PipelineProcessor<T, P>[]> =\n    new Map<ProcessorType, PipelineProcessor<T, P>[]>();\n  // used to cache the results of processors using their id field\n  private cache: Map<string, any> = new Map<string, any>();\n  // keeps the index of the last updated processor in the registered\n  // processors list and will be used to invalidate the cache\n  // -1 means all new processors should be processed\n  private lastProcessorIndexUpdated = -1;\n\n  constructor(steps?: PipelineProcessor<any, any>[]) {\n    super();\n\n    if (steps) {\n      steps.forEach((step) => this.register(step));\n    }\n  }\n\n  /**\n   * Clears the `cache` array\n   */\n  clearCache(): void {\n    this.cache = new Map<string, any>();\n    this.lastProcessorIndexUpdated = -1;\n  }\n\n  /**\n   * Registers a new processor\n   *\n   * @param processor\n   * @param priority\n   */\n  register(\n    processor: PipelineProcessor<any, any>,\n    priority: number = null,\n  ): void {\n    if (processor.type === null) {\n      throw Error('Processor type is not defined');\n    }\n\n    // binding the propsUpdated callback to the Pipeline\n    processor.on('propsUpdated', this.processorPropsUpdated.bind(this));\n\n    this.addProcessorByPriority(processor, priority);\n    this.afterRegistered(processor);\n  }\n\n  /**\n   * Removes a processor from the list\n   *\n   * @param processor\n   */\n  unregister(processor: PipelineProcessor<any, any>): void {\n    if (!processor) return;\n\n    const subSteps = this._steps.get(processor.type);\n\n    if (subSteps && subSteps.length) {\n      this._steps.set(\n        processor.type,\n        subSteps.filter((proc) => proc != processor),\n      );\n      this.emit('updated', processor);\n    }\n  }\n\n  /**\n   * Registers a new processor\n   *\n   * @param processor\n   * @param priority\n   */\n  private addProcessorByPriority(\n    processor: PipelineProcessor<T, P>,\n    priority: number,\n  ): void {\n    let subSteps = this._steps.get(processor.type);\n\n    if (!subSteps) {\n      const newSubStep = [];\n      this._steps.set(processor.type, newSubStep);\n      subSteps = newSubStep;\n    }\n\n    if (priority === null || priority < 0) {\n      subSteps.push(processor);\n    } else {\n      if (!subSteps[priority]) {\n        // slot is empty\n        subSteps[priority] = processor;\n      } else {\n        // slot is NOT empty\n        const first = subSteps.slice(0, priority - 1);\n        const second = subSteps.slice(priority + 1);\n\n        this._steps.set(processor.type, first.concat(processor).concat(second));\n      }\n    }\n  }\n\n  /**\n   * Flattens the _steps Map and returns a list of steps with their correct priorities\n   */\n  get steps(): PipelineProcessor<T, P>[] {\n    let steps: PipelineProcessor<T, P>[] = [];\n\n    for (const type of this.getSortedProcessorTypes()) {\n      const subSteps = this._steps.get(type);\n\n      if (subSteps && subSteps.length) {\n        steps = steps.concat(subSteps);\n      }\n    }\n\n    // to remove any undefined elements\n    return steps.filter((s) => s);\n  }\n\n  /**\n   * Accepts ProcessType and returns an array of the registered processes\n   * with the give type\n   *\n   * @param type\n   */\n  getStepsByType(type: ProcessorType): PipelineProcessor<T, P>[] {\n    return this.steps.filter((process) => process.type === type);\n  }\n\n  /**\n   * Returns a list of ProcessorType according to their priority\n   */\n  private getSortedProcessorTypes(): ProcessorType[] {\n    return Object.keys(ProcessorType)\n      .filter((key) => !isNaN(Number(key)))\n      .map((key) => Number(key));\n  }\n\n  /**\n   * Runs all registered processors based on their correct priority\n   * and returns the final output after running all steps\n   *\n   * @param data\n   */\n  async process(data?: T): Promise<T> {\n    const lastProcessorIndexUpdated = this.lastProcessorIndexUpdated;\n    const steps = this.steps;\n\n    let prev = data;\n\n    try {\n      for (const processor of steps) {\n        const processorIndex = this.findProcessorIndexByID(processor.id);\n\n        if (processorIndex >= lastProcessorIndexUpdated) {\n          // we should execute process() here since the last\n          // updated processor was before \"processor\".\n          // This is to ensure that we always have correct and up to date\n          // data from processors and also to skip them when necessary\n          prev = await processor.process(prev);\n          this.cache.set(processor.id, prev);\n        } else {\n          // cached results already exist\n          prev = this.cache.get(processor.id);\n        }\n      }\n    } catch (e) {\n      log.error(e);\n      // trigger the onError callback\n      this.emit('error', prev);\n\n      // rethrow\n      throw e;\n    }\n\n    // means the pipeline is up to date\n    this.lastProcessorIndexUpdated = steps.length;\n\n    // triggers the afterProcess callbacks with the results\n    this.emit('afterProcess', prev);\n\n    return prev;\n  }\n\n  /**\n   * Returns the registered processor's index in _steps array\n   *\n   * @param processorID\n   */\n  private findProcessorIndexByID(processorID: ID): number {\n    return this.steps.findIndex((p) => p.id == processorID);\n  }\n\n  /**\n   * Sets the last updates processors index locally\n   * This is used to invalid or skip a processor in\n   * the process() method\n   */\n  private setLastProcessorIndex(processor: PipelineProcessor<T, P>): void {\n    const processorIndex = this.findProcessorIndexByID(processor.id);\n\n    if (this.lastProcessorIndexUpdated > processorIndex) {\n      this.lastProcessorIndexUpdated = processorIndex;\n    }\n  }\n\n  private processorPropsUpdated(processor): void {\n    this.setLastProcessorIndex(processor);\n    this.emit('propsUpdated');\n    this.emit('updated', processor);\n  }\n\n  private afterRegistered(processor): void {\n    this.setLastProcessorIndex(processor);\n    this.emit('afterRegister');\n    this.emit('updated', processor);\n  }\n}\n\nexport default Pipeline;\n","import { ComponentChild } from 'preact';\nimport Row from './row';\nimport { SortConfig } from './view/plugin/sort/sort';\nimport { JSXInternal } from 'preact/src/jsx';\nimport { Plugin } from './plugin';\n\nexport type ProtoExtends<T, U> = U & Omit<T, keyof U>;\n\nexport type OneDArray<T> = T[];\nexport type TwoDArray<T> = T[][];\n\n/**\n * Table cell types\n */\nexport type TCell = number | string | boolean | ComponentChild | HTMLElement;\n// Array of Arrays\nexport type TDataArrayRow = OneDArray<TCell>;\nexport type TDataArray = OneDArray<TDataArrayRow>;\n// Array of Objects\nexport type TDataObjectRow = { [key: string]: TCell };\nexport type TDataObject = OneDArray<TDataObjectRow>;\n// (Array of Arrays) and (Array of Objects)\nexport type TData = TDataArray | TDataObject;\n\n// Table header cell type\nexport interface TColumn {\n  id?: string;\n  // default data for all columns\n  data?: ((row: TDataArrayRow | TDataObjectRow) => TCell) | TCell;\n  // column label\n  name?: string | ComponentChild;\n  plugin?: Plugin<any>;\n  // column width\n  width?: string;\n  minWidth?: string;\n  sort?: SortConfig;\n  columns?: OneDArray<TColumn>;\n  fixedHeader?: boolean;\n  resizable?: boolean;\n  hidden?: boolean;\n  formatter?: (cell: TCell, row: Row, column: TColumn) => ComponentChild;\n  // HTML attributes to be added to all cells and header of this column\n  attributes?:\n    | ((\n        // this is null when `attributes` is called for a th\n        cell: TCell | null,\n        row: Row | null,\n        column: TColumn,\n      ) => JSXInternal.HTMLAttributes<HTMLTableCellElement>)\n    | JSXInternal.HTMLAttributes<HTMLTableCellElement>;\n}\n\n// Comparator function for the sorting plugin\nexport type Comparator<T> = (a: T, b: T) => number;\n\nexport interface TColumnSort {\n  index: number;\n  // 1 ascending, -1 descending\n  direction?: 1 | -1;\n}\n\n// container status\nexport enum Status {\n  Init,\n  Loading,\n  Loaded,\n  Rendered,\n  Error,\n}\n\nexport type CSSDeclaration = {\n  [key: string]: string | number;\n};\n","import Storage, { StorageResponse } from '../../storage/storage';\nimport {\n  PipelineProcessor,\n  PipelineProcessorProps,\n  ProcessorType,\n} from '../processor';\n\ninterface StorageExtractorProps extends PipelineProcessorProps {\n  storage: Storage<any>;\n}\n\nclass StorageExtractor extends PipelineProcessor<\n  Promise<StorageResponse>,\n  StorageExtractorProps\n> {\n  get type(): ProcessorType {\n    return ProcessorType.Extractor;\n  }\n\n  async _process(opts: any): Promise<StorageResponse> {\n    return await this.props.storage.get(opts);\n  }\n}\n\nexport default StorageExtractor;\n","import { PipelineProcessor, ProcessorType } from '../processor';\nimport Tabular from '../../tabular';\nimport { ArrayResponse } from './storageResponseToArray';\n\nclass ArrayToTabularTransformer extends PipelineProcessor<\n  Tabular,\n  Record<string, any>\n> {\n  get type(): ProcessorType {\n    return ProcessorType.Transformer;\n  }\n\n  _process(arrayResponse: ArrayResponse): Tabular {\n    const tabular = Tabular.fromArray(arrayResponse.data);\n\n    // for server-side storage\n    tabular.length = arrayResponse.total;\n\n    return tabular;\n  }\n}\n\nexport default ArrayToTabularTransformer;\n","import {\n  PipelineProcessor,\n  PipelineProcessorProps,\n  ProcessorType,\n} from '../processor';\nimport { ServerStorageOptions } from '../../storage/server';\n\ninterface ServerInitiatorProps extends PipelineProcessorProps {\n  serverStorageOptions: ServerStorageOptions;\n}\n\nclass ServerInitiator extends PipelineProcessor<\n  ServerStorageOptions,\n  ServerInitiatorProps\n> {\n  get type(): ProcessorType {\n    return ProcessorType.Initiator;\n  }\n\n  _process(): ServerStorageOptions {\n    return Object.entries(this.props.serverStorageOptions)\n      .filter(([_, val]) => typeof val !== 'function')\n      .reduce(\n        (acc, [k, v]) => ({ ...acc, [k]: v }),\n        {},\n      ) as ServerStorageOptions;\n  }\n}\n\nexport default ServerInitiator;\n","import {\n  PipelineProcessor,\n  PipelineProcessorProps,\n  ProcessorType,\n} from '../processor';\nimport { StorageResponse } from '../../storage/storage';\nimport { TCell, TData, TDataArray, TDataObject, TwoDArray } from '../../types';\nimport Header from '../../header';\nimport logger from '../../util/log';\n\nexport interface ArrayResponse {\n  data: TwoDArray<TCell>;\n  total: number;\n}\n\ninterface StorageResponseToArrayTransformerProps\n  extends PipelineProcessorProps {\n  header: Header;\n}\n\nclass StorageResponseToArrayTransformer extends PipelineProcessor<\n  ArrayResponse,\n  StorageResponseToArrayTransformerProps\n> {\n  get type(): ProcessorType {\n    return ProcessorType.Transformer;\n  }\n\n  private castData(data: TData): TwoDArray<TCell> {\n    if (!data || !data.length) {\n      return [];\n    }\n\n    if (!this.props.header || !this.props.header.columns) {\n      return data as TwoDArray<TCell>;\n    }\n\n    const columns = Header.leafColumns(this.props.header.columns);\n\n    // if it's a 2d array already\n    if (data[0] instanceof Array) {\n      return (data as TDataArray).map((row) => {\n        let pad = 0;\n\n        return columns.map((column, i) => {\n          // default `data` is provided for this column\n          if (column.data !== undefined) {\n            pad++;\n\n            if (typeof column.data === 'function') {\n              return column.data(row);\n            } else {\n              return column.data;\n            }\n          }\n\n          return row[i - pad];\n        });\n      });\n    }\n\n    // if it's an array of objects (but not array of arrays, i.e JSON payload)\n    if (typeof data[0] === 'object' && !(data[0] instanceof Array)) {\n      return (data as TDataObject).map((row) =>\n        columns.map((column, i) => {\n          if (column.data !== undefined) {\n            if (typeof column.data === 'function') {\n              return column.data(row);\n            } else {\n              return column.data;\n            }\n          } else if (column.id) {\n            return row[column.id];\n          } else {\n            logger.error(`Could not find the correct cell for column at position ${i}.\n                          Make sure either 'id' or 'selector' is defined for all columns.`);\n            return null;\n          }\n        }),\n      );\n    }\n\n    return [];\n  }\n\n  _process(storageResponse: StorageResponse): ArrayResponse {\n    return {\n      data: this.castData(storageResponse.data),\n      total: storageResponse.total,\n    };\n  }\n}\n\nexport default StorageResponseToArrayTransformer;\n","import { Config } from '../config';\nimport Pipeline from './pipeline';\nimport Tabular from '../tabular';\nimport StorageExtractor from './extractor/storage';\nimport ArrayToTabularTransformer from './transformer/arrayToTabular';\nimport ServerStorage from '../storage/server';\nimport ServerInitiator from './initiator/server';\nimport StorageResponseToArrayTransformer from './transformer/storageResponseToArray';\n\nclass PipelineUtils {\n  static createFromConfig(config: Config): Pipeline<Tabular> {\n    const pipeline = new Pipeline<Tabular>();\n\n    if (config.storage instanceof ServerStorage) {\n      pipeline.register(\n        new ServerInitiator({\n          serverStorageOptions: config.server,\n        }),\n      );\n    }\n\n    pipeline.register(new StorageExtractor({ storage: config.storage }));\n    pipeline.register(\n      new StorageResponseToArrayTransformer({ header: config.header }),\n    );\n    pipeline.register(new ArrayToTabularTransformer());\n\n    return pipeline;\n  }\n}\n\nexport default PipelineUtils;\n","import {\n  CSSDeclaration,\n  OneDArray,\n  ProtoExtends,\n  TColumn,\n  TData,\n} from './types';\nimport Storage from './storage/storage';\nimport Pipeline from './pipeline/pipeline';\nimport Tabular from './tabular';\nimport { Search, SearchConfig } from './view/plugin/search/search';\nimport { Pagination, PaginationConfig } from './view/plugin/pagination';\nimport Header from './header';\nimport { ServerStorageOptions } from './storage/server';\nimport Dispatcher from './util/dispatcher';\nimport { GenericSortConfig } from './view/plugin/sort/sort';\nimport { Language, Translator } from './i18n/language';\nimport { Component, ComponentChild, createRef, RefObject } from 'preact';\nimport StorageUtils from './storage/storageUtils';\nimport PipelineUtils from './pipeline/pipelineUtils';\nimport { EventEmitter } from './util/eventEmitter';\nimport { GridEvents } from './events';\nimport { PluginManager, PluginPosition, Plugin } from './plugin';\nimport Grid from './grid';\n\n// Config type used internally\nexport interface Config {\n  // a reference to the current Grid.js instance\n  instance: Grid;\n  eventEmitter: EventEmitter<GridEvents>;\n  dispatcher: Dispatcher<any>;\n  plugin: PluginManager;\n  /** container element that is used to mount the Grid.js to */\n  // TODO: change this to an element reference\n  container?: Element;\n  /** pointer to the main table element */\n  tableRef?: RefObject<Component>;\n  /** gridjs-temp div which is used internally */\n  tempRef?: RefObject<HTMLDivElement>;\n  data?: TData | (() => TData) | (() => Promise<TData>);\n  server?: ServerStorageOptions;\n  header?: Header;\n  /** to parse a HTML table and load the data */\n  from: HTMLElement;\n  storage: Storage<any>;\n  pipeline: Pipeline<Tabular>;\n  /** to automatically calculate the columns width */\n  autoWidth: boolean;\n  /** sets the width of the container and table */\n  width: string;\n  /** sets the height of the table */\n  height: string;\n  pagination: PaginationConfig;\n  sort: GenericSortConfig;\n  translator: Translator;\n  style?: Partial<{\n    table: CSSDeclaration;\n    td: CSSDeclaration;\n    th: CSSDeclaration;\n    container: CSSDeclaration;\n    header: CSSDeclaration;\n    footer: CSSDeclaration;\n  }>;\n  className?: Partial<{\n    table: string;\n    th: string;\n    thead: string;\n    tbody: string;\n    tr: string;\n    td: string;\n    container: string;\n    footer: string;\n    header: string;\n    search: string;\n    sort: string;\n    pagination: string;\n    paginationSummary: string;\n    paginationButton: string;\n    paginationButtonNext: string;\n    paginationButtonCurrent: string;\n    paginationButtonPrev: string;\n    loading: string;\n    notfound: string;\n    error: string;\n  }>;\n}\n\n// Config type used by the consumers\ninterface UserConfigExtend {\n  /** fixes the table header to the top of the table */\n  fixedHeader: boolean;\n  /** Resizable columns? */\n  resizable: boolean;\n  columns: OneDArray<TColumn | string | ComponentChild>;\n  search: SearchConfig | boolean;\n  pagination: PaginationConfig | boolean;\n  // implicit option to enable the sort plugin globally\n  sort: GenericSortConfig | boolean;\n  language: Language;\n  plugins?: Plugin<any>[];\n}\n\nexport type UserConfig = ProtoExtends<\n  Partial<Config>,\n  Partial<UserConfigExtend>\n>;\n\nexport class Config {\n  // this is the config file passed by the user\n  // we need this for Config.update()\n  private _userConfig: UserConfig;\n\n  constructor(config?: Partial<Config>) {\n    Object.assign(this, {\n      ...Config.defaultConfig(),\n      ...config,\n    });\n\n    this._userConfig = {};\n  }\n\n  /**\n   * Assigns `updatedConfig` keys to the current config file\n   *\n   * @param updatedConfig\n   */\n  assign(updatedConfig: Partial<Config>): Config {\n    for (const key of Object.keys(updatedConfig)) {\n      // because we don't want to update the _userConfig cache\n      if (key === '_userConfig') continue;\n\n      this[key] = updatedConfig[key];\n    }\n\n    return this;\n  }\n\n  /**\n   * Updates the config from a UserConfig\n   *\n   * @param userConfig\n   */\n  update(userConfig: Partial<UserConfig>): Config {\n    if (!userConfig) return this;\n\n    this._userConfig = {\n      ...this._userConfig,\n      ...userConfig,\n    };\n\n    this.assign(Config.fromUserConfig(this._userConfig));\n\n    return this;\n  }\n\n  static defaultConfig(): Config {\n    return {\n      plugin: new PluginManager(),\n      dispatcher: new Dispatcher<any>(),\n      tableRef: createRef(),\n      tempRef: createRef(),\n      width: '100%',\n      height: 'auto',\n      autoWidth: true,\n      style: {},\n      className: {},\n    } as Config;\n  }\n\n  static fromUserConfig(userConfig: UserConfig): Config {\n    const config = new Config(userConfig as Config);\n\n    // to set the initial _userConfig object\n    config._userConfig = userConfig;\n\n    // Sort\n    if (typeof userConfig.sort === 'boolean' && userConfig.sort) {\n      config.assign({\n        sort: {\n          multiColumn: true,\n        },\n      });\n    }\n\n    // Header\n    config.assign({\n      header: Header.fromUserConfig(config),\n    });\n\n    config.assign({\n      storage: StorageUtils.createFromUserConfig(userConfig),\n    });\n\n    config.assign({\n      pipeline: PipelineUtils.createFromConfig(config),\n    });\n\n    // Translator\n    config.assign({\n      translator: new Translator(userConfig.language),\n    });\n\n    // Search\n    config.plugin.add({\n      id: 'search',\n      position: PluginPosition.Header,\n      component: Search,\n      props: {\n        enabled:\n          userConfig.search === true || userConfig.search instanceof Object,\n        ...(userConfig.search as SearchConfig),\n      },\n    });\n\n    // Pagination\n    config.plugin.add({\n      id: 'pagination',\n      position: PluginPosition.Footer,\n      component: Pagination,\n      props: {\n        enabled:\n          userConfig.pagination === true ||\n          userConfig.pagination instanceof Object,\n        ...(userConfig.pagination as PaginationConfig),\n      },\n    });\n\n    // Additional plugins\n    if (userConfig.plugins) {\n      userConfig.plugins.forEach((p) => config.plugin.add(p));\n    }\n\n    return config;\n  }\n}\n","import{options as n}from\"preact\";var t,u,r,o=0,i=[],c=n.__b,f=n.__r,e=n.diffed,a=n.__c,v=n.unmount;function m(t,r){n.__h&&n.__h(u,t,o||r),o=0;var i=u.__H||(u.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({}),i.__[t]}function l(n){return o=1,p(w,n)}function p(n,r,o){var i=m(t++,2);return i.t=n,i.__c||(i.__=[o?o(r):w(void 0,r),function(n){var t=i.t(i.__[0],n);i.__[0]!==t&&(i.__=[t,i.__[1]],i.__c.setState({}))}],i.__c=u),i.__}function y(r,o){var i=m(t++,3);!n.__s&&k(i.__H,o)&&(i.__=r,i.__H=o,u.__H.__h.push(i))}function h(r,o){var i=m(t++,4);!n.__s&&k(i.__H,o)&&(i.__=r,i.__H=o,u.__h.push(i))}function s(n){return o=5,d(function(){return{current:n}},[])}function _(n,t,u){o=6,h(function(){\"function\"==typeof n?n(t()):n&&(n.current=t())},null==u?u:u.concat(n))}function d(n,u){var r=m(t++,7);return k(r.__H,u)&&(r.__=n(),r.__H=u,r.__h=n),r.__}function A(n,t){return o=8,d(function(){return n},t)}function F(n){var r=u.context[n.__c],o=m(t++,9);return o.__c=n,r?(null==o.__&&(o.__=!0,r.sub(u)),r.props.value):n.__}function T(t,u){n.useDebugValue&&n.useDebugValue(u?u(t):t)}function q(n){var r=m(t++,10),o=l();return r.__=n,u.componentDidCatch||(u.componentDidCatch=function(n){r.__&&r.__(n),o[1](n)}),[o[0],function(){o[1](void 0)}]}function x(){i.forEach(function(t){if(t.__P)try{t.__H.__h.forEach(g),t.__H.__h.forEach(j),t.__H.__h=[]}catch(u){t.__H.__h=[],n.__e(u,t.__v)}}),i=[]}n.__b=function(n){u=null,c&&c(n)},n.__r=function(n){f&&f(n),t=0;var r=(u=n.__c).__H;r&&(r.__h.forEach(g),r.__h.forEach(j),r.__h=[])},n.diffed=function(t){e&&e(t);var o=t.__c;o&&o.__H&&o.__H.__h.length&&(1!==i.push(o)&&r===n.requestAnimationFrame||((r=n.requestAnimationFrame)||function(n){var t,u=function(){clearTimeout(r),b&&cancelAnimationFrame(t),setTimeout(n)},r=setTimeout(u,100);b&&(t=requestAnimationFrame(u))})(x)),u=void 0},n.__c=function(t,u){u.some(function(t){try{t.__h.forEach(g),t.__h=t.__h.filter(function(n){return!n.__||j(n)})}catch(r){u.some(function(n){n.__h&&(n.__h=[])}),u=[],n.__e(r,t.__v)}}),a&&a(t,u)},n.unmount=function(t){v&&v(t);var u=t.__c;if(u&&u.__H)try{u.__H.__.forEach(g)}catch(t){n.__e(t,u.__v)}};var b=\"function\"==typeof requestAnimationFrame;function g(n){var t=u;\"function\"==typeof n.__c&&n.__c(),u=t}function j(n){var t=u;n.__c=n.__(),u=t}function k(n,t){return!n||n.length!==t.length||t.some(function(t,u){return t!==n[u]})}function w(n,t){return\"function\"==typeof t?t(n):t}export{l as useState,p as useReducer,y as useEffect,h as useLayoutEffect,s as useRef,_ as useImperativeHandle,d as useMemo,A as useCallback,F as useContext,T as useDebugValue,q as useErrorBoundary};\n//# sourceMappingURL=hooks.module.js.map\n","import { ComponentChild, h, JSX } from 'preact';\n\nimport Cell from '../../cell';\nimport { BaseComponent, BaseProps } from '../base';\nimport { classJoin, className } from '../../util/className';\nimport { CSSDeclaration, TColumn } from '../../types';\nimport Row from '../../row';\nimport { JSXInternal } from 'preact/src/jsx';\nimport { PluginRenderer } from '../../plugin';\n\nexport interface TDProps\n  extends BaseProps,\n    JSX.HTMLAttributes<HTMLTableCellElement> {\n  cell: Cell;\n  row?: Row;\n  column?: TColumn;\n  style?: CSSDeclaration;\n  messageCell?: boolean;\n}\n\nexport class TD extends BaseComponent<TDProps> {\n  private content(): ComponentChild {\n    if (\n      this.props.column &&\n      typeof this.props.column.formatter === 'function'\n    ) {\n      return this.props.column.formatter(\n        this.props.cell.data,\n        this.props.row,\n        this.props.column,\n      );\n    }\n\n    if (this.props.column && this.props.column.plugin) {\n      return (\n        <PluginRenderer\n          pluginId={this.props.column.id}\n          props={{\n            column: this.props.column,\n            cell: this.props.cell,\n            row: this.props.row,\n          }}\n        />\n      );\n    }\n\n    return this.props.cell.data;\n  }\n\n  private handleClick(e: JSX.TargetedMouseEvent<HTMLTableCellElement>): void {\n    if (this.props.messageCell) return;\n    this.config.eventEmitter.emit(\n      'cellClick',\n      e,\n      this.props.cell,\n      this.props.column,\n      this.props.row,\n    );\n  }\n\n  private getCustomAttributes(\n    column: TColumn | null,\n  ): JSXInternal.HTMLAttributes<HTMLTableCellElement> {\n    if (!column) return {};\n\n    if (typeof column.attributes === 'function') {\n      return column.attributes(\n        this.props.cell.data,\n        this.props.row,\n        this.props.column,\n      );\n    } else {\n      return column.attributes;\n    }\n  }\n\n  render() {\n    return (\n      <td\n        role={this.props.role}\n        colSpan={this.props.colSpan}\n        data-column-id={this.props.column && this.props.column.id}\n        className={classJoin(\n          className('td'),\n          this.props.className,\n          this.config.className.td,\n        )}\n        style={{\n          ...this.props.style,\n          ...this.config.style.td,\n        }}\n        onClick={this.handleClick.bind(this)}\n        {...this.getCustomAttributes(this.props.column)}\n      >\n        {this.content()}\n      </td>\n    );\n  }\n}\n","import { h, JSX, Fragment, ComponentChildren } from 'preact';\n\nimport Row from '../../row';\nimport Cell from '../../cell';\nimport { BaseComponent, BaseProps } from '../base';\nimport { classJoin, className } from '../../util/className';\nimport { TColumn } from '../../types';\nimport { TD } from './td';\nimport Header from '../../header';\n\nexport interface TRProps extends BaseProps {\n  row?: Row;\n  header?: Header;\n  messageRow?: boolean;\n}\n\nexport class TR extends BaseComponent<TRProps> {\n  private getColumn(cellIndex: number): TColumn {\n    if (this.props.header) {\n      const cols = Header.leafColumns(this.props.header.columns);\n\n      if (cols) {\n        return cols[cellIndex];\n      }\n    }\n\n    return null;\n  }\n\n  private handleClick(e: JSX.TargetedMouseEvent<HTMLTableRowElement>): void {\n    if (this.props.messageRow) return;\n    this.config.eventEmitter.emit('rowClick', e, this.props.row);\n  }\n\n  private getChildren(): ComponentChildren {\n    if (this.props.children) {\n      return this.props.children;\n    } else {\n      return (\n        <Fragment>\n          {this.props.row.cells.map((cell: Cell, i) => {\n            const column = this.getColumn(i);\n\n            if (column && column.hidden) return null;\n\n            return (\n              <TD\n                key={cell.id}\n                cell={cell}\n                row={this.props.row}\n                column={column}\n              />\n            );\n          })}\n        </Fragment>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <tr\n        className={classJoin(className('tr'), this.config.className.tr)}\n        onClick={this.handleClick.bind(this)}\n      >\n        {this.getChildren()}\n      </tr>\n    );\n  }\n}\n","import { h } from 'preact';\n\nimport Cell from '../../cell';\nimport { BaseComponent, BaseProps } from '../base';\nimport { classJoin, className } from '../../util/className';\nimport { TR } from './tr';\nimport { TD } from './td';\n\nexport interface MessageRowProps extends BaseProps {\n  message: string;\n  colSpan?: number;\n  className?: string;\n}\n\nexport class MessageRow extends BaseComponent<MessageRowProps> {\n  render() {\n    return (\n      <TR messageRow={true}>\n        <TD\n          role=\"alert\"\n          colSpan={this.props.colSpan}\n          messageCell={true}\n          cell={new Cell(this.props.message)}\n          className={classJoin(\n            className('message'),\n            this.props.className ? this.props.className : null,\n          )}\n        />\n      </TR>\n    );\n  }\n}\n","import { h } from 'preact';\n\nimport Row from '../../row';\nimport { TR } from './tr';\nimport Tabular from '../../tabular';\nimport { BaseComponent, BaseProps } from '../base';\nimport { classJoin, className } from '../../util/className';\nimport { Status } from '../../types';\nimport Header from '../../header';\nimport { MessageRow } from './messageRow';\n\ninterface TBodyProps extends BaseProps {\n  data: Tabular;\n  status: Status;\n  header?: Header;\n}\n\nexport class TBody extends BaseComponent<TBodyProps> {\n  private headerLength(): number {\n    if (this.props.header) {\n      return this.props.header.visibleColumns.length;\n    }\n    return 0;\n  }\n\n  render() {\n    return (\n      <tbody\n        className={classJoin(className('tbody'), this.config.className.tbody)}\n      >\n        {this.props.data &&\n          this.props.data.rows.map((row: Row) => {\n            return <TR key={row.id} row={row} header={this.props.header} />;\n          })}\n\n        {this.props.status === Status.Loading &&\n          (!this.props.data || this.props.data.length === 0) && (\n            <MessageRow\n              message={this._('loading')}\n              colSpan={this.headerLength()}\n              className={classJoin(\n                className('loading'),\n                this.config.className.loading,\n              )}\n            />\n          )}\n\n        {this.props.status === Status.Rendered &&\n          this.props.data &&\n          this.props.data.length === 0 && (\n            <MessageRow\n              message={this._('noRecordsFound')}\n              colSpan={this.headerLength()}\n              className={classJoin(\n                className('notfound'),\n                this.config.className.notfound,\n              )}\n            />\n          )}\n\n        {this.props.status === Status.Error && (\n          <MessageRow\n            message={this._('error')}\n            colSpan={this.headerLength()}\n            className={classJoin(\n              className('error'),\n              this.config.className.error,\n            )}\n          />\n        )}\n      </tbody>\n    );\n  }\n}\n","import { Comparator, TCell } from '../../types';\nimport Tabular from '../../tabular';\nimport {\n  PipelineProcessor,\n  PipelineProcessorProps,\n  ProcessorType,\n} from '../processor';\nimport Row from '../../row';\nimport log from '../../util/log';\n\ninterface NativeSortProps extends PipelineProcessorProps {\n  columns: {\n    index: number;\n    // 1 ascending, -1 descending\n    direction?: 1 | -1;\n    compare?: Comparator<TCell>;\n  }[];\n}\n\nclass NativeSort extends PipelineProcessor<Tabular, NativeSortProps> {\n  protected validateProps(): void {\n    for (const condition of this.props.columns) {\n      if (condition.direction === undefined) {\n        condition.direction = 1;\n      }\n\n      if (condition.direction !== 1 && condition.direction !== -1) {\n        log.error(`Invalid sort direction ${condition.direction}`);\n      }\n    }\n  }\n\n  get type(): ProcessorType {\n    return ProcessorType.Sort;\n  }\n\n  private compare(cellA: TCell, cellB: TCell): number {\n    if (cellA > cellB) {\n      return 1;\n    } else if (cellA < cellB) {\n      return -1;\n    }\n\n    return 0;\n  }\n\n  private compareWrapper(a: Row, b: Row): number {\n    let cmp = 0;\n\n    for (const column of this.props.columns) {\n      if (cmp === 0) {\n        const cellA = a.cells[column.index].data;\n        const cellB = b.cells[column.index].data;\n\n        if (typeof column.compare === 'function') {\n          cmp |= column.compare(cellA, cellB) * column.direction;\n        } else {\n          cmp |= this.compare(cellA, cellB) * column.direction;\n        }\n      } else {\n        break;\n      }\n    }\n\n    return cmp;\n  }\n\n  protected _process(data: Tabular): Tabular {\n    const sortedRows = [...data.rows];\n    sortedRows.sort(this.compareWrapper.bind(this));\n\n    const sorted = new Tabular(sortedRows);\n    // we have to set the tabular length manually\n    // because of the server-side storage\n    sorted.length = data.length;\n\n    return sorted;\n  }\n}\n\nexport default NativeSort;\n","import BaseStore from '../../base/store';\nimport { SortActionsType } from './actions';\nimport { Comparator, TCell } from '../../../types';\n\nexport type SortStoreState = {\n  index: number;\n  direction: 1 | -1;\n  compare?: Comparator<TCell>;\n}[];\n\nexport class SortStore extends BaseStore<SortStoreState, SortActionsType> {\n  getInitialState(): SortStoreState {\n    return [];\n  }\n\n  handle(type, payload): void {\n    if (type === 'SORT_COLUMN') {\n      const { index, direction, multi, compare } = payload;\n      this.sortColumn(index, direction, multi, compare);\n    } else if (type === 'SORT_COLUMN_TOGGLE') {\n      const { index, multi, compare } = payload;\n      this.sortToggle(index, multi, compare);\n    }\n  }\n\n  private sortToggle(\n    index: number,\n    multi: boolean,\n    compare: Comparator<TCell>,\n  ): void {\n    const columns = [...this.state];\n    const column = columns.find((x) => x.index === index);\n\n    if (!column) {\n      this.sortColumn(index, 1, multi, compare);\n    } else {\n      this.sortColumn(index, column.direction === 1 ? -1 : 1, multi, compare);\n    }\n  }\n\n  private sortColumn(\n    index: number,\n    direction: 1 | -1,\n    multi: boolean,\n    compare: Comparator<TCell>,\n  ): void {\n    let columns = [...this.state];\n    const count = columns.length;\n    const column = columns.find((x) => x.index === index);\n    const exists = column !== undefined;\n\n    let add = false;\n    let reset = false;\n    let remove = false;\n    let update = false;\n\n    if (!exists) {\n      // the column has not been sorted\n      if (count === 0) {\n        // the first column to be sorted\n        add = true;\n      } else if (count > 0 && !multi) {\n        // remove the previously sorted column\n        // and sort the current column\n        add = true;\n        reset = true;\n      } else if (count > 0 && multi) {\n        // multi-sorting\n        // sort this column as well\n        add = true;\n      }\n    } else {\n      // the column has been sorted before\n      if (!multi) {\n        // single column sorting\n        if (count === 1) {\n          update = true;\n        } else if (count > 1) {\n          // this situation happens when we have already entered\n          // multi-sorting mode but then user tries to sort a single column\n          reset = true;\n          add = true;\n        }\n      } else {\n        // multi sorting\n        if (column.direction === -1) {\n          // remove the current column from the\n          // sorted columns array\n          remove = true;\n        } else {\n          update = true;\n        }\n      }\n    }\n\n    if (reset) {\n      // resetting the sorted columns\n      columns = [];\n    }\n\n    if (add) {\n      columns.push({\n        index: index,\n        direction: direction,\n        compare: compare,\n      });\n    } else if (update) {\n      const index = columns.indexOf(column);\n      columns[index].direction = direction;\n    } else if (remove) {\n      const index = columns.indexOf(column);\n      columns.splice(index, 1);\n    }\n\n    this.setState(columns);\n  }\n}\n","import { BaseActions } from '../../base/actions';\nimport { Comparator, TCell } from '../../../types';\n\nexport interface SortActionsType {\n  SORT_COLUMN: {\n    index: number;\n    direction: 1 | -1;\n    multi?: boolean;\n    compare?: Comparator<TCell>;\n  };\n\n  SORT_COLUMN_TOGGLE: {\n    index: number;\n    multi?: boolean;\n    compare?: Comparator<TCell>;\n  };\n}\n\nexport class SortActions extends BaseActions<SortActionsType> {\n  sortColumn(\n    index: number,\n    direction: 1 | -1,\n    multi?: boolean,\n    compare?: Comparator<TCell>,\n  ): void {\n    this.dispatch('SORT_COLUMN', {\n      index: index,\n      direction: direction,\n      multi: multi,\n      compare: compare,\n    });\n  }\n\n  sortToggle(\n    index: number,\n    multi?: boolean,\n    compare?: Comparator<TCell>,\n  ): void {\n    this.dispatch('SORT_COLUMN_TOGGLE', {\n      index: index,\n      multi: multi,\n      compare: compare,\n    });\n  }\n}\n","import {\n  PipelineProcessor,\n  PipelineProcessorProps,\n  ProcessorType,\n} from '../processor';\nimport { ServerStorageOptions } from '../../storage/server';\nimport { TColumnSort } from '../../types';\n\ninterface ServerSortProps extends PipelineProcessorProps {\n  columns: TColumnSort[];\n  url?: (prevUrl: string, columns: TColumnSort[]) => string;\n  body?: (prevBody: BodyInit, columns: TColumnSort[]) => BodyInit;\n}\n\nclass ServerSort extends PipelineProcessor<\n  ServerStorageOptions,\n  ServerSortProps\n> {\n  get type(): ProcessorType {\n    return ProcessorType.ServerSort;\n  }\n\n  _process(options?: ServerStorageOptions): ServerStorageOptions {\n    const updates = {};\n\n    if (this.props.url) {\n      updates['url'] = this.props.url(options.url, this.props.columns);\n    }\n\n    if (this.props.body) {\n      updates['body'] = this.props.body(options.body, this.props.columns);\n    }\n\n    return {\n      ...options,\n      ...updates,\n    };\n  }\n}\n\nexport default ServerSort;\n","import { h, JSX } from 'preact';\n\nimport { BaseComponent, BaseProps } from '../../base';\nimport { classJoin, className } from '../../../util/className';\nimport { ProcessorType } from '../../../pipeline/processor';\nimport NativeSort from '../../../pipeline/sort/native';\nimport { SortStore, SortStoreState } from './store';\nimport { Comparator, TCell, TColumnSort } from '../../../types';\nimport { SortActions } from './actions';\nimport ServerSort from '../../../pipeline/sort/server';\n\n// column specific config\nexport interface SortConfig {\n  enabled?: boolean;\n  compare?: Comparator<TCell>;\n}\n\n// generic sort config:\n//\n// Config {\n//    sort: GenericSortConfig\n// }\n//\nexport interface GenericSortConfig {\n  multiColumn?: boolean;\n  server?: {\n    url?: (prevUrl: string, columns: TColumnSort[]) => string;\n    body?: (prevBody: BodyInit, columns: TColumnSort[]) => BodyInit;\n  };\n}\n\nexport interface SortProps extends BaseProps {\n  // column index\n  index: number;\n}\n\ninterface SortState {\n  direction: 1 | -1 | 0;\n}\n\nexport class Sort extends BaseComponent<SortProps & SortConfig, SortState> {\n  private readonly sortProcessor: NativeSort | ServerSort;\n  private readonly actions: SortActions;\n  private readonly store: SortStore;\n  private readonly updateStateFn: (...args) => void;\n  private updateSortProcessorFn: (sortedColumns: SortStoreState) => void;\n\n  constructor(props: SortProps & SortConfig, context) {\n    super(props, context);\n\n    this.actions = new SortActions(this.config.dispatcher);\n    this.store = new SortStore(this.config.dispatcher);\n\n    if (props.enabled) {\n      this.sortProcessor = this.getOrCreateSortProcessor();\n      this.updateStateFn = this.updateState.bind(this);\n      this.store.on('updated', this.updateStateFn);\n      this.state = { direction: 0 };\n    }\n  }\n\n  componentWillUnmount(): void {\n    this.config.pipeline.unregister(this.sortProcessor);\n\n    this.store.off('updated', this.updateStateFn);\n    if (this.updateSortProcessorFn)\n      this.store.off('updated', this.updateSortProcessorFn);\n  }\n\n  /**\n   * Sets the internal state of component\n   */\n  private updateState(): void {\n    const currentColumn = this.store.state.find(\n      (x) => x.index === this.props.index,\n    );\n\n    if (!currentColumn) {\n      this.setState({\n        direction: 0,\n      });\n    } else {\n      this.setState({\n        direction: currentColumn.direction,\n      });\n    }\n  }\n\n  private updateSortProcessor(sortedColumns: SortStoreState) {\n    // updates the Sorting processor\n    this.sortProcessor.setProps({\n      columns: sortedColumns,\n    });\n  }\n\n  private getOrCreateSortProcessor(): NativeSort {\n    let processorType = ProcessorType.Sort;\n\n    if (this.config.sort && typeof this.config.sort.server === 'object') {\n      processorType = ProcessorType.ServerSort;\n    }\n\n    const processors = this.config.pipeline.getStepsByType(processorType);\n\n    // my assumption is that we only have ONE sorting processor in the\n    // entire pipeline and that's why I'm displaying a warning here\n    let processor;\n\n    // A sort process is already registered\n    if (processors.length > 0) {\n      processor = processors[0];\n    } else {\n      // let's create a new sort processor\n\n      // this event listener is here because\n      // we want to subscribe to the sort store only once\n      this.updateSortProcessorFn = this.updateSortProcessor.bind(this);\n      this.store.on('updated', this.updateSortProcessorFn);\n\n      if (processorType === ProcessorType.ServerSort) {\n        processor = new ServerSort({\n          columns: this.store.state,\n          ...this.config.sort.server,\n        });\n      } else {\n        processor = new NativeSort({\n          columns: this.store.state,\n        });\n      }\n\n      this.config.pipeline.register(processor);\n    }\n\n    return processor;\n  }\n\n  changeDirection(e: JSX.TargetedMouseEvent<HTMLButtonElement>): void {\n    e.preventDefault();\n    e.stopPropagation();\n\n    // to sort two or more columns at the same time\n    this.actions.sortToggle(\n      this.props.index,\n      e.shiftKey === true && this.config.sort.multiColumn,\n      this.props.compare,\n    );\n  }\n\n  render() {\n    if (!this.props.enabled) {\n      return null;\n    }\n\n    const direction = this.state.direction;\n    let sortClassName = 'neutral';\n\n    if (direction === 1) {\n      sortClassName = 'asc';\n    } else if (direction === -1) {\n      sortClassName = 'desc';\n    }\n\n    return (\n      <button\n        // because the corresponding <th> has tabIndex=0\n        tabIndex={-1}\n        aria-label={this._(`sort.sort${direction === 1 ? 'Desc' : 'Asc'}`)}\n        title={this._(`sort.sort${direction === 1 ? 'Desc' : 'Asc'}`)}\n        className={classJoin(\n          className('sort'),\n          className('sort', sortClassName),\n          this.config.className.sort,\n        )}\n        onClick={this.changeDirection.bind(this)}\n      />\n    );\n  }\n}\n","import { h, RefObject } from 'preact';\nimport { classJoin, className } from '../../../util/className';\nimport { BaseComponent } from '../../base';\nimport { TColumn } from '../../../types';\nimport { TH } from '../../table/th';\nimport { throttle } from '../../../util/throttle';\n\ntype ResizeProps = {\n  column: TColumn;\n  thRef: RefObject<TH>;\n};\n\ntype ResizeState = {\n  width: string;\n  offsetStart: number;\n};\n\nexport class Resize extends BaseComponent<ResizeProps, ResizeState> {\n  private moveFn: (e) => void;\n  private upFn: (e) => void;\n\n  private getPageX(e: MouseEvent | TouchEvent): number {\n    if (e instanceof MouseEvent) {\n      return Math.floor(e.pageX);\n    } else {\n      return Math.floor(e.changedTouches[0].pageX);\n    }\n  }\n\n  private start(e: MouseEvent | TouchEvent): void {\n    e.stopPropagation();\n\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    const thElement: HTMLElement = this.props.thRef.current;\n\n    this.setState({\n      offsetStart: parseInt(thElement.style.width, 10) - this.getPageX(e),\n    });\n\n    this.upFn = this.end.bind(this);\n    this.moveFn = throttle(this.move.bind(this), 10);\n\n    document.addEventListener('mouseup', this.upFn);\n    document.addEventListener('touchend', this.upFn);\n    document.addEventListener('mousemove', this.moveFn);\n    document.addEventListener('touchmove', this.moveFn);\n  }\n\n  private move(e: MouseEvent | TouchEvent): void {\n    e.stopPropagation();\n\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    const thElement: HTMLElement = this.props.thRef.current;\n\n    if (\n      this.state.offsetStart + this.getPageX(e) >=\n      parseInt(thElement.style.minWidth, 10)\n    ) {\n      thElement.style.width = `${this.state.offsetStart + this.getPageX(e)}px`;\n    }\n  }\n\n  private end(e: MouseEvent | TouchEvent): void {\n    e.stopPropagation();\n\n    document.removeEventListener('mouseup', this.upFn);\n    document.removeEventListener('mousemove', this.moveFn);\n    document.removeEventListener('touchmove', this.moveFn);\n    document.removeEventListener('touchend', this.upFn);\n  }\n\n  render() {\n    return (\n      <div\n        className={classJoin(className('th'), className('resizable'))}\n        onMouseDown={this.start.bind(this)}\n        onTouchStart={this.start.bind(this)}\n        onClick={(e) => e.stopPropagation()}\n      />\n    );\n  }\n}\n","export const throttle = (fn: (...args) => void, wait = 100) => {\n  let inThrottle: boolean;\n  let lastFn: ReturnType<typeof setTimeout>;\n  let lastTime: number;\n\n  return (...args) => {\n    if (!inThrottle) {\n      fn(...args);\n      lastTime = Date.now();\n      inThrottle = true;\n    } else {\n      clearTimeout(lastFn);\n      lastFn = setTimeout(() => {\n        if (Date.now() - lastTime >= wait) {\n          fn(...args);\n          lastTime = Date.now();\n        }\n      }, Math.max(wait - (Date.now() - lastTime), 0));\n    }\n  };\n};\n","import { ComponentChild, createRef, h, JSX } from 'preact';\n\nimport { BaseComponent, BaseProps } from '../base';\nimport { classJoin, className } from '../../util/className';\nimport { CSSDeclaration, TColumn } from '../../types';\nimport { Sort } from '../plugin/sort/sort';\nimport { PluginRenderer } from '../../plugin';\nimport { JSXInternal } from 'preact/src/jsx';\nimport { Resize } from '../plugin/resize/resize';\n\nexport interface THProps\n  extends BaseProps,\n    JSX.HTMLAttributes<HTMLTableCellElement> {\n  index: number;\n  column: TColumn;\n  style?: CSSDeclaration;\n}\n\nexport interface THState {\n  style: CSSDeclaration;\n}\n\nexport class TH extends BaseComponent<THProps, THState> {\n  private sortRef = createRef();\n  private thRef = createRef();\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      style: {},\n    };\n  }\n\n  private isSortable(): boolean {\n    return this.props.column.sort.enabled;\n  }\n\n  private isResizable(): boolean {\n    return this.props.column.resizable;\n  }\n\n  private onClick(e: JSX.TargetedMouseEvent<HTMLInputElement>): void {\n    e.stopPropagation();\n\n    if (this.isSortable()) {\n      this.sortRef.current.changeDirection(e);\n    }\n  }\n\n  private keyDown(e: JSX.TargetedMouseEvent<HTMLInputElement>): void {\n    if (this.isSortable() && e.which === 13) {\n      this.onClick(e);\n    }\n  }\n\n  componentDidMount(): void {\n    setTimeout(() => {\n      // sets the `top` style if the current TH is fixed\n      if (this.props.column.fixedHeader && this.thRef.current) {\n        const offsetTop = this.thRef.current.offsetTop;\n\n        if (typeof offsetTop === 'number') {\n          this.setState({\n            style: {\n              top: offsetTop,\n            },\n          });\n        }\n      }\n    }, 0);\n  }\n\n  private content(): ComponentChild {\n    if (this.props.column.name !== undefined) {\n      return this.props.column.name;\n    }\n\n    if (this.props.column.plugin !== undefined) {\n      return (\n        <PluginRenderer\n          pluginId={this.props.column.plugin.id}\n          props={{\n            column: this.props.column,\n          }}\n        />\n      );\n    }\n\n    return null;\n  }\n\n  private getCustomAttributes(): JSXInternal.HTMLAttributes<HTMLTableCellElement> {\n    const column = this.props.column;\n\n    if (!column) return {};\n\n    if (typeof column.attributes === 'function') {\n      return column.attributes(null, null, this.props.column);\n    } else {\n      return column.attributes;\n    }\n  }\n\n  render() {\n    const props = {};\n\n    if (this.isSortable()) {\n      props['tabIndex'] = 0;\n    }\n\n    return (\n      <th\n        ref={this.thRef}\n        data-column-id={this.props.column && this.props.column.id}\n        className={classJoin(\n          className('th'),\n          this.isSortable() ? className('th', 'sort') : null,\n          this.props.column.fixedHeader ? className('th', 'fixed') : null,\n          this.config.className.th,\n        )}\n        onClick={this.onClick.bind(this)}\n        style={{\n          ...this.config.style.th,\n          ...{\n            minWidth: this.props.column.minWidth,\n            width: this.props.column.width,\n          },\n          ...this.state.style,\n          ...this.props.style,\n        }}\n        onKeyDown={this.keyDown.bind(this)}\n        rowSpan={this.props.rowSpan > 1 ? this.props.rowSpan : undefined}\n        colSpan={this.props.colSpan > 1 ? this.props.colSpan : undefined}\n        {...this.getCustomAttributes()}\n        {...props}\n      >\n        <div className={className('th', 'content')}>{this.content()}</div>\n        {this.isSortable() && (\n          <Sort\n            ref={this.sortRef}\n            index={this.props.index}\n            {...this.props.column.sort}\n          />\n        )}\n        {this.isResizable() &&\n          this.props.index < this.config.header.visibleColumns.length - 1 && (\n            <Resize column={this.props.column} thRef={this.thRef} />\n          )}\n      </th>\n    );\n  }\n}\n","import { ComponentChild, h } from 'preact';\n\nimport { TR } from './tr';\nimport { BaseComponent, BaseProps } from '../base';\nimport { TH } from './th';\nimport { classJoin, className } from '../../util/className';\nimport Header from '../../header';\nimport { TColumn } from '../../types';\nimport { calculateRowColSpans } from '../../util/table';\n\ninterface THeadProps extends BaseProps {\n  header: Header;\n}\n\nexport class THead extends BaseComponent<THeadProps> {\n  private renderColumn(\n    column: TColumn,\n    rowIndex: number,\n    columnIndex: number,\n    totalRows: number,\n  ): ComponentChild {\n    const { rowSpan, colSpan } = calculateRowColSpans(\n      column,\n      rowIndex,\n      totalRows,\n    );\n\n    return (\n      <TH\n        column={column}\n        index={columnIndex}\n        colSpan={colSpan}\n        rowSpan={rowSpan}\n      />\n    );\n  }\n\n  private renderRow(\n    row: TColumn[],\n    rowIndex: number,\n    totalRows: number,\n  ): ComponentChild {\n    // because the only sortable columns are leaf columns (not parents)\n    const leafColumns = Header.leafColumns(this.props.header.columns);\n\n    return (\n      <TR>\n        {row.map((col) => {\n          if (col.hidden) return null;\n\n          return this.renderColumn(\n            col,\n            rowIndex,\n            leafColumns.indexOf(col),\n            totalRows,\n          );\n        })}\n      </TR>\n    );\n  }\n\n  private renderRows(): ComponentChild {\n    const rows = Header.tabularFormat(this.props.header.columns);\n\n    return rows.map((row, rowIndex) =>\n      this.renderRow(row, rowIndex, rows.length),\n    );\n  }\n\n  render() {\n    if (this.props.header) {\n      return (\n        <thead\n          key={this.props.header.id}\n          className={classJoin(className('thead'), this.config.className.thead)}\n        >\n          {this.renderRows()}\n        </thead>\n      );\n    }\n\n    return null;\n  }\n}\n","import { TColumn } from '../types';\nimport Header from '../header';\n\nexport function calculateRowColSpans(\n  column: TColumn,\n  rowIndex: number,\n  totalRows: number,\n): { rowSpan: number; colSpan: number } {\n  const depth = Header.maximumDepth(column);\n  const remainingRows = totalRows - rowIndex;\n  const rowSpan = Math.floor(remainingRows - depth - depth / remainingRows);\n  const colSpan = (column.columns && column.columns.length) || 1;\n\n  return {\n    rowSpan: rowSpan,\n    colSpan: colSpan,\n  };\n}\n","import { h } from 'preact';\n\nimport Tabular from '../../tabular';\nimport { TBody } from './tbody';\nimport { THead } from './thead';\nimport { BaseComponent, BaseProps } from '../base';\nimport Header from '../../header';\nimport { classJoin, className } from '../../util/className';\nimport { Status } from '../../types';\n\ninterface TableProps extends BaseProps {\n  data: Tabular;\n  status: Status;\n  header?: Header;\n  width: string;\n  height: string;\n}\n\nexport class Table extends BaseComponent<TableProps> {\n  render() {\n    return (\n      <table\n        role=\"grid\"\n        className={classJoin(className('table'), this.config.className.table)}\n        style={{\n          ...this.config.style.table,\n          ...{\n            height: this.props.height,\n          },\n        }}\n      >\n        <THead header={this.props.header} />\n        <TBody\n          data={this.props.data}\n          status={this.props.status}\n          header={this.props.header}\n        />\n      </table>\n    );\n  }\n}\n","import { createRef, h } from 'preact';\n\nimport { BaseComponent } from './base';\nimport { classJoin, className } from '../util/className';\nimport { PluginPosition, PluginRenderer } from '../plugin';\n\ninterface HeaderContainerState {\n  isActive: boolean;\n}\n\nexport class HeaderContainer extends BaseComponent<\n  Record<string, any>,\n  HeaderContainerState\n> {\n  private headerRef = createRef();\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      isActive: true,\n    };\n  }\n\n  componentDidMount() {\n    if (this.headerRef.current.children.length === 0) {\n      this.setState({\n        isActive: false,\n      });\n    }\n  }\n\n  render() {\n    if (this.state.isActive) {\n      return (\n        <div\n          ref={this.headerRef}\n          className={classJoin(className('head'), this.config.className.header)}\n          style={{ ...this.config.style.header }}\n        >\n          <PluginRenderer position={PluginPosition.Header} />\n        </div>\n      );\n    }\n\n    return null;\n  }\n}\n","import { createRef, h } from 'preact';\n\nimport { BaseComponent } from './base';\nimport { classJoin, className } from '../util/className';\nimport { PluginPosition, PluginRenderer } from '../plugin';\n\ninterface FooterContainerState {\n  isActive: boolean;\n}\n\nexport class FooterContainer extends BaseComponent<\n  Record<string, any>,\n  FooterContainerState\n> {\n  private footerRef = createRef();\n\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      isActive: true,\n    };\n  }\n\n  componentDidMount() {\n    if (this.footerRef.current.children.length === 0) {\n      this.setState({\n        isActive: false,\n      });\n    }\n  }\n\n  render() {\n    if (this.state.isActive) {\n      return (\n        <div\n          ref={this.footerRef}\n          className={classJoin(\n            className('footer'),\n            this.config.className.footer,\n          )}\n          style={{ ...this.config.style.footer }}\n        >\n          <PluginRenderer position={PluginPosition.Footer} />\n        </div>\n      );\n    }\n\n    return null;\n  }\n}\n","import { h, createContext, Context } from 'preact';\n\nimport Tabular from '../tabular';\nimport { BaseComponent, BaseProps } from './base';\nimport { classJoin, className } from '../util/className';\nimport { Status } from '../types';\nimport { Table } from './table/table';\nimport { HeaderContainer } from './headerContainer';\nimport { FooterContainer } from './footerContainer';\nimport Pipeline from '../pipeline/pipeline';\nimport Header from '../header';\nimport { Config } from '../config';\nimport log from '../util/log';\nimport { PipelineProcessor } from '../pipeline/processor';\n\ninterface ContainerProps extends BaseProps {\n  config: Config;\n  pipeline: Pipeline<Tabular>;\n  header?: Header;\n  width: string;\n  height: string;\n}\n\ninterface ContainerState {\n  status: Status;\n  header?: Header;\n  data?: Tabular;\n}\n\nexport class Container extends BaseComponent<ContainerProps, ContainerState> {\n  private readonly configContext: Context<Config>;\n  private processPipelineFn: (processor: PipelineProcessor<any, any>) => void;\n\n  constructor(props, context) {\n    super(props, context);\n\n    // global Config context which is passed to all components\n    this.configContext = createContext(null);\n\n    this.state = {\n      status: Status.Loading,\n      header: props.header,\n      data: null,\n    };\n  }\n\n  private async processPipeline() {\n    this.props.config.eventEmitter.emit('beforeLoad');\n\n    this.setState({\n      status: Status.Loading,\n    });\n\n    try {\n      const data = await this.props.pipeline.process();\n      this.setState({\n        data: data,\n        status: Status.Loaded,\n      });\n\n      this.props.config.eventEmitter.emit('load', data);\n    } catch (e) {\n      log.error(e);\n\n      this.setState({\n        status: Status.Error,\n        data: null,\n      });\n    }\n  }\n\n  async componentDidMount() {\n    const config = this.props.config;\n\n    // for the initial load\n    await this.processPipeline();\n\n    if (config.header && this.state.data && this.state.data.length) {\n      // now that we have the data, let's adjust columns width\n      // NOTE: that we only calculate the columns width once\n      this.setState({\n        header: config.header.adjustWidth(config),\n      });\n    }\n\n    this.processPipelineFn = this.processPipeline.bind(this);\n    this.props.pipeline.on('updated', this.processPipelineFn);\n  }\n\n  componentWillUnmount(): void {\n    this.props.pipeline.off('updated', this.processPipelineFn);\n  }\n\n  componentDidUpdate(\n    _: Readonly<ContainerProps>,\n    previousState: Readonly<ContainerState>,\n  ): void {\n    // we can't jump to the Status.Rendered if previous status is not Status.Loaded\n    if (\n      previousState.status != Status.Rendered &&\n      this.state.status == Status.Loaded\n    ) {\n      this.setState({\n        status: Status.Rendered,\n      });\n\n      this.props.config.eventEmitter.emit('ready');\n    }\n  }\n\n  render() {\n    const configContext = this.configContext;\n\n    return (\n      <configContext.Provider value={this.props.config}>\n        <div\n          role=\"complementary\"\n          className={classJoin(\n            'gridjs',\n            className('container'),\n            this.state.status === Status.Loading ? className('loading') : null,\n            this.props.config.className.container,\n          )}\n          style={{\n            ...this.props.config.style.container,\n            ...{\n              width: this.props.width,\n            },\n          }}\n        >\n          {this.state.status === Status.Loading && (\n            <div className={className('loading-bar')} />\n          )}\n\n          <HeaderContainer />\n\n          <div\n            className={className('wrapper')}\n            style={{ height: this.props.height }}\n          >\n            <Table\n              ref={this.props.config.tableRef}\n              data={this.state.data}\n              header={this.state.header}\n              width={this.props.width}\n              height={this.props.height}\n              status={this.state.status}\n            />\n          </div>\n\n          <FooterContainer />\n\n          <div\n            ref={this.props.config.tempRef}\n            id=\"gridjs-temp\"\n            className={className('temp')}\n          />\n        </div>\n      </configContext.Provider>\n    );\n  }\n}\n","import { Config, UserConfig } from './config';\nimport { h, render, VNode } from 'preact';\nimport { Container } from './view/container';\nimport log from './util/log';\nimport { EventEmitter } from './util/eventEmitter';\nimport { GridEvents } from './events';\nimport { PluginManager } from './plugin';\n\nclass Grid extends EventEmitter<GridEvents> {\n  public config: Config;\n  public plugin: PluginManager;\n\n  constructor(userConfig?: UserConfig) {\n    super();\n    this.config = new Config({ instance: this, eventEmitter: this }).update(\n      userConfig,\n    );\n    this.plugin = this.config.plugin;\n  }\n\n  public updateConfig(userConfig: Partial<UserConfig>): this {\n    this.config.update(userConfig);\n    return this;\n  }\n\n  createElement(): VNode {\n    return h(Container, {\n      config: this.config,\n      pipeline: this.config.pipeline,\n      header: this.config.header,\n      width: this.config.width,\n      height: this.config.height,\n    });\n  }\n\n  /**\n   * Uses the existing container and tries to clear the cache\n   * and re-render the existing Grid.js instance again. This is\n   * useful when a new config is set/updated.\n   *\n   */\n  forceRender(): this {\n    if (!this.config || !this.config.container) {\n      log.error(\n        'Container is empty. Make sure you call render() before forceRender()',\n        true,\n      );\n    }\n\n    // clear the pipeline cache\n    this.config.pipeline.clearCache();\n\n    // TODO: not sure if it's a good idea to render a null element but I couldn't find a better way\n    render(null, this.config.container);\n    render(this.createElement(), this.config.container);\n\n    return this;\n  }\n\n  /**\n   * Mounts the Grid.js instance to the container\n   * and renders the instance\n   *\n   * @param container\n   */\n  render(container: Element): this {\n    if (!container) {\n      log.error('Container element cannot be null', true);\n    }\n\n    if (container.childNodes.length > 0) {\n      log.error(\n        `The container element ${container} is not empty. Make sure the container is empty and call render() again`,\n      );\n      return this;\n    }\n\n    this.config.container = container;\n    render(this.createElement(), container);\n\n    return this;\n  }\n}\n\nexport default Grid;\n"]},"metadata":{},"sourceType":"module"}